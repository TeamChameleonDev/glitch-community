/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/ 		var executeModules = data[2];
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 		// add entry modules from loaded chunk to deferred list
/******/ 		deferredModules.push.apply(deferredModules, executeModules || []);
/******/
/******/ 		// run deferred modules when all chunks ready
/******/ 		return checkDeferredModules();
/******/ 	};
/******/ 	function checkDeferredModules() {
/******/ 		var result;
/******/ 		for(var i = 0; i < deferredModules.length; i++) {
/******/ 			var deferredModule = deferredModules[i];
/******/ 			var fulfilled = true;
/******/ 			for(var j = 1; j < deferredModule.length; j++) {
/******/ 				var depId = deferredModule[j];
/******/ 				if(installedChunks[depId] !== 0) fulfilled = false;
/******/ 			}
/******/ 			if(fulfilled) {
/******/ 				deferredModules.splice(i--, 1);
/******/ 				result = __webpack_require__(__webpack_require__.s = deferredModule[0]);
/******/ 			}
/******/ 		}
/******/ 		return result;
/******/ 	}
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"client": 0
/******/ 	};
/******/
/******/ 	var deferredModules = [];
/******/
/******/ 	// script path function
/******/ 	function jsonpScriptSrc(chunkId) {
/******/ 		return __webpack_require__.p + "" + ({"c3-bundle":"c3-bundle"}[chunkId]||chunkId) + ".js?" + {"c3-bundle":"51fb3bd29bf0615226cb"}[chunkId] + ""
/******/ 	}
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId) {
/******/ 		var promises = [];
/******/
/******/
/******/ 		// JSONP chunk loading for javascript
/******/
/******/ 		var installedChunkData = installedChunks[chunkId];
/******/ 		if(installedChunkData !== 0) { // 0 means "already installed".
/******/
/******/ 			// a Promise means "currently loading".
/******/ 			if(installedChunkData) {
/******/ 				promises.push(installedChunkData[2]);
/******/ 			} else {
/******/ 				// setup Promise in chunk cache
/******/ 				var promise = new Promise(function(resolve, reject) {
/******/ 					installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 				});
/******/ 				promises.push(installedChunkData[2] = promise);
/******/
/******/ 				// start chunk loading
/******/ 				var script = document.createElement('script');
/******/ 				var onScriptComplete;
/******/
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.src = jsonpScriptSrc(chunkId);
/******/
/******/ 				onScriptComplete = function (event) {
/******/ 					// avoid mem leaks in IE.
/******/ 					script.onerror = script.onload = null;
/******/ 					clearTimeout(timeout);
/******/ 					var chunk = installedChunks[chunkId];
/******/ 					if(chunk !== 0) {
/******/ 						if(chunk) {
/******/ 							var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 							var realSrc = event && event.target && event.target.src;
/******/ 							var error = new Error('Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')');
/******/ 							error.type = errorType;
/******/ 							error.request = realSrc;
/******/ 							chunk[1](error);
/******/ 						}
/******/ 						installedChunks[chunkId] = undefined;
/******/ 					}
/******/ 				};
/******/ 				var timeout = setTimeout(function(){
/******/ 					onScriptComplete({ type: 'timeout', target: script });
/******/ 				}, 120000);
/******/ 				script.onerror = script.onload = onScriptComplete;
/******/ 				document.head.appendChild(script);
/******/ 			}
/******/ 		}
/******/ 		return Promise.all(promises);
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// add entry module to deferred list
/******/ 	deferredModules.push(["./src/client.jsx","react","curated","dependencies"]);
/******/ 	// run deferred modules when ready
/******/ 	return checkDeferredModules();
/******/ })
/************************************************************************/
/******/ ({

/***/ "./shared/dayjs-convert.js":
/*!*********************************!*\
  !*** ./shared/dayjs-convert.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function convertPlugin(option, dayjsClass, dayjsFactory) {
  dayjsFactory.convert = function (amount, from, to) {
    var now = dayjsFactory();
    return now.add(amount, from).diff(now, to);
  };
};

/***/ }),

/***/ "./src/app.jsx":
/*!*********************!*\
  !*** ./src/app.jsx ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-router-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-router-dom/4.3.1/node_modules/react-router-dom/es/index.js");
/* harmony import */ var _presenters_includes_error_boundary_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./presenters/includes/error-boundary.jsx */ "./src/presenters/includes/error-boundary.jsx");
/* harmony import */ var _presenters_analytics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./presenters/analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _presenters_current_user_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./presenters/current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _presenters_includes_user_prefs_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./presenters/includes/user-prefs.jsx */ "./src/presenters/includes/user-prefs.jsx");
/* harmony import */ var _presenters_includes_dev_toggles_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./presenters/includes/dev-toggles.jsx */ "./src/presenters/includes/dev-toggles.jsx");
/* harmony import */ var _presenters_notifications_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./presenters/notifications.jsx */ "./src/presenters/notifications.jsx");
/* harmony import */ var _presenters_pages_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./presenters/pages/router */ "./src/presenters/pages/router.jsx");










var App = function App() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_presenters_includes_error_boundary_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
    fallback: "Something went very wrong, try refreshing?"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_1__["BrowserRouter"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_presenters_notifications_jsx__WEBPACK_IMPORTED_MODULE_7__["Notifications"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_presenters_includes_user_prefs_jsx__WEBPACK_IMPORTED_MODULE_5__["UserPrefsProvider"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_presenters_includes_dev_toggles_jsx__WEBPACK_IMPORTED_MODULE_6__["DevTogglesProvider"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_presenters_analytics__WEBPACK_IMPORTED_MODULE_3__["AnalyticsContext"], {
    context: {
      groupId: '0'
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_presenters_current_user_jsx__WEBPACK_IMPORTED_MODULE_4__["CurrentUserProvider"], null, function (api) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_presenters_pages_router__WEBPACK_IMPORTED_MODULE_8__["default"], {
      api: api
    });
  })))))));
};

/* harmony default export */ __webpack_exports__["default"] = (App);

/***/ }),

/***/ "./src/client.jsx":
/*!************************!*\
  !*** ./src/client.jsx ***!
  \************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.regexp.replace */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.replace.js");
/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _utils_sentry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/sentry */ "./src/utils/sentry.js");
/* harmony import */ var _polyfills_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./polyfills.js */ "./src/polyfills.js");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! dayjs */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/dayjs/1.8.0/node_modules/dayjs/dayjs.min.js");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var dayjs_plugin_relativeTime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs/plugin/relativeTime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/dayjs/1.8.0/node_modules/dayjs/plugin/relativeTime.js");
/* harmony import */ var dayjs_plugin_relativeTime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs_plugin_relativeTime__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _shared_dayjs_convert__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../shared/dayjs-convert */ "./shared/dayjs-convert.js");
/* harmony import */ var _shared_dayjs_convert__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_shared_dayjs_convert__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-dom/16.6.3/node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _app_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./app.jsx */ "./src/app.jsx");


/* globals EDITOR_URL */
// Import Sentry early to help it initialize.

 // Init our dayjs plugins



dayjs__WEBPACK_IMPORTED_MODULE_3___default.a.extend(dayjs_plugin_relativeTime__WEBPACK_IMPORTED_MODULE_4___default.a);

dayjs__WEBPACK_IMPORTED_MODULE_3___default.a.extend(_shared_dayjs_convert__WEBPACK_IMPORTED_MODULE_5___default.a);


 // This function is used in index.ejs to set up the app

window.bootstrap = function () {
  if (location.hash.startsWith("#!/")) {
    window.location.replace(EDITOR_URL + window.location.hash);
    return;
  } // Mark that bootstrapping has occurred,
  // ..and more importantly, use this as an excuse
  // to call into Sentry so that its initialization
  // happens early in our JS bundle.


  Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_1__["configureScope"])(function (scope) {
    scope.setTag("bootstrap", "true");
  });
  var dom = document.createElement('div');
  document.body.appendChild(dom);
  Object(react_dom__WEBPACK_IMPORTED_MODULE_7__["render"])(react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_app_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], null), dom);
};

/***/ }),

/***/ "./src/models/collection.js":
/*!**********************************!*\
  !*** ./src/models/collection.js ***!
  \**********************************/
/*! exports provided: FALLBACK_AVATAR_URL, defaultAvatar, getContrastTextColor, hexToRgbA, getAvatarUrl, getOwnerLink, getLink, defaultAvatarSVG */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FALLBACK_AVATAR_URL", function() { return FALLBACK_AVATAR_URL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultAvatar", function() { return defaultAvatar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getContrastTextColor", function() { return getContrastTextColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "hexToRgbA", function() { return hexToRgbA; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAvatarUrl", function() { return getAvatarUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getOwnerLink", function() { return getOwnerLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLink", function() { return getLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultAvatarSVG", function() { return defaultAvatarSVG; });
/* harmony import */ var core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.regexp.split */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.split.js");
/* harmony import */ var core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _team__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./team */ "./src/models/team.js");
/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./user */ "./src/models/user.js");


/* global CDN_URL */


var FALLBACK_AVATAR_URL = "https://cdn.glitch.com/1afc1ac4-170b-48af-b596-78fe15838ad3%2Fcollection-avatar.svg?1541449590339";
var defaultAvatar = "https://cdn.glitch.com/1afc1ac4-170b-48af-b596-78fe15838ad3%2Fcollection-avatar.svg?1540389405633"; // from http://dannyruchtie.com/color-contrast-calculator-with-yiq/

var getContrastTextColor = function getContrastTextColor(hex) {
  if (hex) {
    hex = hex.substring(1);
    var r = parseInt(hex.substr(0, 2), 16);
    var g = parseInt(hex.substr(2, 2), 16);
    var b = parseInt(hex.substr(4, 2), 16);
    var yiq = (r * 299 + g * 587 + b * 114) / 1000;
    return yiq >= 128 ? 'black' : 'white';
  }

  return 'black';
}; // from https://stackoverflow.com/a/21648508/1720985

var hexToRgbA = function hexToRgbA(hex) {
  if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {
    var c = hex.substring(1).split('');

    if (c.length == 3) {
      c = [c[0], c[0], c[1], c[1], c[2], c[2]];
    }

    c = '0x' + c.join('');
    return 'rgba(' + [c >> 16 & 255, c >> 8 & 255, c & 255].join(',') + ',0.5)';
  }

  return false;
};
function getAvatarUrl(id) {
  return `${CDN_URL}/collection-avatar/${id}.png`;
}
function getOwnerLink(collection) {
  if (collection.team) {
    return Object(_team__WEBPACK_IMPORTED_MODULE_1__["getLink"])(collection.team);
  }

  if (collection.user) {
    return Object(_user__WEBPACK_IMPORTED_MODULE_2__["getLink"])(collection.user);
  }

  throw new Error('This collection has no team or user field!');
}
function getLink(collection) {
  return `${getOwnerLink(collection)}/${collection.url}`;
} // Circular dependencies must go below module.exports
// eventually want to handle whether the collection belongs to a team or a user

var defaultAvatarSVG = `<?xml version="1.0" encoding="UTF-8"?>
<svg width="159px" height="147px" viewBox="0 0 159 147" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><!-- Generator: Sketch 52.3 (67297) - http://www.bohemiancoding.com/sketch --><title>collection-avatar</title><desc>Created with Sketch.</desc><defs><polygon id="path-1" points="0 0 159 0 159 132 0 132"></polygon><polygon id="path-3" points="0 0 124 0 124 102 0 102"></polygon></defs><g id="collection-avatar" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><polygon id="frame" fill="#FFFB98" points="0 147 159 147 159 15 0 15"></polygon><rect id="Rectangle" stroke="#979797" fill="#FFFFFF" fill-rule="nonzero" x="19.5" y="34.5" width="119" height="93"></rect><polygon class="background" fill="#45C1F7" points="17 132 141 132 141 30 17 30"></polygon><g id="picture-frame-copy"><g id="Group-4" transform="translate(0.000000, 15.000000)"><mask id="mask-2" fill="white"><use xlink:href="#path-1"></use></mask><g id="Clip-3"></g><path d="M4.41666667,127.550562 L154.583333,127.550562 L154.583333,4.4494382 L4.41666667,4.4494382 L4.41666667,127.550562 Z M159,136.449438 L-3.55271368e-15,136.449438 C-2.43947222,136.449438 -4.41666667,134.457573 -4.41666667,132 L-4.41666667,4.4408921e-15 C-4.41666667,-2.45757303 -2.43947222,-4.4494382 -3.55271368e-15,-4.4494382 L159,-4.4494382 C161.439472,-4.4494382 163.416667,-2.45757303 163.416667,4.4408921e-15 L163.416667,132 C163.416667,134.457573 161.439472,136.449438 159,136.449438 Z" id="Fill-2" fill="#222222" mask="url(#mask-2)"></path></g><g id="Group-9" transform="translate(63.000000, 0.000000)" fill="#222222"><path d="M5.39511061,14.06 L29.8773227,14.06 C28.7177318,8.99988 23.6693227,5.18 17.6362167,5.18 C11.6031106,5.18 6.55617121,8.99988 5.39511061,14.06 M32.3331864,18.5 L2.93924697,18.5 C1.72086818,18.5 0.734701515,17.50692 0.734701515,16.28 C0.734701515,7.7108 8.31686818,0.74 17.6362167,0.74 C26.9555652,0.74 34.5377318,7.7108 34.5377318,16.28 C34.5377318,17.50692 33.5515652,18.5 32.3331864,18.5" id="Fill-5"></path><polygon id="Fill-7" points="92.9008682 146.683984 73.3215652 130.551984 76.1139894 127.115424 95.6932924 143.247424"></polygon></g><g id="Group-13" transform="translate(17.000000, 30.000000)"><mask id="mask-4" fill="white"><use xlink:href="#path-3"></use></mask><g id="Clip-12"></g><path d="M4.42857143,97.5652174 L119.571429,97.5652174 L119.571429,4.43478261 L4.42857143,4.43478261 L4.42857143,97.5652174 Z M124,106.434783 L-8.8817842e-14,106.434783 C-2.44604762,106.434783 -4.42857143,104.449478 -4.42857143,102 L-4.42857143,-2.48689958e-14 C-4.42857143,-2.44947826 -2.44604762,-4.43478261 -8.8817842e-14,-4.43478261 L124,-4.43478261 C126.446048,-4.43478261 128.428571,-2.44947826 128.428571,-2.48689958e-14 L128.428571,102 C128.428571,104.449478 126.446048,106.434783 124,106.434783 Z" id="Combined-Shape" fill="#222222" mask="url(#mask-4)"></path><path d="" id="Path-2" stroke="#979797" fill-rule="nonzero" mask="url(#mask-4)"></path></g><g id="corners" transform="translate(0.000000, 16.000000)" fill="#222222"><polygon id="Fill-14" points="140.496387 18 138 14.8389049 155.503613 0 158 3.16109514"></polygon><polygon id="Fill-15" points="17.5036132 18 0 3.16109514 2.49638681 0 20 14.8389049"></polygon><polygon id="Fill-16" points="2.74602549 131 0 127.487672 19.2539745 111 22 114.512328"></polygon></g><path d="M19.4882812,94.8593842 C44.7643229,101.507816 67.0872396,101.059896 86.4570312,93.515625 C115.511719,82.1992188 108.802734,83.5839844 116.876953,81.3066406 C124.951172,79.0292969 136.530273,77.3828125 138.008789,78.2841797 C138.068685,83.0810547 138.235352,100.222656 138.508789,129.708984 C70.5751953,130.298828 31.0029297,130.347656 19.7919922,129.855469 C19.9182943,114.765309 19.8170573,103.099947 19.4882812,94.8593842 Z" id="Path-3" stroke="#222222" stroke-width="4" fill="#05D458" fill-rule="nonzero"></path></g><circle id="Oval" stroke="#000000" stroke-width="4" fill="#E8DE1B" fill-rule="nonzero" cx="40.8486328" cy="59.6357422" r="16"></circle><path d="M60.3348254,77.5704551 C58.9993547,80.6825277 55.8689424,82.8666205 52.2201169,82.8666205 C51.0942738,82.8666205 50.017785,82.6586888 49.0281483,82.2797234 C47.8967722,83.2670781 46.4079181,83.8666205 44.7767575,83.8666205 C41.2366977,83.8666205 38.3669121,81.042731 38.3669121,77.5592868 C38.3669121,74.362029 40.7845266,71.7204047 43.9190364,71.3079336 C44.4206293,69.9153121 45.2738944,68.6864115 46.3737706,67.7246127 C46.0662734,66.8112197 45.8994141,65.8316421 45.8994141,64.8125 C45.8994141,59.8419373 49.8685147,55.8125 54.7646484,55.8125 C58.4425588,55.8125 61.5973616,58.0862365 62.9395833,61.3246338 C63.8172067,61.0552858 64.7505289,60.9101562 65.7182989,60.9101562 C70.8661431,60.9101562 75.0392954,65.0165679 75.0392954,70.0820833 C75.0392954,75.1475988 70.8661431,79.2540104 65.7182989,79.2540104 C63.7128485,79.2540104 61.8553227,78.6307987 60.3348254,77.5704551 Z" id="Combined-Shape" stroke="#000000" stroke-width="4" fill="#FFFFFF" fill-rule="nonzero"></path><path d="M121.554267,48.9330178 C121.561107,48.9330067 121.567948,48.9330011 121.57479,48.9330011 C128.315872,48.9330011 133.780598,54.3103309 133.780598,60.9436034 C133.780598,67.5768759 128.315872,72.9542057 121.57479,72.9542057 C118.736067,72.9542057 116.123683,72.0006337 114.050407,70.4012578 C112.497386,71.7531025 110.455645,72.5736517 108.21914,72.5736517 C103.3565,72.5736517 99.4145508,68.6947458 99.4145508,63.9098727 C99.4145508,62.7888762 99.6309116,61.7176053 100.024784,60.7342885 C98.6643533,59.5776974 97.8034355,57.8676186 97.8034355,55.9596774 C97.8034355,52.4762332 100.673221,49.6523438 104.213281,49.6523438 C104.670308,49.6523438 105.116163,49.69941 105.546114,49.7888854 C106.871499,46.5129316 110.045383,44.2060547 113.75,44.2060547 C117.122846,44.2060547 120.055763,46.1182434 121.554267,48.9330178 Z" id="Combined-Shape-Copy" stroke="#000000" stroke-width="4" fill="#FFFFFF" fill-rule="nonzero"></path><path d="M82.3606089,42.5137208 C86.0065614,42.5895456 88.9384448,45.5215419 88.9384448,49.1273647 C88.9384448,52.7808104 85.928606,55.7425133 82.2157816,55.7425133 C79.6428183,55.7425133 77.4074568,54.3201849 76.2774254,52.2309783 C75.8404163,52.3576604 75.3778461,52.425639 74.8991407,52.425639 C72.2100723,52.425639 70.0301517,50.2805815 70.0301517,47.634519 C70.0301517,44.9884565 72.2100723,42.843399 74.8991407,42.843399 C75.2392876,42.843399 75.5712879,42.8777207 75.8917602,42.9430366 C76.3155392,41.4927371 77.63826,40.4348278 79.2043688,40.4348278 C80.6113173,40.4348278 81.8218341,41.2886374 82.3606089,42.5137208 Z" id="Combined-Shape-Copy-2" stroke="#000000" stroke-width="4" fill="#FFFFFF" fill-rule="nonzero" transform="translate(79.484298, 48.088671) rotate(-27.000000) translate(-79.484298, -48.088671) "></path></g>
</svg>`;

/***/ }),

/***/ "./src/models/project.js":
/*!*******************************!*\
  !*** ./src/models/project.js ***!
  \*******************************/
/*! exports provided: FALLBACK_AVATAR_URL, getAvatarUrl, getLink, getShowUrl, getEditorUrl, getRemixUrl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FALLBACK_AVATAR_URL", function() { return FALLBACK_AVATAR_URL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAvatarUrl", function() { return getAvatarUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLink", function() { return getLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getShowUrl", function() { return getShowUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getEditorUrl", function() { return getEditorUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRemixUrl", function() { return getRemixUrl; });
/* global CDN_URL EDITOR_URL PROJECTS_DOMAIN */
var FALLBACK_AVATAR_URL = "https://cdn.glitch.com/c53fd895-ee00-4295-b111-7e024967a033%2Ffallback-project-avatar.svg?1528812220123";
function getAvatarUrl(id) {
  var cdnUrl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : CDN_URL;
  return `${cdnUrl}/project-avatar/${id}.png`;
}
function getLink(_ref) {
  var domain = _ref.domain;
  return `/~${domain}`;
}
function getShowUrl(domain) {
  var projectsDomain = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : PROJECTS_DOMAIN;
  return `//${domain}.${projectsDomain}`;
}
function getEditorUrl(domain, path, line, character) {
  var editorUrl = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : EDITOR_URL;

  if (path && !isNaN(line) && !isNaN(character)) {
    return `${editorUrl}#!/${domain}?path=${path}:${line}:${character}`;
  }

  return `${editorUrl}#!/${domain}`;
}
function getRemixUrl(domain) {
  var editorUrl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : EDITOR_URL;
  return `${editorUrl}#!/remix/${domain}`;
}

/***/ }),

/***/ "./src/models/team.js":
/*!****************************!*\
  !*** ./src/models/team.js ***!
  \****************************/
/*! exports provided: DEFAULT_TEAM_AVATAR, getLink, getAvatarUrl, getAvatarStyle, getCoverUrl, getProfileStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_TEAM_AVATAR", function() { return DEFAULT_TEAM_AVATAR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLink", function() { return getLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAvatarUrl", function() { return getAvatarUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAvatarStyle", function() { return getAvatarStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCoverUrl", function() { return getCoverUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getProfileStyle", function() { return getProfileStyle; });
/* globals CDN_URL */
var cacheBuster = Math.floor(Math.random() * 1000);
var DEFAULT_TEAM_AVATAR = "https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-team-avatar.svg?1503510366819";
var getLink = function getLink(_ref) {
  var url = _ref.url;
  return `/@${url}`;
};
var getAvatarUrl = function getAvatarUrl(_ref2) {
  var id = _ref2.id,
      hasAvatarImage = _ref2.hasAvatarImage,
      _ref2$cache = _ref2.cache,
      cache = _ref2$cache === void 0 ? cacheBuster : _ref2$cache,
      _ref2$size = _ref2.size,
      size = _ref2$size === void 0 ? 'large' : _ref2$size;
  var customImage = `${CDN_URL}/team-avatar/${id}/${size}?${cache}`;
  return hasAvatarImage ? customImage : DEFAULT_TEAM_AVATAR;
};
var getAvatarStyle = function getAvatarStyle(_ref3) {
  var id = _ref3.id,
      hasAvatarImage = _ref3.hasAvatarImage,
      backgroundColor = _ref3.backgroundColor,
      cache = _ref3.cache,
      size = _ref3.size;
  var image = getAvatarUrl({
    id: id,
    hasAvatarImage: hasAvatarImage,
    cache: cache,
    size: size
  });

  if (hasAvatarImage) {
    return {
      backgroundImage: `url('${image}')`
    };
  }

  return {
    backgroundColor: backgroundColor,
    backgroundImage: `url('${image}')`
  };
};
var getCoverUrl = function getCoverUrl(_ref4) {
  var id = _ref4.id,
      hasCoverImage = _ref4.hasCoverImage,
      _ref4$cache = _ref4.cache,
      cache = _ref4$cache === void 0 ? cacheBuster : _ref4$cache,
      _ref4$size = _ref4.size,
      size = _ref4$size === void 0 ? 'large' : _ref4$size;
  var customImage = `${CDN_URL}/team-cover/${id}/${size}?${cache}`;
  var defaultImage = "https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-cover-wide.svg?1503518400625";
  return hasCoverImage ? customImage : defaultImage;
};
var getProfileStyle = function getProfileStyle(_ref5) {
  var id = _ref5.id,
      hasCoverImage = _ref5.hasCoverImage,
      coverColor = _ref5.coverColor,
      cache = _ref5.cache,
      size = _ref5.size;
  var image = getCoverUrl({
    id: id,
    hasCoverImage: hasCoverImage,
    cache: cache,
    size: size
  });
  return {
    backgroundColor: coverColor,
    backgroundImage: `url('${image}')`
  };
};

/***/ }),

/***/ "./src/models/user.js":
/*!****************************!*\
  !*** ./src/models/user.js ***!
  \****************************/
/*! exports provided: ANON_AVATAR_URL, getDisplayName, getLink, getAvatarUrl, getAvatarThumbnailUrl, getAvatarStyle, getProfileStyle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ANON_AVATAR_URL", function() { return ANON_AVATAR_URL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDisplayName", function() { return getDisplayName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLink", function() { return getLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAvatarUrl", function() { return getAvatarUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAvatarThumbnailUrl", function() { return getAvatarThumbnailUrl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAvatarStyle", function() { return getAvatarStyle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getProfileStyle", function() { return getProfileStyle; });
/* globals CDN_URL */
var cacheBuster = Math.floor(Math.random() * 1000);
var ANON_AVATAR_URL = "https://cdn.glitch.com/f6949da2-781d-4fd5-81e6-1fdd56350165%2Fanon-user-on-project-avatar.svg?1488556279399";
function getDisplayName(_ref) {
  var login = _ref.login,
      name = _ref.name;

  if (name) {
    return name;
  } else if (login) {
    return `@${login}`;
  }

  return 'Anonymous User';
}
function getLink(_ref2) {
  var id = _ref2.id,
      login = _ref2.login;

  if (login) {
    return `/@${login}`;
  }

  return `/user/${id}`;
}
function getAvatarUrl(_ref3) {
  var login = _ref3.login,
      avatarUrl = _ref3.avatarUrl;

  if (login && avatarUrl) {
    return avatarUrl;
  }

  return ANON_AVATAR_URL;
}
function getAvatarThumbnailUrl(_ref4) {
  var login = _ref4.login,
      avatarThumbnailUrl = _ref4.avatarThumbnailUrl;

  if (login && avatarThumbnailUrl) {
    return avatarThumbnailUrl;
  }

  return ANON_AVATAR_URL;
}
function getAvatarStyle(_ref5) {
  var avatarUrl = _ref5.avatarUrl,
      color = _ref5.color;
  return {
    backgroundColor: color,
    backgroundImage: `url('${avatarUrl || ANON_AVATAR_URL}')`
  };
}
function getProfileStyle(_ref6) {
  var id = _ref6.id,
      hasCoverImage = _ref6.hasCoverImage,
      coverColor = _ref6.coverColor,
      _ref6$cache = _ref6.cache,
      cache = _ref6$cache === void 0 ? cacheBuster : _ref6$cache,
      _ref6$size = _ref6.size,
      size = _ref6$size === void 0 ? 'large' : _ref6$size;
  var customImage = `${CDN_URL}/user-cover/${id}/${size}?${cache}`;
  var defaultImage = "https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fdefault-cover-wide.svg?1503518400625";
  return {
    backgroundColor: coverColor,
    backgroundImage: `url('${hasCoverImage ? customImage : defaultImage}')`
  };
}

/***/ }),

/***/ "./src/models/words.js":
/*!*****************************!*\
  !*** ./src/models/words.js ***!
  \*****************************/
/*! exports provided: getPredicates, getObjects, getCollections, getCollectionPairs, getPredicate, getWordPair, getTeamPair, getCollectionPair, getCollection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPredicates", function() { return getPredicates; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getObjects", function() { return getObjects; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCollections", function() { return getCollections; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCollectionPairs", function() { return getCollectionPairs; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getPredicate", function() { return getPredicate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getWordPair", function() { return getWordPair; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTeamPair", function() { return getTeamPair; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCollectionPair", function() { return getCollectionPair; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getCollection", function() { return getCollection; });
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/axios/0.18.0/node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);



function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }


var api = axios__WEBPACK_IMPORTED_MODULE_2___default.a.create({
  baseURL: 'https://friendly-words.glitch.me/'
});

var getData =
/*#__PURE__*/
function () {
  var _ref = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee(name) {
    var _ref2, data;

    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return api.get(name);

          case 2:
            _ref2 = _context.sent;
            data = _ref2.data;
            return _context.abrupt("return", data);

          case 5:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, this);
  }));

  return function getData(_x) {
    return _ref.apply(this, arguments);
  };
}();

var getPredicates = function getPredicates() {
  return getData('predicates');
};
var getObjects = function getObjects() {
  return getData('objects');
};
var getCollections = function getCollections() {
  return getData('collections');
};
var getCollectionPairs = function getCollectionPairs() {
  return getData('collection-pairs');
};

var getFirst =
/*#__PURE__*/
function () {
  var _ref3 = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee2(name) {
    var data;
    return regeneratorRuntime.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return getData(name);

          case 2:
            data = _context2.sent;
            return _context2.abrupt("return", data[0]);

          case 4:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, this);
  }));

  return function getFirst(_x2) {
    return _ref3.apply(this, arguments);
  };
}();

var getPredicate = function getPredicate() {
  return getFirst('predicates');
};
var getWordPair = function getWordPair() {
  return getFirst('word-pairs');
};
var getTeamPair = function getTeamPair() {
  return getFirst('team-pairs');
};
var getCollectionPair = function getCollectionPair() {
  return getFirst('collection-pairs');
};
var getCollection = function getCollection() {
  return getFirst('collections');
};

/***/ }),

/***/ "./src/polyfills.js":
/*!**************************!*\
  !*** ./src/polyfills.js ***!
  \**************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var details_element_polyfill__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! details-element-polyfill */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/details-element-polyfill/2.2.0/node_modules/details-element-polyfill/dist/details-element-polyfill.js");
/* harmony import */ var details_element_polyfill__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(details_element_polyfill__WEBPACK_IMPORTED_MODULE_0__);
/// Polyfills that aren't done using babel go here
// In general we want to manage them with babel


if (!String.prototype.trimStart) {
  String.prototype.trimStart = String.prototype.trimLeft;
}

if (!String.prototype.trimEnd) {
  String.prototype.trimEnd = String.prototype.trimRight;
}

/***/ }),

/***/ "./src/presenters/analytics.jsx":
/*!**************************************!*\
  !*** ./src/presenters/analytics.jsx ***!
  \**************************************/
/*! exports provided: AnalyticsContext, AnalyticsTracker, TrackClick, TrackedExternalLink */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnalyticsContext", function() { return AnalyticsContext; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AnalyticsTracker", function() { return AnalyticsTracker; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrackClick", function() { return TrackClick; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrackedExternalLink", function() { return TrackedExternalLink; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/omit */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/omit.js");
/* harmony import */ var lodash_omit__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_omit__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_isFunction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/isFunction */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/isFunction.js");
/* harmony import */ var lodash_isFunction__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_isFunction__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _utils_sentry__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/sentry */ "./src/utils/sentry.js");





function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

/* global analytics */



var Context = react__WEBPACK_IMPORTED_MODULE_4___default.a.createContext({
  properties: {},
  context: {}
});

var resolveProperties = function resolveProperties() {
  var properties = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  var inheritedProperties = arguments.length > 1 ? arguments[1] : undefined;

  if (lodash_isFunction__WEBPACK_IMPORTED_MODULE_3___default()(properties)) {
    return properties(inheritedProperties);
  }

  return _objectSpread({}, inheritedProperties, properties);
}; // stick this in the tree to add a property value to any tracking calls within it


var AnalyticsContext = function AnalyticsContext(_ref) {
  var children = _ref.children,
      properties = _ref.properties,
      context = _ref.context;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Context.Consumer, null, function (inherited) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Context.Provider, {
      value: {
        properties: resolveProperties(properties, inherited.properties),
        context: resolveProperties(context, inherited.context)
      }
    }, children);
  });
};
AnalyticsContext.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node.isRequired,
  properties: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object, prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func]),
  context: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object, prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func])
}; // this gives you a generic track function that pulls in inherited properties

var AnalyticsTracker = function AnalyticsTracker(_ref2) {
  var children = _ref2.children;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Context.Consumer, null, function (inherited) {
    return children(function (name, properties, context) {
      try {
        analytics.track(name, resolveProperties(properties, inherited.properties), resolveProperties(context, inherited.context));
      } catch (error) {
        Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_6__["captureException"])(error);
      }
    });
  });
};
AnalyticsTracker.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired
}; // this is the equivalent of doing <AnalyticsTracker>{track => <asdf onClick={() => track('asdf')}/></AnalyticsTracker>
// this won't work for links that do a full page load, because the request will get cancelled by the nav
// use the TrackedExternalLink for that, because it will stall the page for a moment and let the request finish

var TrackClick = function TrackClick(_ref3) {
  var children = _ref3.children,
      name = _ref3.name,
      properties = _ref3.properties,
      context = _ref3.context;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(AnalyticsTracker, null, function (track) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.Children.map(children, function (child) {
      function onClick() {
        track(name, properties, context);

        if (child.props.onClick) {
          var _child$props;

          return (_child$props = child.props).onClick.apply(_child$props, arguments);
        }
      }

      return react__WEBPACK_IMPORTED_MODULE_4___default.a.cloneElement(child, {
        onClick: onClick
      });
    });
  });
};
TrackClick.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node.isRequired,
  name: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
  properties: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object, prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func]),
  context: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object, prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func])
}; // this pulls in segment's trackLink, which stalls the page load until the analytics request is done
// it forces a full page load at the end, so don't use it for links within the community site

var TrackedExternalLinkWithoutContext =
/*#__PURE__*/
function (_React$Component) {
  _inherits(TrackedExternalLinkWithoutContext, _React$Component);

  function TrackedExternalLinkWithoutContext(props) {
    var _this;

    _classCallCheck(this, TrackedExternalLinkWithoutContext);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(TrackedExternalLinkWithoutContext).call(this, props));
    _this.ref = react__WEBPACK_IMPORTED_MODULE_4___default.a.createRef();
    return _this;
  }

  _createClass(TrackedExternalLinkWithoutContext, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      try {
        analytics.trackLink(this.ref.current, function () {
          return _this2.props.name;
        }, function () {
          return _this2.props.properties;
        });
      } catch (error) {
        Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_6__["captureException"])(error);
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          children = _this$props.children,
          to = _this$props.to,
          props = _objectWithoutProperties(_this$props, ["children", "to"]);

      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", _extends({
        href: to
      }, lodash_omit__WEBPACK_IMPORTED_MODULE_2___default()(props, ['name', 'properties']), {
        ref: this.ref
      }), children);
    }
  }]);

  return TrackedExternalLinkWithoutContext;
}(react__WEBPACK_IMPORTED_MODULE_4___default.a.Component);

var TrackedExternalLink = function TrackedExternalLink(_ref4) {
  var children = _ref4.children,
      name = _ref4.name,
      properties = _ref4.properties,
      to = _ref4.to,
      props = _objectWithoutProperties(_ref4, ["children", "name", "properties", "to"]);

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Context.Consumer, null, function (inherited) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(TrackedExternalLinkWithoutContext, _extends({
      to: to,
      name: name,
      properties: resolveProperties(properties, inherited.properties)
    }, props), children);
  });
};
TrackedExternalLink.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node.isRequired,
  name: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
  properties: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object, prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func]),
  to: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired
};

/***/ }),

/***/ "./src/presenters/categories.jsx":
/*!***************************************!*\
  !*** ./src/presenters/categories.jsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _curated_categories__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../curated/categories */ "./src/curated/categories.js");
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./includes/link.jsx */ "./src/presenters/includes/link.jsx");




var Categories = function Categories() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
    className: "categories",
    role: "navigation"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "More Ideas"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", null, _curated_categories__WEBPACK_IMPORTED_MODULE_1__["default"].map(function (_ref) {
    var avatarUrl = _ref.avatarUrl,
        color = _ref.color,
        id = _ref.id,
        name = _ref.name,
        url = _ref.url;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      key: id
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
      className: "category-box-link",
      to: `/${url}`
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "category-box centered",
      style: {
        backgroundColor: color
      }
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
      src: avatarUrl,
      alt: name
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "category-box-label centered",
      style: {
        backgroundColor: color
      }
    }, name)));
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (Categories);

/***/ }),

/***/ "./src/presenters/collection-editor.jsx":
/*!**********************************************!*\
  !*** ./src/presenters/collection-editor.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.regexp.to-string */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.to-string.js");
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _error_handlers_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./error-handlers.jsx */ "./src/presenters/error-handlers.jsx");









function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }






var CollectionEditor =
/*#__PURE__*/
function (_React$Component) {
  _inherits(CollectionEditor, _React$Component);

  function CollectionEditor(props) {
    var _this;

    _classCallCheck(this, CollectionEditor);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(CollectionEditor).call(this, props));
    _this.state = _objectSpread({}, props.initialCollection);
    return _this;
  }

  _createClass(CollectionEditor, [{
    key: "userIsAuthor",
    value: function userIsAuthor() {
      if (!this.props.currentUser) return false;
      var currentUserId = this.props.currentUser.id;

      if (this.state.user) {
        return this.state.user.id === currentUserId;
      }

      if (this.state.team) {
        return this.state.team.users.some(function (user) {
          return user.id === currentUserId;
        });
      }

      return false;
    }
  }, {
    key: "updateFields",
    value: function () {
      var _updateFields = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(changes) {
        var _ref, data;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return this.props.api.patch(`collections/${this.state.id}`, changes);

              case 2:
                _ref = _context.sent;
                data = _ref.data;
                this.setState(data);

              case 5:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function updateFields(_x) {
        return _updateFields.apply(this, arguments);
      }

      return updateFields;
    }()
  }, {
    key: "addProjectToCollection",
    value: function () {
      var _addProjectToCollection = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2(project, collection) {
        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                if (collection.id == this.state.id) {
                  // add project to collection page
                  this.setState(function (_ref2) {
                    var projects = _ref2.projects;
                    return {
                      projects: [].concat(_toConsumableArray(projects), [project])
                    };
                  });
                }

                _context2.next = 3;
                return this.props.api.patch(`collections/${collection.id}/add/${project.id}`);

              case 3:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function addProjectToCollection(_x2, _x3) {
        return _addProjectToCollection.apply(this, arguments);
      }

      return addProjectToCollection;
    }()
  }, {
    key: "removeProjectFromCollection",
    value: function () {
      var _removeProjectFromCollection = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee3(project) {
        return regeneratorRuntime.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.next = 2;
                return this.props.api.patch(`collections/${this.state.id}/remove/${project.id}`);

              case 2:
                this.setState(function (_ref3) {
                  var projects = _ref3.projects;
                  return {
                    projects: projects.filter(function (p) {
                      return p.id !== project.id;
                    })
                  };
                });

              case 3:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function removeProjectFromCollection(_x4) {
        return _removeProjectFromCollection.apply(this, arguments);
      }

      return removeProjectFromCollection;
    }()
  }, {
    key: "deleteCollection",
    value: function () {
      var _deleteCollection = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee4() {
        return regeneratorRuntime.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                _context4.next = 2;
                return this.props.api.delete(`/collections/${this.state.id}`);

              case 2:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function deleteCollection() {
        return _deleteCollection.apply(this, arguments);
      }

      return deleteCollection;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          handleError = _this$props.handleError,
          handleErrorForInput = _this$props.handleErrorForInput;
      var funcs = {
        addProjectToCollection: function addProjectToCollection(project, collection) {
          return _this2.addProjectToCollection(project, collection).catch(handleError);
        },
        removeProjectFromCollection: function removeProjectFromCollection(project) {
          return _this2.removeProjectFromCollection(project).catch(handleError);
        },
        deleteCollection: function deleteCollection() {
          return _this2.deleteCollection().catch(handleError);
        },
        updateNameAndUrl: function updateNameAndUrl(_ref4) {
          var name = _ref4.name,
              url = _ref4.url;
          return _this2.updateFields({
            name: name,
            url: url
          }).catch(handleErrorForInput);
        },
        updateDescription: function updateDescription(description) {
          return _this2.updateFields({
            description: description
          }).catch(handleError);
        },
        updateColor: function updateColor(color) {
          return _this2.updateFields({
            coverColor: color
          });
        }
      };
      return this.props.children(this.state, funcs, this.userIsAuthor());
    }
  }]);

  return CollectionEditor;
}(react__WEBPACK_IMPORTED_MODULE_8___default.a.Component);

CollectionEditor.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.any.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,
  handleError: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,
  handleErrorForInput: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,
  initialCollection: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object.isRequired
};

var CollectionEditorContainer = function CollectionEditorContainer(_ref5) {
  var api = _ref5.api,
      children = _ref5.children,
      initialCollection = _ref5.initialCollection;
  return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_error_handlers_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], null, function (errorFuncs) {
    return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_10__["CurrentUserConsumer"], null, function (currentUser) {
      return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(CollectionEditor, _extends({
        api: api,
        currentUser: currentUser,
        initialCollection: initialCollection
      }, errorFuncs), children);
    });
  });
};

CollectionEditorContainer.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.any.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func.isRequired,
  initialCollection: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (CollectionEditorContainer);

/***/ }),

/***/ "./src/presenters/collection-item.jsx":
/*!********************************************!*\
  !*** ./src/presenters/collection-item.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_pluralize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-pluralize */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-pluralize/1.5.0/node_modules/react-pluralize/build/index.js");
/* harmony import */ var react_pluralize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_pluralize__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _includes_markdown_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./includes/markdown.jsx */ "./src/presenters/includes/markdown.jsx");
/* harmony import */ var _pop_overs_collection_options_pop_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pop-overs/collection-options-pop.jsx */ "./src/presenters/pop-overs/collection-options-pop.jsx");
/* harmony import */ var _includes_link__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./includes/link */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _includes_loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./includes/loader */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _includes_collection_avatar_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./includes/collection-avatar.jsx */ "./src/presenters/includes/collection-avatar.jsx");
/* harmony import */ var _models_project_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../models/project.js */ "./src/models/project.js");
/* harmony import */ var _models_collection__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../models/collection */ "./src/models/collection.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }












var ProjectsPreview = function ProjectsPreview(_ref) {
  var projects = _ref.projects;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
    className: "projects-preview"
  }, projects.slice(0, 3).map(function (project) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      key: project.id,
      className: "project-container " + (project.private ? "private" : '')
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
      className: "avatar",
      src: Object(_models_project_js__WEBPACK_IMPORTED_MODULE_8__["getAvatarUrl"])(project.id),
      alt: `Project avatar for ${project.domain}`
    }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "project-name"
    }, project.domain), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "project-badge private-project-badge",
      "aria-label": "private"
    }));
  })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "collection-link"
  }, "View ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_pluralize__WEBPACK_IMPORTED_MODULE_2___default.a, {
    count: projects.length,
    singular: "project"
  }), " \u2192"));
};

ProjectsPreview.propTypes = {
  projects: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any.isRequired
};

var CollectionItem =
/*#__PURE__*/
function (_React$Component) {
  _inherits(CollectionItem, _React$Component);

  function CollectionItem(props) {
    _classCallCheck(this, CollectionItem);

    return _possibleConstructorReturn(this, _getPrototypeOf(CollectionItem).call(this, props));
  }

  _createClass(CollectionItem, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          collection = _this$props.collection,
          deleteCollection = _this$props.deleteCollection,
          isAuthorized = _this$props.isAuthorized;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, isAuthorized && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_pop_overs_collection_options_pop_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
        collection: collection,
        deleteCollection: deleteCollection
      }), collection && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_link__WEBPACK_IMPORTED_MODULE_5__["CollectionLink"], {
        collection: collection,
        className: "button-area"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "collection" + (isAuthorized ? " authorized" : ""),
        id: "collection-" + collection.id
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "collection-container"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "collection-info",
        style: {
          backgroundColor: collection.coverColor
        }
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "avatar-container"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "avatar"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_collection_avatar_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        backgroundColor: Object(_models_collection__WEBPACK_IMPORTED_MODULE_9__["hexToRgbA"])(collection.coverColor),
        collectionId: collection.id
      }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "collection-name-description"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "button"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "project-badge private-project-badge",
        "aria-label": "private"
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "project-name"
      }, collection.name)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "description",
        style: {
          color: Object(_models_collection__WEBPACK_IMPORTED_MODULE_9__["getContrastTextColor"])(collection.coverColor)
        }
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_markdown_jsx__WEBPACK_IMPORTED_MODULE_3__["TruncatedMarkdown"], {
        length: 96
      }, collection.description))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "overflow-mask"
      })), collection.projects ? collection.projects.length > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ProjectsPreview, {
        projects: collection.projects,
        color: collection.coverColor,
        collection: collection
      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "projects-preview empty"
      }, isAuthorized ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "This collection is empty \u2013 add some projects ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        role: "img",
        "aria-label": ""
      }, "\u261D\uFE0F")) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "No projects to see in this collection just yet.")) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "collection-link"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_loader__WEBPACK_IMPORTED_MODULE_6__["default"], null))))));
    }
  }]);

  return CollectionItem;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

CollectionItem.propTypes = {
  collection: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  isAuthorized: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  deleteCollection: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func
};
/* harmony default export */ __webpack_exports__["default"] = (CollectionItem);

/***/ }),

/***/ "./src/presenters/collections-list.jsx":
/*!*********************************************!*\
  !*** ./src/presenters/collections-list.jsx ***!
  \*********************************************/
/*! exports provided: CreateCollectionButton, CollectionsUL, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CreateCollectionButton", function() { return CreateCollectionButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CollectionsUL", function() { return CollectionsUL; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.regexp.to-string */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.to-string.js");
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es7.array.includes */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.array.includes.js");
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var lodash_orderBy__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash/orderBy */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/orderBy.js");
/* harmony import */ var lodash_orderBy__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_orderBy__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var lodash_kebabCase__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lodash/kebabCase */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/kebabCase.js");
/* harmony import */ var lodash_kebabCase__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lodash_kebabCase__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-router-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-router-dom/4.3.1/node_modules/react-router-dom/es/index.js");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _collection_item_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./collection-item.jsx */ "./src/presenters/collection-item.jsx");
/* harmony import */ var _models_collection__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../models/collection */ "./src/models/collection.js");
/* harmony import */ var _models_words__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../models/words */ "./src/models/words.js");
/* harmony import */ var _includes_loader_jsx__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./includes/loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var randomcolor__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! randomcolor */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/randomcolor/0.5.3/node_modules/randomcolor/randomColor.js");
/* harmony import */ var randomcolor__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(randomcolor__WEBPACK_IMPORTED_MODULE_19__);












function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }











var CollectionsList =
/*#__PURE__*/
function (_React$Component) {
  _inherits(CollectionsList, _React$Component);

  function CollectionsList(props) {
    var _this;

    _classCallCheck(this, CollectionsList);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(CollectionsList).call(this, props));
    _this.state = {
      deletedCollectionIds: []
    };
    _this.deleteCollection = _this.deleteCollection.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(CollectionsList, [{
    key: "deleteCollection",
    value: function () {
      var _deleteCollection = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(id) {
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                this.setState(function (_ref) {
                  var deletedCollectionIds = _ref.deletedCollectionIds;
                  return {
                    deletedCollectionIds: [].concat(_toConsumableArray(deletedCollectionIds), [id])
                  };
                });
                _context.next = 3;
                return this.props.api.delete(`/collections/${id}`);

              case 3:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function deleteCollection(_x) {
        return _deleteCollection.apply(this, arguments);
      }

      return deleteCollection;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          title = _this$props.title,
          api = _this$props.api,
          isAuthorized = _this$props.isAuthorized,
          maybeCurrentUser = _this$props.maybeCurrentUser,
          maybeTeam = _this$props.maybeTeam;
      var deleteCollection = this.deleteCollection;
      var collections = this.props.collections.filter(function (_ref2) {
        var id = _ref2.id;
        return !_this2.state.deletedCollectionIds.includes(id);
      });
      var hasCollections = !!collections.length;
      var canMakeCollections = isAuthorized && !!maybeCurrentUser;

      if (!hasCollections && !canMakeCollections) {
        return null;
      }

      return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("article", {
        className: "collections"
      }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("h2", null, title), canMakeCollections && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_11___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(CreateCollectionButton, {
        api: api,
        currentUser: maybeCurrentUser,
        maybeTeam: maybeTeam
      }), !hasCollections && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(CreateFirstCollection, {
        api: api,
        currentUser: maybeCurrentUser
      })), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(CollectionsUL, {
        collections: collections,
        api: api,
        isAuthorized: isAuthorized,
        deleteCollection: deleteCollection
      }));
    }
  }]);

  return CollectionsList;
}(react__WEBPACK_IMPORTED_MODULE_11___default.a.Component);

CollectionsList.propTypes = {
  collections: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.array.isRequired,
  maybeCurrentUser: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.object,
  maybeTeam: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.object,
  title: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.node.isRequired,
  api: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  isAuthorized: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool.isRequired
};

var CreateFirstCollection = function CreateFirstCollection() {
  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
    className: "create-first-collection"
  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("img", {
    src: "https://cdn.glitch.com/1afc1ac4-170b-48af-b596-78fe15838ad3%2Fpsst-pink.svg?1541086338934",
    alt: ""
  }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("p", {
    className: "placeholder"
  }, "Create collections to organize your favorite projects."), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("br", null));
};

var CreateCollectionButton =
/*#__PURE__*/
function (_React$Component2) {
  _inherits(CreateCollectionButton, _React$Component2);

  function CreateCollectionButton(props) {
    var _this3;

    _classCallCheck(this, CreateCollectionButton);

    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(CreateCollectionButton).call(this, props));
    _this3.state = {
      shouldRedirect: false,
      error: false,
      loading: false,
      newCollectionUrl: ""
    };
    _this3.createCollection = _this3.createCollection.bind(_assertThisInitialized(_assertThisInitialized(_this3)));
    return _this3;
  }

  _createClass(CreateCollectionButton, [{
    key: "postCollection",
    value: function () {
      var _postCollection = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2(collectionSynonym, predicate) {
        var name, description, url, avatarUrl, coverColor, teamId, _ref3, data, newCollectionUrl;

        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                name = [predicate, collectionSynonym].join('-');
                description = `A ${collectionSynonym} of projects that does ${predicate} things`;
                url = lodash_kebabCase__WEBPACK_IMPORTED_MODULE_10___default()(name); // defaults

                avatarUrl = _models_collection__WEBPACK_IMPORTED_MODULE_16__["defaultAvatar"]; // get a random color

                coverColor = randomcolor__WEBPACK_IMPORTED_MODULE_19___default()({
                  luminosity: 'light'
                }); // set the team id if there is one

                teamId = this.props.maybeTeam ? this.props.maybeTeam.id : undefined;
                _context2.next = 8;
                return this.props.api.post('collections', {
                  name: name,
                  description: description,
                  url: url,
                  avatarUrl: avatarUrl,
                  coverColor: coverColor,
                  teamId: teamId
                });

              case 8:
                _ref3 = _context2.sent;
                data = _ref3.data;

                if (!(data && data.url)) {
                  _context2.next = 15;
                  break;
                }

                if (this.props.maybeTeam) {
                  data.team = this.props.maybeTeam;
                } else {
                  data.user = this.props.currentUser;
                }

                newCollectionUrl = Object(_models_collection__WEBPACK_IMPORTED_MODULE_16__["getLink"])(data);
                this.setState({
                  newCollectionUrl: newCollectionUrl,
                  shouldRedirect: true
                });
                return _context2.abrupt("return", true);

              case 15:
                return _context2.abrupt("return", false);

              case 16:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function postCollection(_x2, _x3) {
        return _postCollection.apply(this, arguments);
      }

      return postCollection;
    }()
  }, {
    key: "generateNames",
    value: function () {
      var _generateNames = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee3() {
        var collectionSynonyms, predicate;
        return regeneratorRuntime.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                collectionSynonyms = ["mix", "bricolage", "playlist", "assortment", "potpourri", "melange", "album", "collection", "variety", "compilation"];
                predicate = "radical";
                _context3.prev = 2;
                _context3.next = 5;
                return Object(_models_words__WEBPACK_IMPORTED_MODULE_17__["getCollections"])();

              case 5:
                collectionSynonyms = _context3.sent;
                _context3.next = 8;
                return Object(_models_words__WEBPACK_IMPORTED_MODULE_17__["getPredicate"])();

              case 8:
                predicate = _context3.sent;
                _context3.next = 13;
                break;

              case 11:
                _context3.prev = 11;
                _context3.t0 = _context3["catch"](2);

              case 13:
                return _context3.abrupt("return", [collectionSynonyms, predicate]);

              case 14:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this, [[2, 11]]);
      }));

      function generateNames() {
        return _generateNames.apply(this, arguments);
      }

      return generateNames;
    }()
  }, {
    key: "createCollection",
    value: function () {
      var _createCollection = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee4() {
        var _ref4, _ref5, collectionSynonymns, predicate, creationSuccess, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, synonym;

        return regeneratorRuntime.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                this.setState({
                  loading: true
                });
                _context4.next = 3;
                return this.generateNames();

              case 3:
                _ref4 = _context4.sent;
                _ref5 = _slicedToArray(_ref4, 2);
                collectionSynonymns = _ref5[0];
                predicate = _ref5[1];
                creationSuccess = false;
                _iteratorNormalCompletion = true;
                _didIteratorError = false;
                _iteratorError = undefined;
                _context4.prev = 11;
                _iterator = collectionSynonymns[Symbol.iterator]();

              case 13:
                if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {
                  _context4.next = 28;
                  break;
                }

                synonym = _step.value;
                _context4.prev = 15;
                _context4.next = 18;
                return this.postCollection(synonym, predicate);

              case 18:
                creationSuccess = _context4.sent;

                if (!creationSuccess) {
                  _context4.next = 21;
                  break;
                }

                return _context4.abrupt("break", 28);

              case 21:
                _context4.next = 25;
                break;

              case 23:
                _context4.prev = 23;
                _context4.t0 = _context4["catch"](15);

              case 25:
                _iteratorNormalCompletion = true;
                _context4.next = 13;
                break;

              case 28:
                _context4.next = 34;
                break;

              case 30:
                _context4.prev = 30;
                _context4.t1 = _context4["catch"](11);
                _didIteratorError = true;
                _iteratorError = _context4.t1;

              case 34:
                _context4.prev = 34;
                _context4.prev = 35;

                if (!_iteratorNormalCompletion && _iterator.return != null) {
                  _iterator.return();
                }

              case 37:
                _context4.prev = 37;

                if (!_didIteratorError) {
                  _context4.next = 40;
                  break;
                }

                throw _iteratorError;

              case 40:
                return _context4.finish(37);

              case 41:
                return _context4.finish(34);

              case 42:
                if (!creationSuccess) {
                  this.setState({
                    error: "Unable to create collection :-("
                  });
                }

              case 43:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this, [[11, 30, 34, 42], [15, 23], [35,, 37, 41]]);
      }));

      function createCollection() {
        return _createCollection.apply(this, arguments);
      }

      return createCollection;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this4 = this;

      if (this.state.shouldRedirect) {
        return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_13__["Redirect"], {
          to: this.state.newCollectionUrl,
          push: true
        });
      }

      if (this.state.loading) {
        return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
          id: "create-collection-container"
        }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_18__["default"], null));
      }

      return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
        id: "create-collection-container"
      }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_14__["TrackClick"], {
        name: "Create Collection clicked"
      }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("button", {
        className: "button",
        id: "create-collection",
        onClick: function onClick() {
          return _this4.createCollection();
        }
      }, "Create Collection")));
    }
  }]);

  return CreateCollectionButton;
}(react__WEBPACK_IMPORTED_MODULE_11___default.a.Component);
CreateCollectionButton.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.any.isRequired,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.object.isRequired,
  maybeTeam: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.object
};
var CollectionsUL = function CollectionsUL(_ref6) {
  var collections = _ref6.collections,
      deleteCollection = _ref6.deleteCollection,
      api = _ref6.api,
      isAuthorized = _ref6.isAuthorized;

  // order by updatedAt date
  var orderedCollections = lodash_orderBy__WEBPACK_IMPORTED_MODULE_9___default()(collections, function (collection) {
    return collection.updatedAt;
  }).reverse();

  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("ul", {
    className: "collections-container"
  }, orderedCollections.map(function (collection) {
    return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_collection_item_jsx__WEBPACK_IMPORTED_MODULE_15__["default"], _extends({
      key: collection.id
    }, {
      collection: collection,
      api: api,
      isAuthorized: isAuthorized,
      deleteCollection: deleteCollection
    }));
  }));
};
CollectionsUL.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  collections: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.array.isRequired,
  isAuthorized: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool.isRequired,
  deleteCollection: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func
};
/* harmony default export */ __webpack_exports__["default"] = (CollectionsList);

/***/ }),

/***/ "./src/presenters/current-user.jsx":
/*!*****************************************!*\
  !*** ./src/presenters/current-user.jsx ***!
  \*****************************************/
/*! exports provided: CurrentUserProvider, CurrentUserConsumer, normalizeUser, normalizeUsers, normalizeProject, normalizeProjects */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CurrentUserProvider", function() { return CurrentUserProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CurrentUserConsumer", function() { return CurrentUserConsumer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeUser", function() { return normalizeUser; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeUsers", function() { return normalizeUsers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeProject", function() { return normalizeProject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "normalizeProjects", function() { return normalizeProjects; });
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.array.find */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.find.js");
/* harmony import */ var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! axios */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/axios/0.18.0/node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _utils_sentry__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/sentry */ "./src/utils/sentry.js");
/* harmony import */ var _includes_local_storage_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./includes/local-storage.jsx */ "./src/presenters/includes/local-storage.jsx");





function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

/* globals API_URL */






var _React$createContext = react__WEBPACK_IMPORTED_MODULE_4___default.a.createContext(),
    Provider = _React$createContext.Provider,
    Consumer = _React$createContext.Consumer; // Default values for all of the user fields we need you to have
// We always generate a 'real' anon user, but use this until we do


var defaultUser = {
  id: 0,
  login: null,
  name: null,
  description: '',
  color: '#aaa',
  avatarUrl: null,
  avatarThumbnailUrl: null,
  hasCoverImage: false,
  coverColor: null,
  emails: [],
  features: [],
  projects: [],
  teams: [],
  collections: []
};

function identifyUser(user) {
  if (user) {
    console.log("👀 current user is", user);
    console.log("🌈 login", user.login, user.id);
  } else {
    console.log("👻 logged out");
  }

  try {
    var analytics = window.analytics;

    if (analytics && user && user.login) {
      var emailObj = Array.isArray(user.emails) && user.emails.find(function (email) {
        return email.primary;
      });
      var email = emailObj && emailObj.email;
      analytics.identify(user.id, {
        name: user.name,
        login: user.login,
        email: email,
        created_at: user.createdAt
      }, {
        groupId: '0'
      });
    }

    if (user) {
      Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_7__["configureScope"])(function (scope) {
        scope.setUser({
          id: user.id,
          login: user.login
        });
      });
    } else {
      Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_7__["configureScope"])(function (scope) {
        scope.setUser({
          id: null,
          login: null
        });
      });
    }
  } catch (error) {
    console.error(error);
    Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_7__["captureException"])(error);
  }
} // Test if two user objects reference the same person


function usersMatch(a, b) {
  if (a && b && a.id === b.id && a.persistentToken === b.persistentToken) {
    return true;
  } else if (!a && !b) {
    return true;
  }

  return false;
} // This takes sharedUser and cachedUser
// sharedUser is stored in localStorage['cachedUser']
// cachedUser is stored in localStorage['community-cachedUser']
// sharedUser syncs with the editor and is authoritative on id and persistentToken
// cachedUser mirrors GET /users/{id} and is what we actually display


var CurrentUserManager =
/*#__PURE__*/
function (_React$Component) {
  _inherits(CurrentUserManager, _React$Component);

  function CurrentUserManager(props) {
    var _this;

    _classCallCheck(this, CurrentUserManager);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(CurrentUserManager).call(this, props));
    _this.state = {
      fetched: false,
      // Set true on first complete load
      working: false // Used to prevent simultaneous loading

    };
    return _this;
  }

  _createClass(CurrentUserManager, [{
    key: "api",
    value: function api() {
      if (this.props.sharedUser) {
        return axios__WEBPACK_IMPORTED_MODULE_6___default.a.create({
          baseURL: API_URL,
          headers: {
            Authorization: this.props.sharedUser.persistentToken
          }
        });
      }

      return axios__WEBPACK_IMPORTED_MODULE_6___default.a.create({
        baseURL: API_URL
      });
    }
  }, {
    key: "getSharedUser",
    value: function () {
      var _getSharedUser = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var _ref, user;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                _context.next = 3;
                return this.api().get(`boot?latestProjectOnly=true`);

              case 3:
                _ref = _context.sent;
                user = _ref.data.user;
                return _context.abrupt("return", user);

              case 8:
                _context.prev = 8;
                _context.t0 = _context["catch"](0);

                if (!(_context.t0.response && _context.t0.response.status === 401)) {
                  _context.next = 12;
                  break;
                }

                return _context.abrupt("return", undefined);

              case 12:
                throw _context.t0;

              case 13:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[0, 8]]);
      }));

      function getSharedUser() {
        return _getSharedUser.apply(this, arguments);
      }

      return getSharedUser;
    }()
  }, {
    key: "getCachedUser",
    value: function () {
      var _getCachedUser = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2() {
        var sharedUser, _ref2, data;

        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                sharedUser = this.props.sharedUser;

                if (sharedUser) {
                  _context2.next = 3;
                  break;
                }

                return _context2.abrupt("return", undefined);

              case 3:
                if (!(!sharedUser.id || !sharedUser.persistentToken)) {
                  _context2.next = 5;
                  break;
                }

                return _context2.abrupt("return", 'error');

              case 5:
                _context2.prev = 5;
                _context2.next = 8;
                return this.api().get(`users/${sharedUser.id}`);

              case 8:
                _ref2 = _context2.sent;
                data = _ref2.data;

                if (usersMatch(sharedUser, data)) {
                  _context2.next = 12;
                  break;
                }

                return _context2.abrupt("return", 'error');

              case 12:
                return _context2.abrupt("return", data);

              case 15:
                _context2.prev = 15;
                _context2.t0 = _context2["catch"](5);

                if (!(_context2.t0.response && (_context2.t0.response.status === 401 || _context2.t0.response.status === 404))) {
                  _context2.next = 19;
                  break;
                }

                return _context2.abrupt("return", 'error');

              case 19:
                throw _context2.t0;

              case 20:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this, [[5, 15]]);
      }));

      function getCachedUser() {
        return _getCachedUser.apply(this, arguments);
      }

      return getCachedUser;
    }()
  }, {
    key: "load",
    value: function () {
      var _load = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee3() {
        var _this$props, sharedUser, cachedUser, newCachedUser, newSharedUser, _ref3, data;

        return regeneratorRuntime.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                if (!this.state.working) {
                  _context3.next = 2;
                  break;
                }

                return _context3.abrupt("return");

              case 2:
                this.setState({
                  working: true
                });
                _this$props = this.props, sharedUser = _this$props.sharedUser, cachedUser = _this$props.cachedUser;

                if (!usersMatch(sharedUser, cachedUser)) {
                  this.props.setCachedUser(undefined);
                }

                if (!sharedUser) {
                  _context3.next = 23;
                  break;
                }

                _context3.next = 8;
                return this.getCachedUser();

              case 8:
                newCachedUser = _context3.sent;

                if (!(newCachedUser === 'error')) {
                  _context3.next = 19;
                  break;
                }

                // Sounds like our shared user is bad
                // Fix it and componentDidUpdate will reload
                this.setState({
                  fetched: false
                });
                _context3.next = 13;
                return this.getSharedUser();

              case 13:
                newSharedUser = _context3.sent;
                this.props.setSharedUser(newSharedUser);
                console.warn('Fixed shared cachedUser from', sharedUser, 'to', newSharedUser);
                Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_7__["captureMessage"])('Invalid cachedUser', {
                  extra: {
                    from: sharedUser || null,
                    to: newSharedUser || null
                  }
                });
                _context3.next = 21;
                break;

              case 19:
                this.props.setCachedUser(newCachedUser);
                this.setState({
                  fetched: true
                });

              case 21:
                _context3.next = 28;
                break;

              case 23:
                _context3.next = 25;
                return this.api().post('users/anon');

              case 25:
                _ref3 = _context3.sent;
                data = _ref3.data;
                this.props.setSharedUser(data);

              case 28:
                this.setState({
                  working: false
                });

              case 29:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function load() {
        return _load.apply(this, arguments);
      }

      return load;
    }()
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      identifyUser(this.props.cachedUser);
      this.load();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prev) {
      var _this$props2 = this.props,
          cachedUser = _this$props2.cachedUser,
          sharedUser = _this$props2.sharedUser;

      if (!usersMatch(cachedUser, prev.cachedUser)) {
        identifyUser(cachedUser);
      }

      if (!usersMatch(cachedUser, sharedUser) || !usersMatch(sharedUser, prev.sharedUser)) {
        this.load();
      } // hooks for easier debugging


      window.currentUser = cachedUser;
      window.api = this.api();
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props3 = this.props,
          children = _this$props3.children,
          sharedUser = _this$props3.sharedUser,
          cachedUser = _this$props3.cachedUser,
          setSharedUser = _this$props3.setSharedUser,
          setCachedUser = _this$props3.setCachedUser;
      return children({
        api: this.api(),
        currentUser: _objectSpread({}, defaultUser, sharedUser, cachedUser),
        fetched: !!cachedUser && this.state.fetched,
        reload: function reload() {
          return _this2.load();
        },
        login: function login(user) {
          return setSharedUser(user);
        },
        update: function update(changes) {
          return setCachedUser(_objectSpread({}, cachedUser, changes));
        },
        clear: function clear() {
          return setSharedUser(undefined);
        }
      });
    }
  }]);

  return CurrentUserManager;
}(react__WEBPACK_IMPORTED_MODULE_4___default.a.Component);

CurrentUserManager.propTypes = {
  sharedUser: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,
    persistentToken: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string
  }),
  cachedUser: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,
  setSharedUser: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  setCachedUser: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired
};
var CurrentUserProvider = function CurrentUserProvider(_ref4) {
  var children = _ref4.children;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_local_storage_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
    name: "community-cachedUser",
    default: null
  }, function (cachedUser, setCachedUser, loadedCachedUser) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_local_storage_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
      name: "cachedUser",
      default: null
    }, function (sharedUser, setSharedUser, loadedSharedUser) {
      return loadedSharedUser && loadedCachedUser && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(CurrentUserManager, {
        sharedUser: sharedUser,
        setSharedUser: setSharedUser,
        cachedUser: cachedUser,
        setCachedUser: setCachedUser
      }, function (_ref5) {
        var api = _ref5.api,
            props = _objectWithoutProperties(_ref5, ["api"]);

        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Provider, {
          value: props
        }, children(api));
      });
    });
  });
};
CurrentUserProvider.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired
};
var CurrentUserConsumer = function CurrentUserConsumer(props) {
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Consumer, null, function (_ref6) {
    var currentUser = _ref6.currentUser,
        fetched = _ref6.fetched,
        funcs = _objectWithoutProperties(_ref6, ["currentUser", "fetched"]);

    return props.children(currentUser, fetched, funcs, props);
  });
};
CurrentUserConsumer.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired
};
function normalizeUser(user, currentUser) {
  return user.id === (currentUser && currentUser.id) ? currentUser : user;
}
function normalizeUsers(users, currentUser) {
  return users.map(function (user) {
    return normalizeUser(user, currentUser);
  });
}
function normalizeProject(_ref7, currentUser) {
  var users = _ref7.users,
      project = _objectWithoutProperties(_ref7, ["users"]);

  return _objectSpread({
    users: users ? normalizeUsers(users, currentUser) : []
  }, project);
}
function normalizeProjects(projects, currentUser) {
  return projects.map(function (project) {
    return normalizeProject(project, currentUser);
  });
}

/***/ }),

/***/ "./src/presenters/deleted-projects.jsx":
/*!*********************************************!*\
  !*** ./src/presenters/deleted-projects.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DeletedProjects; });
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/project */ "./src/models/project.js");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _includes_loader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./includes/loader */ "./src/presenters/includes/loader.jsx");



function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

// deleted projects is a little strange
// it loads the projects from the api, but expects them to be stored elsewhere
// so it takes an initially empty list of projects and a function to fill it once they load





/* globals Set */

function clickUndelete(event, callback) {
  var node = event.target.closest('li');
  node.addEventListener('animationend', callback, {
    once: true
  });
  node.classList.add('slide-up');
}

var DeletedProject = function DeletedProject(_ref) {
  var id = _ref.id,
      domain = _ref.domain,
      _onClick = _ref.onClick;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_5__["TrackClick"], {
    name: "Undelete clicked"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    className: "button-unstyled",
    onClick: function onClick(evt) {
      return clickUndelete(evt, _onClick);
    }
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "deleted-project"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
    className: "avatar",
    src: Object(_models_project__WEBPACK_IMPORTED_MODULE_4__["getAvatarUrl"])(id),
    alt: ""
  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "deleted-project-name"
  }, domain), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "button button-small"
  }, "Undelete"))));
};

DeletedProject.propTypes = {
  id: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
  domain: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired
};

var DeletedProjectsList = function DeletedProjectsList(_ref2) {
  var deletedProjects = _ref2.deletedProjects,
      undelete = _ref2.undelete;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("ul", {
    className: "deleted-projects-container"
  }, deletedProjects.map(function (_ref3) {
    var id = _ref3.id,
        domain = _ref3.domain;
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li", {
      key: id,
      className: "deleted-project-container"
    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(DeletedProject, {
      id: id,
      domain: domain,
      onClick: function onClick() {
        return undelete(id);
      }
    }));
  }));
};

DeletedProjectsList.propTypes = {
  deletedProjects: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.array.isRequired,
  undelete: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired
};

var DeletedProjects =
/*#__PURE__*/
function (_React$Component) {
  _inherits(DeletedProjects, _React$Component);

  function DeletedProjects(props) {
    var _this;

    _classCallCheck(this, DeletedProjects);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(DeletedProjects).call(this, props));
    _this.state = {
      shown: false,
      loaded: false
    };
    _this.clickShow = _this.clickShow.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.clickHide = _this.clickHide.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(DeletedProjects, [{
    key: "clickHide",
    value: function clickHide() {
      this.setState({
        shown: false,
        loaded: false
      });
    }
  }, {
    key: "clickShow",
    value: function () {
      var _clickShow = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var _ref4, data;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                this.setState({
                  shown: true
                });
                _context.prev = 1;
                _context.next = 4;
                return this.props.api.get('user/deleted-projects');

              case 4:
                _ref4 = _context.sent;
                data = _ref4.data;
                this.props.setDeletedProjects(data);
                this.setState({
                  loaded: true
                });
                _context.next = 13;
                break;

              case 10:
                _context.prev = 10;
                _context.t0 = _context["catch"](1);
                this.setState({
                  shown: false
                });

              case 13:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[1, 10]]);
      }));

      function clickShow() {
        return _clickShow.apply(this, arguments);
      }

      return clickShow;
    }()
  }, {
    key: "renderContents",
    value: function renderContents() {
      if (!this.state.shown) {
        return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
          className: "button button-tertiary",
          onClick: this.clickShow
        }, "Show");
      } else if (!this.state.loaded) {
        return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_loader__WEBPACK_IMPORTED_MODULE_6__["default"], null);
      } else if (!this.props.deletedProjects.length) {
        return 'nothing found';
      }

      return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(DeletedProjectsList, this.props), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
        className: "button button-tertiary",
        onClick: this.clickHide
      }, "Hide Deleted Projects"));
    }
  }, {
    key: "render",
    value: function render() {
      return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("article", {
        className: "deleted-projects"
      }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h2", null, "Deleted Projects ", react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
        className: "emoji bomb emoji-in-title"
      })), this.renderContents());
    }
  }]);

  return DeletedProjects;
}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component);


DeletedProjects.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.any.isRequired,
  deletedProjects: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.array.isRequired,
  setDeletedProjects: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired
};

/***/ }),

/***/ "./src/presenters/entity-page-featured-project.jsx":
/*!*********************************************************!*\
  !*** ./src/presenters/entity-page-featured-project.jsx ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _pop_overs_featured_project_options_pop_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pop-overs/featured-project-options-pop.jsx */ "./src/presenters/pop-overs/featured-project-options-pop.jsx");
/* harmony import */ var _includes_project_actions_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./includes/project-actions.jsx */ "./src/presenters/includes/project-actions.jsx");
/* harmony import */ var _includes_embed_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./includes/embed.jsx */ "./src/presenters/includes/embed.jsx");
/* harmony import */ var _pop_overs_report_abuse_pop_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pop-overs/report-abuse-pop.jsx */ "./src/presenters/pop-overs/report-abuse-pop.jsx");
/* harmony import */ var _includes_add_project_to_collection_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./includes/add-project-to-collection.jsx */ "./src/presenters/includes/add-project-to-collection.jsx");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./analytics */ "./src/presenters/analytics.jsx");









var EntityPageFeaturedProject = function EntityPageFeaturedProject(_ref) {
  var api = _ref.api,
      isAuthorized = _ref.isAuthorized,
      currentUser = _ref.currentUser,
      unfeatureProject = _ref.unfeatureProject,
      addProjectToCollection = _ref.addProjectToCollection,
      featuredProject = _ref.featuredProject;
  var reportBtn = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "buttons buttons-left"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_pop_overs_report_abuse_pop_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: "button-small",
    reportedType: "project",
    reportedModel: featuredProject
  }));
  var featuredTitle = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, "Featured Project", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "emoji clapper emoji-in-title"
  }));
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
    id: "featured-project-embed"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, featuredTitle), isAuthorized && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_pop_overs_featured_project_options_pop_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
    api: api,
    unfeatureProject: unfeatureProject
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_embed_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
    domain: featuredProject.domain
  }), isAuthorized ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "buttons buttons-left"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_project_actions_jsx__WEBPACK_IMPORTED_MODULE_3__["EditButton"], {
    className: "button-small button-edit",
    name: featuredProject.id,
    isMember: isAuthorized
  })) : reportBtn, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "buttons buttons-right"
  }, currentUser.login && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_add_project_to_collection_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: "button-small",
    api: api,
    currentUser: currentUser,
    project: featuredProject,
    fromProject: true,
    addProjectToCollection: addProjectToCollection
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_7__["TrackClick"], {
    name: "Click Remix",
    properties: {
      baseProjectId: featuredProject.id,
      baseDomain: featuredProject.domain
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_project_actions_jsx__WEBPACK_IMPORTED_MODULE_3__["RemixButton"], {
    className: "button-small",
    name: featuredProject.domain,
    isMember: isAuthorized
  })))));
};

EntityPageFeaturedProject.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  isAuthorized: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  unfeatureProject: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  featuredProject: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,
  addProjectToCollection: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func
};
/* harmony default export */ __webpack_exports__["default"] = (EntityPageFeaturedProject);

/***/ }),

/***/ "./src/presenters/entity-page-projects.jsx":
/*!*************************************************!*\
  !*** ./src/presenters/entity-page-projects.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _projects_list_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./projects-list.jsx */ "./src/presenters/projects-list.jsx");


function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





var EntityPageProjects = function EntityPageProjects(_ref) {
  var api = _ref.api,
      projects = _ref.projects,
      currentUser = _ref.currentUser,
      isAuthorized = _ref.isAuthorized,
      addPin = _ref.addPin,
      removePin = _ref.removePin,
      projectOptions = _ref.projectOptions;
  var pinnedTitle = react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, "Pinned Projects", react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
    className: "emoji pushpin emoji-in-title"
  }));
  var recentTitle = "Recent Projects";
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, projects.length > 0 && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_projects_list_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
    title: removePin ? pinnedTitle : recentTitle,
    projects: projects,
    api: api,
    projectOptions: isAuthorized ? _objectSpread({
      addPin: addPin,
      removePin: removePin
    }, projectOptions) : currentUser && currentUser.login ? _objectSpread({}, projectOptions) : {}
  }));
};

EntityPageProjects.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,
  isAuthorized: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  projects: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array.isRequired,
  addPin: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,
  removePin: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,
  projectOptions: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object
};
/* harmony default export */ __webpack_exports__["default"] = (EntityPageProjects);

/***/ }),

/***/ "./src/presenters/error-handlers.jsx":
/*!*******************************************!*\
  !*** ./src/presenters/error-handlers.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _notifications_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./notifications.jsx */ "./src/presenters/notifications.jsx");





function _handleError(notify, error) {
  console.error(error);
  notify();
  return Promise.reject(error);
}

function _handleErrorForInput(notify, error) {
  if (error && error.response && error.response.data) {
    return Promise.reject(error.response.data.message);
  }

  console.error(error);
  notify();
  return Promise.reject();
}

var ErrorHandler = function ErrorHandler(_ref) {
  var children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_notifications_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], null, function (_ref2) {
    var createErrorNotification = _ref2.createErrorNotification;
    return children({
      handleError: function handleError(error) {
        return _handleError(createErrorNotification, error);
      },
      handleErrorForInput: function handleErrorForInput(error) {
        return _handleErrorForInput(createErrorNotification, error);
      }
    });
  });
};

ErrorHandler.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (ErrorHandler);

/***/ }),

/***/ "./src/presenters/featured-embed.jsx":
/*!*******************************************!*\
  !*** ./src/presenters/featured-embed.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./includes/link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _includes_embed_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./includes/embed.jsx */ "./src/presenters/includes/embed.jsx");





var FeaturedEmbed = function FeaturedEmbed(_ref) {
  var image = _ref.image,
      mask = _ref.mask,
      title = _ref.title,
      appDomain = _ref.appDomain,
      blogUrl = _ref.blogUrl,
      body = _ref.body,
      color = _ref.color;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "featured-embed"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "mask-container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
    to: `culture${blogUrl}`
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    className: 'mask ' + mask,
    src: image,
    alt: ""
  }))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "content",
    style: {
      backgroundColor: color
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "description"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
    to: `culture${blogUrl}`
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, title)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
    dangerouslySetInnerHTML: {
      __html: body
    }
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
    to: `culture${blogUrl}`,
    className: "learn-more"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    className: "button-small"
  }, "Learn More \u2192"))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_embed_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
    domain: appDomain
  })));
};

FeaturedEmbed.propTypes = {
  image: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  mask: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  appDomain: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  blogUrl: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  body: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  color: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (FeaturedEmbed);

/***/ }),

/***/ "./src/presenters/featured.jsx":
/*!*************************************!*\
  !*** ./src/presenters/featured.jsx ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash_sampleSize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/sampleSize */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/sampleSize.js");
/* harmony import */ var lodash_sampleSize__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_sampleSize__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _curated_featured__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../curated/featured */ "./src/curated/featured.js");
/* harmony import */ var _curated_featured_embed__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../curated/featured-embed */ "./src/curated/featured-embed.js");
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./includes/link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _featured_embed_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./featured-embed.jsx */ "./src/presenters/featured-embed.jsx");


function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }








var ZineItems =
/*#__PURE__*/
function (_React$Component) {
  _inherits(ZineItems, _React$Component);

  function ZineItems(props) {
    var _this;

    _classCallCheck(this, ZineItems);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(ZineItems).call(this, props));
    _this.state = {
      posts: window.ZINE_POSTS.slice(0, 4),
      masks: lodash_sampleSize__WEBPACK_IMPORTED_MODULE_0___default()([1, 2, 3, 4, 5], 4)
    };
    return _this;
  }

  _createClass(ZineItems, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      if (!this.state.posts.length) {
        return null;
      }

      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("section", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("ul", {
        className: "zine-items"
      }, this.state.posts.map(function (_ref, n) {
        var id = _ref.id,
            title = _ref.title,
            url = _ref.url,
            feature_image = _ref.feature_image,
            primary_tag = _ref.primary_tag;
        return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", {
          key: id,
          className: "zine-item"
        }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
          to: `/culture${url}`
        }, !!feature_image && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
          className: "mask-container"
        }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img", {
          className: `mask mask-${_this2.state.masks[n]}`,
          src: feature_image,
          alt: ""
        })), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
          className: "zine-item-meta"
        }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1", {
          className: "zine-item-title"
        }, title), !!primary_tag && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", {
          className: "zine-item-tag"
        }, primary_tag.name))));
      })));
    }
  }]);

  return ZineItems;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);

var FeaturedPanel = function FeaturedPanel(_ref2) {
  var img = _ref2.img,
      link = _ref2.link,
      title = _ref2.title;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
    to: link,
    "data-track": "featured-project",
    "data-track-label": title
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "featured-container"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img", {
    className: "featured",
    src: img,
    alt: ""
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", {
    className: "project-name"
  }, title)));
};

FeaturedPanel.propTypes = {
  img: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  link: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  title: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired
};

var Featured = function Featured(_ref3) {
  var featured = _ref3.featured;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("section", {
    className: "featured"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "community-pick-embed-container"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_featured_embed_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], _curated_featured_embed__WEBPACK_IMPORTED_MODULE_4__["default"])), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("section", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("ul", {
    className: "featured-items"
  }, featured.map(function (item) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", {
      key: item.link
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(FeaturedPanel, item));
  }))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ZineItems, null));
};

Featured.propTypes = {
  featured: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array.isRequired
};

var FeaturedContainer = function FeaturedContainer(_ref4) {
  var isAuthorized = _ref4.isAuthorized;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Featured, {
    featured: _curated_featured__WEBPACK_IMPORTED_MODULE_3__["default"],
    isAuthorized: isAuthorized
  });
};

FeaturedContainer.propTypes = {
  isAuthorized: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool
};
/* harmony default export */ __webpack_exports__["default"] = (FeaturedContainer);

/***/ }),

/***/ "./src/presenters/footer.jsx":
/*!***********************************!*\
  !*** ./src/presenters/footer.jsx ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Footer; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./includes/link.jsx */ "./src/presenters/includes/link.jsx");




var FooterLine = function FooterLine(_ref) {
  var href = _ref.href,
      track = _ref.track,
      children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
    to: href,
    "data-track": 'footer → ' + track
  }, children));
};

FooterLine.propTypes = {
  href: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  track: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired
};
function Footer() {
  var srcForPlatforms = "https://cdn.glitch.com/be1ad2d2-68ab-404a-82f4-6d8e98d28d93%2Ffor-platforms-icon.svg?1506442305188";
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("footer", {
    role: "contentinfo"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FooterLine, {
    href: "/about",
    track: "about"
  }, "About Glitch ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    role: "img",
    "aria-label": ""
  }, "\uD83D\uDD2E")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FooterLine, {
    href: "https://medium.com/glitch",
    track: "blog"
  }, "Blog ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    role: "img",
    "aria-label": ""
  }, "\uD83D\uDCF0")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FooterLine, {
    href: "/help/",
    track: "faq"
  }, "Help Center ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    role: "img",
    "aria-label": ""
  }, "\u2602\uFE0F")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FooterLine, {
    href: "http://status.glitch.com/",
    track: "system status"
  }, "System Status ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    role: "img",
    "aria-label": ""
  }, "\uD83D\uDEA5")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FooterLine, {
    href: "/legal",
    track: "legal stuff"
  }, "Legal Stuff ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    role: "img",
    "aria-label": ""
  }, "\uD83D\uDC6E\u200D")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("hr", null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(FooterLine, {
    href: "/teams",
    track: "platforms"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    className: "for-platforms-icon",
    src: srcForPlatforms,
    alt: ""
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "for-platforms-text"
  }, "Glitch Teams")));
}

/***/ }),

/***/ "./src/presenters/header.jsx":
/*!***********************************!*\
  !*** ./src/presenters/header.jsx ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-router-dom/4.3.1/node_modules/react-router-dom/es/index.js");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _includes_link__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./includes/link */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _includes_logo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./includes/logo */ "./src/presenters/includes/logo.jsx");
/* harmony import */ var _pop_overs_user_options_pop__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pop-overs/user-options-pop */ "./src/presenters/pop-overs/user-options-pop.jsx");
/* harmony import */ var _pop_overs_sign_in_pop__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pop-overs/sign-in-pop */ "./src/presenters/pop-overs/sign-in-pop.jsx");
/* harmony import */ var _pop_overs_new_project_pop__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pop-overs/new-project-pop */ "./src/presenters/pop-overs/new-project-pop.jsx");
/* harmony import */ var _overlays_new_stuff__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./overlays/new-stuff */ "./src/presenters/overlays/new-stuff.jsx");
/* harmony import */ var _current_user__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./current-user */ "./src/presenters/current-user.jsx");


function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

/* global EDITOR_URL */












var ResumeCoding = function ResumeCoding() {
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_4__["TrackedExternalLink"], {
    name: "Resume Coding clicked",
    className: "button button-small button-cta",
    to: EDITOR_URL
  }, "Resume Coding");
};

var SearchForm =
/*#__PURE__*/
function (_React$Component) {
  _inherits(SearchForm, _React$Component);

  function SearchForm(props) {
    var _this;

    _classCallCheck(this, SearchForm);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchForm).call(this, props));
    _this.state = {
      value: props.defaultValue || '',
      submitted: false
    };
    return _this;
  }

  _createClass(SearchForm, [{
    key: "onChange",
    value: function onChange(event) {
      this.setState({
        value: event.target.value
      });
    }
  }, {
    key: "onSubmit",
    value: function onSubmit(event) {
      event.preventDefault();
      if (!this.state.value) return;
      this.setState({
        submitted: true
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
          value = _this$state.value,
          submitted = _this$state.submitted;
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("form", {
        action: "/search",
        method: "get",
        role: "search",
        onSubmit: this.onSubmit.bind(this)
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input", {
        className: "search-input",
        name: "q",
        placeholder: "bots, apps, users",
        value: value,
        onChange: this.onChange.bind(this)
      }), submitted && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__["Redirect"], {
        to: `/search?q=${value}`,
        push: true
      }));
    }
  }]);

  return SearchForm;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);

SearchForm.propTypes = {
  defaultValue: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string
};

var Header = function Header(_ref) {
  var api = _ref.api,
      maybeUser = _ref.maybeUser,
      clearUser = _ref.clearUser,
      searchQuery = _ref.searchQuery,
      showNewStuffOverlay = _ref.showNewStuffOverlay;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("header", {
    role: "banner"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "header-info"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_includes_link__WEBPACK_IMPORTED_MODULE_5__["default"], {
    to: "/"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_includes_logo__WEBPACK_IMPORTED_MODULE_6__["default"], null))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("nav", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(SearchForm, {
    defaultValue: searchQuery
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_pop_overs_new_project_pop__WEBPACK_IMPORTED_MODULE_9__["default"], {
    api: api
  }), !!maybeUser && !!maybeUser.projects.length && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ResumeCoding, null), !(maybeUser && maybeUser.login) && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_pop_overs_sign_in_pop__WEBPACK_IMPORTED_MODULE_8__["default"], {
    api: api
  }), !!maybeUser && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_pop_overs_user_options_pop__WEBPACK_IMPORTED_MODULE_7__["default"], {
    user: maybeUser,
    signOut: clearUser,
    showNewStuffOverlay: showNewStuffOverlay,
    api: api
  })));
};

Header.propTypes = {
  maybeUser: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object,
  api: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};

var HeaderContainer = function HeaderContainer(_ref2) {
  var props = Object.assign({}, _ref2);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_current_user__WEBPACK_IMPORTED_MODULE_11__["CurrentUserConsumer"], null, function (user, userFetched, _ref3) {
    var clear = _ref3.clear;
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_overlays_new_stuff__WEBPACK_IMPORTED_MODULE_10__["default"], {
      isSignedIn: !!user && !!user.login
    }, function (showNewStuffOverlay) {
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Header, _extends({}, props, {
        maybeUser: user,
        clearUser: clear,
        showNewStuffOverlay: showNewStuffOverlay
      }));
    });
  });
};

/* harmony default export */ __webpack_exports__["default"] = (HeaderContainer);

/***/ }),

/***/ "./src/presenters/includes/add-collection-project.jsx":
/*!************************************************************!*\
  !*** ./src/presenters/includes/add-collection-project.jsx ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _pop_overs_add_collection_project_pop_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../pop-overs/add-collection-project-pop.jsx */ "./src/presenters/pop-overs/add-collection-project-pop.jsx");
/* harmony import */ var _pop_overs_popover_with_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../pop-overs/popover-with-button */ "./src/presenters/pop-overs/popover-with-button.jsx");


function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var AddCollectionProject = function AddCollectionProject(_ref) {
  var currentUserIsOwner = _ref.currentUserIsOwner,
      props = _objectWithoutProperties(_ref, ["currentUserIsOwner"]);

  if (!currentUserIsOwner) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_pop_overs_popover_with_button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    buttonClass: "button add-project opens-pop-over",
    buttonText: "Add Project",
    passToggleToPop: true
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_pop_overs_add_collection_project_pop_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], props));
};

AddCollectionProject.propTypes = {
  currentUserIsOwner: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  collection: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,
  addProjectToCollection: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  api: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (AddCollectionProject);

/***/ }),

/***/ "./src/presenters/includes/add-project-to-collection.jsx":
/*!***************************************************************!*\
  !*** ./src/presenters/includes/add-project-to-collection.jsx ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _pop_overs_add_project_to_collection_pop_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../pop-overs/add-project-to-collection-pop.jsx */ "./src/presenters/pop-overs/add-project-to-collection-pop.jsx");
/* harmony import */ var _pop_overs_popover_with_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../pop-overs/popover-with-button */ "./src/presenters/pop-overs/popover-with-button.jsx");



function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var AddProjectToCollection = function AddProjectToCollection(_ref) {
  var project = _ref.project,
      props = _objectWithoutProperties(_ref, ["project"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_pop_overs_popover_with_button__WEBPACK_IMPORTED_MODULE_5__["default"], {
    buttonClass: "button button-small has-emoji add-project opens-pop-over",
    buttonText: react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, "Add to Collection ", ' ', react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
      className: "emoji framed-picture",
      role: "presentation"
    })),
    passToggleToPop: true
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_pop_overs_add_project_to_collection_pop_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], _extends({}, props, {
    project: project
  })));
};

AddProjectToCollection.propTypes = {
  addProjectToCollection: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,
  api: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,
  project: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (AddProjectToCollection);

/***/ }),

/***/ "./src/presenters/includes/add-team-project.jsx":
/*!******************************************************!*\
  !*** ./src/presenters/includes/add-team-project.jsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _pop_overs_add_team_project_pop_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../pop-overs/add-team-project-pop.jsx */ "./src/presenters/pop-overs/add-team-project-pop.jsx");
/* harmony import */ var _pop_overs_popover_with_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../pop-overs/popover-with-button */ "./src/presenters/pop-overs/popover-with-button.jsx");


function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var AddTeamProject = function AddTeamProject(_ref) {
  var currentUserIsOnTeam = _ref.currentUserIsOnTeam,
      props = _objectWithoutProperties(_ref, ["currentUserIsOnTeam"]);

  if (!currentUserIsOnTeam) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("section", {
    className: "add-project-container"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_pop_overs_popover_with_button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    buttonClass: `button add-project has-emoji opens-pop-over ${props.extraButtonClass}`,
    buttonText: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, "Add Project ", react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "emoji bento-box",
      role: "img",
      "aria-label": ""
    })),
    passToggleToPop: true
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_pop_overs_add_team_project_pop_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], props)));
};

AddTeamProject.propTypes = {
  currentUserIsOnTeam: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired,
  addProject: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  teamProjects: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array.isRequired,
  extraButtonClass: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
  api: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (AddTeamProject);

/***/ }),

/***/ "./src/presenters/includes/avatar.jsx":
/*!********************************************!*\
  !*** ./src/presenters/includes/avatar.jsx ***!
  \********************************************/
/*! exports provided: Avatar, TeamAvatar, UserAvatar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Avatar", function() { return Avatar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamAvatar", function() { return TeamAvatar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserAvatar", function() { return UserAvatar; });
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_team__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/team */ "./src/models/team.js");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../models/user */ "./src/models/user.js");


function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }




 // UserAvatar

var Avatar = function Avatar(_ref) {
  var name = _ref.name,
      src = _ref.src,
      color = _ref.color,
      srcFallback = _ref.srcFallback,
      type = _ref.type;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    "data-tooltip": name,
    "data-tooltip-left": "true"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img", {
    width: "32px",
    height: "32px",
    src: src,
    alt: name,
    style: color ? {
      backgroundColor: color
    } : null,
    onError: srcFallback ? function (event) {
      return event.target.src = srcFallback;
    } : null,
    className: type + "-avatar"
  }));
};
Avatar.propTypes = {
  name: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  src: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  srcFallback: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
  color: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
  type: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string
};
var TeamAvatar = function TeamAvatar(_ref2) {
  var team = _ref2.team;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Avatar, {
    name: team.name,
    src: Object(_models_team__WEBPACK_IMPORTED_MODULE_3__["getAvatarUrl"])(_objectSpread({}, team, {
      size: 'small'
    })),
    srcFallback: _models_team__WEBPACK_IMPORTED_MODULE_3__["DEFAULT_TEAM_AVATAR"],
    type: "team"
  });
};
TeamAvatar.propTypes = {
  team: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
    hasAvatarImage: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired
  }).isRequired
};
var UserAvatar = function UserAvatar(_ref3) {
  var user = _ref3.user,
      _ref3$suffix = _ref3.suffix,
      suffix = _ref3$suffix === void 0 ? '' : _ref3$suffix;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Avatar, {
    name: Object(_models_user__WEBPACK_IMPORTED_MODULE_4__["getDisplayName"])(user) + suffix,
    src: Object(_models_user__WEBPACK_IMPORTED_MODULE_4__["getAvatarThumbnailUrl"])(user),
    color: user.color,
    srcFallback: _models_user__WEBPACK_IMPORTED_MODULE_4__["ANON_AVATAR_URL"],
    type: "user"
  });
};
UserAvatar.propTypes = {
  user: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
    login: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    name: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    avatarThumbnailUrl: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string,
    color: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired
  }).isRequired,
  suffix: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string
};

/***/ }),

/***/ "./src/presenters/includes/collection-avatar.jsx":
/*!*******************************************************!*\
  !*** ./src/presenters/includes/collection-avatar.jsx ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CollectionAvatar; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_svg_inline__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-svg-inline */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-svg-inline/2.1.1/node_modules/react-svg-inline/lib/index.js");
/* harmony import */ var react_svg_inline__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_svg_inline__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_collection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/collection */ "./src/models/collection.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }






var CollectionAvatar =
/*#__PURE__*/
function (_React$Component) {
  _inherits(CollectionAvatar, _React$Component);

  function CollectionAvatar(props) {
    var _this;

    _classCallCheck(this, CollectionAvatar);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(CollectionAvatar).call(this, props));
    _this.ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();
    return _this;
  }

  _createClass(CollectionAvatar, [{
    key: "syncColor",
    value: function syncColor() {
      var svgBackgroundEl = this.ref.current.querySelector('.background');
      svgBackgroundEl.setAttribute('fill', this.props.backgroundColor);
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.syncColor();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this.syncColor();
    }
  }, {
    key: "render",
    value: function render() {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        ref: this.ref
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_svg_inline__WEBPACK_IMPORTED_MODULE_2___default.a, {
        svg: _models_collection__WEBPACK_IMPORTED_MODULE_3__["defaultAvatarSVG"]
      }));
    }
  }]);

  return CollectionAvatar;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);


CollectionAvatar.propTypes = {
  backgroundColor: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};

/***/ }),

/***/ "./src/presenters/includes/collection-result-item.jsx":
/*!************************************************************!*\
  !*** ./src/presenters/includes/collection-result-item.jsx ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _notifications_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../notifications.jsx */ "./src/presenters/notifications.jsx");
/* harmony import */ var _collection_avatar_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./collection-avatar.jsx */ "./src/presenters/includes/collection-avatar.jsx");





var AddProjectMessage = function AddProjectMessage(_ref) {
  var projectName = _ref.projectName,
      collectionName = _ref.collectionName,
      url = _ref.url;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Added ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "project-name"
  }, projectName)), " to collection ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("b", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "collection-name"
  }, collectionName))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
    href: url,
    rel: "noopener noreferrer",
    className: "button button-small button-tertiary button-in-notification-container notify-collection-link"
  }, "Take me there"));
};

AddProjectMessage.propTypes = {
  projectName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  collectionName: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  url: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};

var addProject = function addProject(addProjectToCollection, project, collection, collectionPath, notification, togglePopover) {
  try {
    // add project to collection via api
    addProjectToCollection(project, collection); // toggle popover

    togglePopover(); // show notification

    var content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(AddProjectMessage, {
      projectName: project.domain,
      collectionName: collection.name,
      url: collectionPath
    });
    notification(content, "notifySuccess");
  } catch (error) {
    var _content = react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Something went wrong. Try refreshing and adding the project again.");

    notification(_content, "notifyError");
  }
};

var CollectionResultItem = function CollectionResultItem(_ref2) {
  var _onClick = _ref2.onClick,
      project = _ref2.project,
      collection = _ref2.collection,
      currentUserLogin = _ref2.currentUserLogin,
      isActive = _ref2.isActive,
      togglePopover = _ref2.togglePopover;
  var resultClass = "button-unstyled result result-collection";

  if (isActive) {
    resultClass += " active";
  }

  var collectionPath = `/@${currentUserLogin}/${collection.url}`;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_notifications_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], null, function (_ref3) {
    var createNotification = _ref3.createNotification;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: resultClass,
      onClick: function onClick() {
        return addProject(_onClick, project, collection, collectionPath, createNotification, togglePopover);
      },
      "data-project-id": project.id
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "avatar",
      id: "avatar-collection-" + collection.id
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_collection_avatar_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
      backgroundColor: collection.coverColor
    })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "results-info"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "result-name",
      title: collection.name
    }, collection.name), collection.description.length > 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "result-description"
    }, collection.description))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("a", {
      href: collectionPath,
      className: "view-result-link button button-small button-link",
      target: "_blank",
      rel: "noopener noreferrer"
    }, "View \u2192"));
  });
};

CollectionResultItem.propTypes = {
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  collection: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  currentUserLogin: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  isActive: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  project: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  togglePopover: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (CollectionResultItem);

/***/ }),

/***/ "./src/presenters/includes/delete-team.jsx":
/*!*************************************************!*\
  !*** ./src/presenters/includes/delete-team.jsx ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _pop_overs_delete_team_pop_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../pop-overs/delete-team-pop.jsx */ "./src/presenters/pop-overs/delete-team-pop.jsx");
/* harmony import */ var _pop_overs_popover_with_button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../pop-overs/popover-with-button */ "./src/presenters/pop-overs/popover-with-button.jsx");






var DeleteTeam = function DeleteTeam(_ref) {
  var props = Object.assign({}, _ref);
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("section", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_pop_overs_popover_with_button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    buttonClass: "button button-small button-tertiary has-emoji opens-pop-over danger-zone",
    buttonText: react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, "Delete ", props.teamName, "\xA0", react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
      className: "emoji bomb",
      role: "img",
      "aria-label": ""
    }), " "),
    passToggleToPop: true
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_pop_overs_delete_team_pop_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], props)));
};

DeleteTeam.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  teamId: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  teamName: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  users: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array.isRequired,
  teamAdmins: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (DeleteTeam);

/***/ }),

/***/ "./src/presenters/includes/description-field.jsx":
/*!*******************************************************!*\
  !*** ./src/presenters/includes/description-field.jsx ***!
  \*******************************************************/
/*! exports provided: StaticDescription, AuthDescription */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StaticDescription", function() { return StaticDescription; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthDescription", function() { return AuthDescription; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_textarea_autosize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-textarea-autosize */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-textarea-autosize/7.1.0/node_modules/react-textarea-autosize/dist/react-textarea-autosize.esm.browser.js");
/* harmony import */ var _markdown_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./markdown.jsx */ "./src/presenters/includes/markdown.jsx");
/* harmony import */ var _field_helpers_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./field-helpers.jsx */ "./src/presenters/includes/field-helpers.jsx");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }







var EditableDescriptionImpl =
/*#__PURE__*/
function (_React$Component) {
  _inherits(EditableDescriptionImpl, _React$Component);

  function EditableDescriptionImpl(props) {
    var _this;

    _classCallCheck(this, EditableDescriptionImpl);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditableDescriptionImpl).call(this, props));
    _this.state = {
      focused: false
    };
    _this.onFocus = _this.onFocus.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.onBlur = _this.onBlur.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(EditableDescriptionImpl, [{
    key: "onFocus",
    value: function onFocus(event) {
      if (event.currentTarget === event.target) {
        this.setState({
          focused: true
        });
      }
    }
  }, {
    key: "onBlur",
    value: function onBlur() {
      this.setState({
        focused: false
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          description = _this$props.description,
          placeholder = _this$props.placeholder;
      return this.state.focused ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_textarea_autosize__WEBPACK_IMPORTED_MODULE_2__["default"], {
        className: "description content-editable",
        value: description,
        onChange: function onChange(evt) {
          return _this2.props.update(evt.target.value);
        },
        onFocus: this.onFocus,
        onBlur: this.onBlur,
        placeholder: placeholder,
        spellCheck: false,
        autoFocus: true // eslint-disable-line jsx-a11y/no-autofocus

      }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
        className: "description content-editable",
        placeholder: placeholder,
        "aria-label": placeholder,
        role: "textbox" // eslint-disable-line jsx-a11y/no-noninteractive-element-to-interactive-role
        ,
        tabIndex: 0,
        onFocus: this.onFocus,
        onBlur: this.onBlur
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_markdown_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], null, description));
    }
  }]);

  return EditableDescriptionImpl;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

EditableDescriptionImpl.propTypes = {
  description: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  placeholder: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  update: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};

var EditableDescription = function EditableDescription(_ref) {
  var description = _ref.description,
      placeholder = _ref.placeholder,
      update = _ref.update;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_field_helpers_jsx__WEBPACK_IMPORTED_MODULE_4__["OptimisticValue"], {
    value: description,
    update: update
  }, function (_ref2) {
    var value = _ref2.value,
        update = _ref2.update;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EditableDescriptionImpl, {
      description: value,
      update: update,
      placeholder: placeholder
    });
  });
};

EditableDescription.propTypes = {
  description: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  placeholder: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  update: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
var StaticDescription = function StaticDescription(_ref3) {
  var description = _ref3.description;
  return description ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
    className: "description read-only"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_markdown_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], null, description)) : null;
};
StaticDescription.propTypes = {
  description: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
var AuthDescription = function AuthDescription(_ref4) {
  var authorized = _ref4.authorized,
      description = _ref4.description,
      placeholder = _ref4.placeholder,
      update = _ref4.update;
  return authorized ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(EditableDescription, {
    description: description,
    update: update,
    placeholder: placeholder
  }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(StaticDescription, {
    description: description
  });
};
AuthDescription.propTypes = {
  authorized: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  description: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  placeholder: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  update: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};

/***/ }),

/***/ "./src/presenters/includes/dev-toggles.jsx":
/*!*************************************************!*\
  !*** ./src/presenters/includes/dev-toggles.jsx ***!
  \*************************************************/
/*! exports provided: DevTogglesProvider, DevToggles, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DevTogglesProvider", function() { return DevTogglesProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DevToggles", function() { return DevToggles; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _includes_user_prefs_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../includes/user-prefs.jsx */ "./src/presenters/includes/user-prefs.jsx");




var _React$createContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(),
    Provider = _React$createContext.Provider,
    Consumer = _React$createContext.Consumer; //  Dev Toggles!
//
//   Use dev toggles to parts of the site that are still in development.
//   This site is open source, there's no utility here, this is just a way to help us
//   ship things _extra_ early without impacting customer UX
//
// Define your dev toggles here.
// We can only have three.
// Users can enable them with the /secret page.


var toggleData = [{
  name: "Email Invites",
  description: "Enables invite-by-email behavior on the team page."
}, {
  name: "Everybody Dance!",
  description: "Placeholder for a new toggle."
}, {
  name: "Inflatable Crocodiles",
  description: "I don't think this does anything yet."
}].splice(0, 3); // <-- Yeah really, only 3.  If you need more, clean up one first.
// Usage:
// Import Devtoggles into your scope:
// import DevToggles from '../includes/dev-toggles.jsx`
// Use the DevToggles from inside of a DevTogglesProvider
// (Which in turn must be inside of a UserPrefProvider,
// both of which are provided by the Client.jsx)
// Fetch the array enabledToggles and test for features with [].includes:

/*
  <DevToggles>
    {(enabledToggles) => (
      <div> I could sure go for some:
        { enabledToggles.includes("fishsticks") && <FishSticks/> }
      </div>
    )}
  </DevToggles>
*/

var DevTogglesProvider = function DevTogglesProvider(_ref) {
  var children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_user_prefs_jsx__WEBPACK_IMPORTED_MODULE_2__["UserPref"], {
    name: "devToggles",
    default: []
  }, function (enabledToggles, setEnabledToggles) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Provider, {
      value: {
        enabledToggles: enabledToggles,
        toggleData: toggleData,
        setEnabledToggles: setEnabledToggles
      }
    }, children);
  });
};
DevTogglesProvider.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired
};
var DevToggles = function DevToggles(_ref2) {
  var children = _ref2.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Consumer, null, function (_ref3) {
    var enabledToggles = _ref3.enabledToggles,
        toggleData = _ref3.toggleData,
        setEnabledToggles = _ref3.setEnabledToggles;
    return children(enabledToggles || [], toggleData, setEnabledToggles);
  });
};
DevToggles.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (DevToggles);

/***/ }),

/***/ "./src/presenters/includes/edit-collection-color.jsx":
/*!***********************************************************!*\
  !*** ./src/presenters/includes/edit-collection-color.jsx ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _pop_overs_edit_collection_color_pop_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../pop-overs/edit-collection-color-pop.jsx */ "./src/presenters/pop-overs/edit-collection-color-pop.jsx");
/* harmony import */ var _pop_overs_popover_with_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../pop-overs/popover-with-button */ "./src/presenters/pop-overs/popover-with-button.jsx");



function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }






var EditCollectionColor = function EditCollectionColor(_ref) {
  var update = _ref.update,
      initialColor = _ref.initialColor,
      props = _objectWithoutProperties(_ref, ["update", "initialColor"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_pop_overs_popover_with_button__WEBPACK_IMPORTED_MODULE_5__["default"], {
    containerClass: "edit-collection-color-btn",
    buttonClass: "button add-project opens-pop-over",
    buttonText: "Color",
    passToggleToPop: true
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_pop_overs_edit_collection_color_pop_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], _extends({}, props, {
    updateColor: update,
    initialColor: initialColor
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (EditCollectionColor);
EditCollectionColor.propTypes = {
  update: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,
  initialColor: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired
};

/***/ }),

/***/ "./src/presenters/includes/edit-collection-name-and-url.jsx":
/*!******************************************************************!*\
  !*** ./src/presenters/includes/edit-collection-name-and-url.jsx ***!
  \******************************************************************/
/*! exports provided: EditCollectionNameAndUrl, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditCollectionNameAndUrl", function() { return EditCollectionNameAndUrl; });
/* harmony import */ var lodash_kebabCase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/kebabCase */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/kebabCase.js");
/* harmony import */ var lodash_kebabCase__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_kebabCase__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _field_helpers_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./field-helpers.jsx */ "./src/presenters/includes/field-helpers.jsx");
/* harmony import */ var _editable_wrapping_field_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./editable-wrapping-field.jsx */ "./src/presenters/includes/editable-wrapping-field.jsx");




 // This recreates EditableField but OptimisticValue tracks both the name and url
// That way the url preview updates in real time as you type into the name field

var EditCollectionNameAndUrl = function EditCollectionNameAndUrl(_ref) {
  var name = _ref.name,
      url = _ref.url,
      update = _ref.update,
      isAuthorized = _ref.isAuthorized;
  var placeholder = 'Name your collection';
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_field_helpers_jsx__WEBPACK_IMPORTED_MODULE_3__["OptimisticValue"], {
    value: {
      name: name,
      url: url
    },
    update: update,
    resetOnError: false
  }, function (_ref2) {
    var nameAndUrl = _ref2.value,
        _update = _ref2.update,
        error = _ref2.error;
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_field_helpers_jsx__WEBPACK_IMPORTED_MODULE_3__["TrimmedValue"], {
      value: nameAndUrl.name,
      update: function update(name) {
        return _update({
          name: name,
          url: lodash_kebabCase__WEBPACK_IMPORTED_MODULE_0___default()(name)
        });
      }
    }, function (_ref3) {
      var name = _ref3.value,
          update = _ref3.update;
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h1", {
        className: "collection-name"
      }, isAuthorized ? react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_editable_wrapping_field_jsx__WEBPACK_IMPORTED_MODULE_4__["PureEditableWrappingField"], {
        value: name,
        update: update,
        placeholder: placeholder,
        error: error
      }) : name);
    });
  });
};
EditCollectionNameAndUrl.propTypes = {
  name: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  url: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  update: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  isAuthorized: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (EditCollectionNameAndUrl);

/***/ }),

/***/ "./src/presenters/includes/editable-field.jsx":
/*!****************************************************!*\
  !*** ./src/presenters/includes/editable-field.jsx ***!
  \****************************************************/
/*! exports provided: PureEditableTextArea, PureEditableField, EditableField, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PureEditableTextArea", function() { return PureEditableTextArea; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PureEditableField", function() { return PureEditableField; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditableField", function() { return EditableField; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_uniqueId__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/uniqueId */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/uniqueId.js");
/* harmony import */ var lodash_uniqueId__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqueId__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _field_helpers_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./field-helpers.jsx */ "./src/presenters/includes/field-helpers.jsx");




function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }





var PureEditableFieldHolder =
/*#__PURE__*/
function (_React$Component) {
  _inherits(PureEditableFieldHolder, _React$Component);

  function PureEditableFieldHolder(props) {
    var _this;

    _classCallCheck(this, PureEditableFieldHolder);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(PureEditableFieldHolder).call(this, props));
    _this.state = {
      id: lodash_uniqueId__WEBPACK_IMPORTED_MODULE_2___default()("editable-field-")
    };
    _this.textInput = react__WEBPACK_IMPORTED_MODULE_3___default.a.createRef();
    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(PureEditableFieldHolder, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      if (this.props.autoFocus) {
        this.textInput.current.select();
      }
    }
  }, {
    key: "onChange",
    value: function onChange(evt) {
      this.props.update(evt.target.value);
    }
  }, {
    key: "render",
    value: function render() {
      var classes = ["content-editable", this.props.error ? "error" : ""].join(" ");
      var inputProps = {
        id: this.state.id,
        className: classes,
        value: this.props.value,
        onChange: this.onChange,
        spellCheck: false,
        autoComplete: "off",
        placeholder: this.props.placeholder,
        autoFocus: this.props.autoFocus,
        onBlur: this.props.blur,
        type: this.props.inputType
      };
      var maybeErrorIcon = !!this.props.error && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_field_helpers_jsx__WEBPACK_IMPORTED_MODULE_5__["FieldErrorIcon"], null);
      var maybeErrorMessage = !!this.props.error && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_field_helpers_jsx__WEBPACK_IMPORTED_MODULE_5__["FieldErrorMessage"], {
        error: this.props.error,
        hideIcon: true
      });
      var maybePrefix = !!this.props.prefix && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
        className: "content-editable-affix " + classes
      }, this.props.prefix);
      var maybeSuffix = !!this.props.suffix && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
        className: "content-editable-affix " + classes
      }, this.props.suffix);
      return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("label", {
        htmlFor: inputProps.id
      }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
        className: "editable-field-flex"
      }, maybePrefix, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
        className: "editable-field-input"
      }, this.props.children(inputProps, this.textInput), maybeErrorIcon), maybeSuffix), maybeErrorMessage);
    }
  }]);

  return PureEditableFieldHolder;
}(react__WEBPACK_IMPORTED_MODULE_3___default.a.Component);

PureEditableFieldHolder.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  placeholder: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  update: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  // function that takes inputProps and inputRef as parameters and returns a node
  blur: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  prefix: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.node,
  suffix: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.node,
  autoFocus: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  error: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string
};
var PureEditableTextArea = function PureEditableTextArea(props) {
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(PureEditableFieldHolder, props, function (inputProps, inputRef) {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("textarea", _extends({}, inputProps, {
      ref: inputRef
    }));
  });
};
PureEditableTextArea.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  placeholder: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  update: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  blur: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  prefix: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.node,
  suffix: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.node,
  autoFocus: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  error: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,
  inputType: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string
};
var PureEditableField = function PureEditableField(props) {
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(PureEditableFieldHolder, props, function (inputProps, inputRef) {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("input", _extends({}, inputProps, {
      ref: inputRef
    }));
  });
};
PureEditableField.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  placeholder: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  update: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  blur: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  prefix: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.node,
  suffix: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.node,
  autoFocus: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool,
  error: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,
  inputType: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string
};
var EditableField = function EditableField(_ref) {
  var value = _ref.value,
      update = _ref.update,
      props = _objectWithoutProperties(_ref, ["value", "update"]);

  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_field_helpers_jsx__WEBPACK_IMPORTED_MODULE_5__["OptimisticValue"], {
    value: value,
    update: update,
    resetOnError: false
  }, function (_ref2) {
    var value = _ref2.value,
        update = _ref2.update,
        error = _ref2.error;
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_field_helpers_jsx__WEBPACK_IMPORTED_MODULE_5__["TrimmedValue"], {
      value: value,
      update: update
    }, function (valueProps) {
      return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(PureEditableField, _extends({}, props, valueProps, {
        error: error
      }));
    });
  });
};
EditableField.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  placeholder: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  update: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  blur: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  prefix: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.node,
  suffix: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.node,
  autoFocus: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool
};
/* harmony default export */ __webpack_exports__["default"] = (EditableField);

/***/ }),

/***/ "./src/presenters/includes/editable-wrapping-field.jsx":
/*!*************************************************************!*\
  !*** ./src/presenters/includes/editable-wrapping-field.jsx ***!
  \*************************************************************/
/*! exports provided: PureEditableWrappingField, EditableWrappingField, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PureEditableWrappingField", function() { return PureEditableWrappingField; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditableWrappingField", function() { return EditableWrappingField; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.regexp.replace */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.replace.js");
/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_uniqueId__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/uniqueId */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/uniqueId.js");
/* harmony import */ var lodash_uniqueId__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_uniqueId__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_textarea_autosize__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-textarea-autosize */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-textarea-autosize/7.1.0/node_modules/react-textarea-autosize/dist/react-textarea-autosize.esm.browser.js");
/* harmony import */ var _field_helpers_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./field-helpers.jsx */ "./src/presenters/includes/field-helpers.jsx");





function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }





var PureEditableWrappingField =
/*#__PURE__*/
function (_React$Component) {
  _inherits(PureEditableWrappingField, _React$Component);

  function PureEditableWrappingField(props) {
    var _this;

    _classCallCheck(this, PureEditableWrappingField);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(PureEditableWrappingField).call(this, props));
    _this.state = {
      id: lodash_uniqueId__WEBPACK_IMPORTED_MODULE_3___default()("editable-field-")
    };
    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(PureEditableWrappingField, [{
    key: "onChange",
    value: function onChange(evt) {
      this.props.update(evt.target.value.replace(/\r?\n/g, ''));
    }
  }, {
    key: "render",
    value: function render() {
      var classes = ["content-editable", this.props.error ? "error" : ""].join(" ");
      var inputProps = {
        id: this.state.id,
        className: classes,
        value: this.props.value,
        onChange: this.onChange,
        spellCheck: false,
        autoComplete: "off",
        placeholder: this.props.placeholder,
        autoFocus: this.props.autoFocus
      };
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("label", {
        htmlFor: inputProps.id
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_textarea_autosize__WEBPACK_IMPORTED_MODULE_6__["default"], inputProps), !!this.props.error && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_field_helpers_jsx__WEBPACK_IMPORTED_MODULE_7__["FieldErrorMessage"], {
        error: this.props.error
      }));
    }
  }]);

  return PureEditableWrappingField;
}(react__WEBPACK_IMPORTED_MODULE_4___default.a.Component);
PureEditableWrappingField.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
  placeholder: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
  update: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  autoFocus: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool,
  error: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string
};
var EditableWrappingField = function EditableWrappingField(_ref) {
  var value = _ref.value,
      update = _ref.update,
      props = _objectWithoutProperties(_ref, ["value", "update"]);

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_field_helpers_jsx__WEBPACK_IMPORTED_MODULE_7__["OptimisticValue"], {
    value: value,
    update: update,
    resetOnError: false
  }, function (_ref2) {
    var value = _ref2.value,
        update = _ref2.update,
        error = _ref2.error;
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_field_helpers_jsx__WEBPACK_IMPORTED_MODULE_7__["TrimmedValue"], {
      value: value,
      update: update
    }, function (valueProps) {
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(PureEditableWrappingField, _extends({}, props, valueProps, {
        error: error
      }));
    });
  });
};
EditableWrappingField.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
  placeholder: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
  update: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  autoFocus: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool
};
/* harmony default export */ __webpack_exports__["default"] = (EditableWrappingField);

/***/ }),

/***/ "./src/presenters/includes/embed.jsx":
/*!*******************************************!*\
  !*** ./src/presenters/includes/embed.jsx ***!
  \*******************************************/
/*! exports provided: Embed, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Embed", function() { return Embed; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

/* global APP_URL */


var telescopeImageUrl = 'https://cdn.glitch.com/7138972f-76e1-43f4-8ede-84c3cdd4b40a%2Ftelescope_404.svg?1543258683849';
var Embed =
/*#__PURE__*/
function (_React$Component) {
  _inherits(Embed, _React$Component);

  function Embed(props) {
    var _this;

    _classCallCheck(this, Embed);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Embed).call(this, props));
    _this.state = {
      browserSupported: _this.browserSatisfiesRequirements()
    };
    return _this;
  } // Babel does not transpile URLSearchParams, so using this as a compatibility check for showing embeds now.
  // TODO(sheridan) make this more robust in future


  _createClass(Embed, [{
    key: "browserSatisfiesRequirements",
    value: function browserSatisfiesRequirements() {
      try {
        /* eslint-disable no-unused-vars */
        new URLSearchParams();
        /* eslint-enable no-unused-vars */

        return true;
      } catch (error) {
        console.log("Sorry, you don't have the necessary JavaScript features to run Glitch code editors. Try applying your latest system updates, or try again with a different web browser.", error);
        return false;
      }
    }
  }, {
    key: "render",
    value: function render() {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "glitch-embed-wrap"
      }, this.state.browserSupported ? // Embed iframe for app
      react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("iframe", {
        title: "embed",
        src: `${APP_URL}/embed/#!/embed/${this.props.domain}?path=README.md&previewSize=100`,
        alt: `${this.props.domain} on Glitch`,
        allow: "geolocation; microphone; camera; midi; encrypted-media",
        height: "100%",
        width: "100%",
        border: "0"
      }) : // Error message if JS not supported
      // TODO(sheridan): Refactor this once we have a true error component
      react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "error-container"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        className: "error-image",
        src: telescopeImageUrl,
        alt: "",
        width: "50%",
        height: "50%"
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "error-msg"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, "The web browser you're using is missing some important Javascript features"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "To use this app, please try applying your latest system updates, or try again with a different web browser."))));
    }
  }]);

  return Embed;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);
Embed.propTypes = {
  domain: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  alt: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
};
/* harmony default export */ __webpack_exports__["default"] = (Embed);

/***/ }),

/***/ "./src/presenters/includes/error-boundary.jsx":
/*!****************************************************!*\
  !*** ./src/presenters/includes/error-boundary.jsx ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ErrorBoundary; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _utils_sentry__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/sentry */ "./src/utils/sentry.js");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }





var ErrorBoundary =
/*#__PURE__*/
function (_React$Component) {
  _inherits(ErrorBoundary, _React$Component);

  function ErrorBoundary(props) {
    var _this;

    _classCallCheck(this, ErrorBoundary);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(ErrorBoundary).call(this, props));
    _this.state = {
      error: null
    };
    return _this;
  }

  _createClass(ErrorBoundary, [{
    key: "componentDidCatch",
    value: function componentDidCatch(error) {
      console.error(error);
      Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_2__["captureException"])(error);
      this.setState({
        error: error
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          children = _this$props.children,
          fallback = _this$props.fallback;
      var error = this.state.error;
      return error ? fallback : children;
    }
  }]);

  return ErrorBoundary;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);


ErrorBoundary.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  fallback: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node
};
ErrorBoundary.defaultProps = {
  fallback: 'Something went wrong, try refreshing?'
};

/***/ }),

/***/ "./src/presenters/includes/expander.jsx":
/*!**********************************************!*\
  !*** ./src/presenters/includes/expander.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Expander; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }




var Expander =
/*#__PURE__*/
function (_React$Component) {
  _inherits(Expander, _React$Component);

  function Expander(props) {
    var _this;

    _classCallCheck(this, Expander);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Expander).call(this, props));
    _this.state = {
      startedExpanding: false,
      doneExpanding: false,
      scrollHeight: Infinity
    };
    _this.ref = react__WEBPACK_IMPORTED_MODULE_0___default.a.createRef();
    _this.updateHeight = _this.updateHeight.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(Expander, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.updateHeight();
      this.ref.current.addEventListener('load', this.updateHeight, {
        capture: true
      });
      window.addEventListener('resize', this.updateHeight, {
        passive: true
      });
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.ref.current.removeEventListener('load', this.updateHeight, {
        capture: true
      });
      window.removeEventListener('resize', this.updateHeight, {
        passive: true
      });
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this.updateHeight();
    }
  }, {
    key: "updateHeight",
    value: function updateHeight() {
      var scrollHeight = this.ref.current.scrollHeight;

      if (scrollHeight !== this.state.scrollHeight) {
        this.setState({
          scrollHeight: scrollHeight
        });
      }
    }
  }, {
    key: "expand",
    value: function expand() {
      this.updateHeight();
      this.setState({
        startedExpanding: true
      });
    }
  }, {
    key: "onExpandEnd",
    value: function onExpandEnd(evt) {
      if (evt.propertyName === 'max-height') {
        this.setState({
          doneExpanding: true
        });
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
          startedExpanding = _this$state.startedExpanding,
          doneExpanding = _this$state.doneExpanding,
          scrollHeight = _this$state.scrollHeight;
      var aboveLimit = scrollHeight > this.props.height;
      var limitHeight = aboveLimit ? this.props.height - this.props.minSlide : this.props.height;
      var maxHeight = startedExpanding ? scrollHeight : limitHeight;
      var style = !doneExpanding ? {
        maxHeight: maxHeight
      } : null;
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        ref: this.ref,
        className: "expander",
        style: style,
        onTransitionEnd: startedExpanding ? this.onExpandEnd.bind(this) : null
      }, this.props.children, !doneExpanding && aboveLimit && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "expander-mask"
      }, !startedExpanding && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        onClick: this.expand.bind(this),
        className: "expander-button button-small button-tertiary"
      }, "Show More")));
    }
  }]);

  return Expander;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);


Expander.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  height: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  minSlide: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
};
Expander.defaultProps = {
  minSlide: 50
};

/***/ }),

/***/ "./src/presenters/includes/field-helpers.jsx":
/*!***************************************************!*\
  !*** ./src/presenters/includes/field-helpers.jsx ***!
  \***************************************************/
/*! exports provided: OptimisticValue, TrimmedValue, FieldErrorIcon, FieldErrorMessage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OptimisticValue", function() { return OptimisticValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TrimmedValue", function() { return TrimmedValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldErrorIcon", function() { return FieldErrorIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FieldErrorMessage", function() { return FieldErrorMessage; });
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/debounce */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);




function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }



var OptimisticValue =
/*#__PURE__*/
function (_React$Component) {
  _inherits(OptimisticValue, _React$Component);

  function OptimisticValue(props) {
    var _this;

    _classCallCheck(this, OptimisticValue);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(OptimisticValue).call(this, props));
    _this.state = {
      value: null,
      // value is only set when waiting for server response
      error: null // error is only set if there is an error ¯\_(ツ)_/¯

    };
    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.update = lodash_debounce__WEBPACK_IMPORTED_MODULE_2___default()(_this.update.bind(_assertThisInitialized(_assertThisInitialized(_this))), 500);
    return _this;
  }

  _createClass(OptimisticValue, [{
    key: "update",
    value: function () {
      var _update = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(value) {
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                _context.next = 3;
                return this.props.update(value);

              case 3:
                this.setState(function (prevState, props) {
                  // if value didn't change during this update then switch back to props
                  if (prevState.value === props.value) {
                    return {
                      value: null,
                      error: null
                    };
                  }

                  return {
                    error: null
                  };
                });
                _context.next = 9;
                break;

              case 6:
                _context.prev = 6;
                _context.t0 = _context["catch"](0);
                this.setState(function (prevState, props) {
                  // The update failed; we can ignore this if our state has already moved on
                  if (prevState.value !== value) {
                    return {};
                  } // Ah, we haven't moved on, and we know the last edit failed.
                  // Ok, display an error.


                  if (props.resetOnError) {
                    return {
                      error: _context.t0,
                      value: null
                    };
                  }

                  return {
                    error: _context.t0
                  };
                });

              case 9:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[0, 6]]);
      }));

      function update(_x) {
        return _update.apply(this, arguments);
      }

      return update;
    }()
  }, {
    key: "onChange",
    value: function onChange(value) {
      this.update(value);
      this.setState({
        value: value
      });
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children({
        value: this.state.value !== null ? this.state.value : this.props.value,
        error: this.state.error,
        update: this.onChange
      });
    }
  }]);

  return OptimisticValue;
}(react__WEBPACK_IMPORTED_MODULE_3___default.a.Component);
OptimisticValue.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object]).isRequired,
  update: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  resetOnError: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool
};
OptimisticValue.defaultProps = {
  resetOnError: true
};
var TrimmedValue =
/*#__PURE__*/
function (_React$Component2) {
  _inherits(TrimmedValue, _React$Component2);

  function TrimmedValue(props) {
    var _this2;

    _classCallCheck(this, TrimmedValue);

    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(TrimmedValue).call(this, props));
    _this2.state = {
      value: props.value
    };
    _this2.update = _this2.update.bind(_assertThisInitialized(_assertThisInitialized(_this2)));
    return _this2;
  }

  _createClass(TrimmedValue, [{
    key: "update",
    value: function update(value) {
      this.props.update(value.trim());
      this.setState({
        value: value
      });
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children({
        value: this.state.value.trim() === this.props.value ? this.state.value : this.props.value,
        update: this.update
      });
    }
  }]);

  return TrimmedValue;
}(react__WEBPACK_IMPORTED_MODULE_3___default.a.Component);
TrimmedValue.propTypes = {
  value: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  update: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired
};
var FieldErrorIcon = function FieldErrorIcon() {
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "editable-field-error-icon",
    role: "img",
    "aria-label": "Warning"
  }, "\uD83D\uDE92");
};
var FieldErrorMessage = function FieldErrorMessage(_ref) {
  var error = _ref.error,
      hideIcon = _ref.hideIcon;
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "editable-field-error-message"
  }, !hideIcon && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(FieldErrorIcon, null), error);
};
FieldErrorMessage.propTypes = {
  error: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.node.isRequired,
  hideIcon: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool
};

/***/ }),

/***/ "./src/presenters/includes/konami.jsx":
/*!********************************************!*\
  !*** ./src/presenters/includes/konami.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Konami; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_konami__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-konami */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-konami/0.5.0/node_modules/react-konami/build/Konami.js");
/* harmony import */ var react_konami__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_konami__WEBPACK_IMPORTED_MODULE_2__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



 // Usage:
// <Konami>
//   Inner part will render once konami code is entered.
// </Konami>

var Konami =
/*#__PURE__*/
function (_React$Component) {
  _inherits(Konami, _React$Component);

  function Konami(props) {
    var _this;

    _classCallCheck(this, Konami);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Konami).call(this, props));
    _this.state = {
      active: false
    };
    return _this;
  }

  _createClass(Konami, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konami__WEBPACK_IMPORTED_MODULE_2___default.a, {
        easterEgg: function easterEgg() {
          return _this2.setState({
            active: true
          });
        }
      }), !!this.state.active && this.props.children);
    }
  }]);

  return Konami;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);


Konami.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired
};

/***/ }),

/***/ "./src/presenters/includes/link.jsx":
/*!******************************************!*\
  !*** ./src/presenters/includes/link.jsx ***!
  \******************************************/
/*! exports provided: Link, CollectionLink, ProjectLink, TeamLink, UserLink, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Link", function() { return Link; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CollectionLink", function() { return CollectionLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectLink", function() { return ProjectLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamLink", function() { return TeamLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserLink", function() { return UserLink; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.regexp.search */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.search.js");
/* harmony import */ var core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-router-dom/4.3.1/node_modules/react-router-dom/es/index.js");
/* harmony import */ var _models_collection__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../models/collection */ "./src/models/collection.js");
/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../models/project */ "./src/models/project.js");
/* harmony import */ var _models_team__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../models/team */ "./src/models/team.js");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../models/user */ "./src/models/user.js");





function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }








/* global EXTERNAL_ROUTES */

var external = Array.from(EXTERNAL_ROUTES);
var Link = react__WEBPACK_IMPORTED_MODULE_4___default.a.forwardRef(function Link(_ref, ref) {
  var to = _ref.to,
      children = _ref.children,
      props = _objectWithoutProperties(_ref, ["to", "children"]);

  if (typeof to === 'string') {
    var currentUrl = new URL(window.location.href);
    var targetUrl = new URL(to, currentUrl);

    if (targetUrl.origin !== currentUrl.origin || external.some(function (route) {
      return targetUrl.pathname.startsWith(route);
    })) {
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("a", _extends({
        href: to
      }, props, {
        ref: ref
      }), children);
    }

    to = {
      pathname: targetUrl.pathname,
      search: targetUrl.search,
      hash: targetUrl.hash
    };
  }

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Link"], _extends({
    to: to
  }, props, {
    innerRef: ref
  }), children);
});
Link.propTypes = {
  to: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object]).isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node.isRequired
};
var CollectionLink = function CollectionLink(_ref2) {
  var collection = _ref2.collection,
      children = _ref2.children,
      props = _objectWithoutProperties(_ref2, ["collection", "children"]);

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Link, _extends({
    to: Object(_models_collection__WEBPACK_IMPORTED_MODULE_7__["getLink"])(collection)
  }, props), children);
};
CollectionLink.propTypes = {
  collection: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.shape({
    team: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.PropTypes.shape({
      url: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired
    }).isRequired,
    url: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired
  }), prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.shape({
    user: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.PropTypes.shape({
      id: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number.isRequired,
      login: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string
    }).isRequired,
    url: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired
  })]).isRequired
};
var ProjectLink = function ProjectLink(_ref3) {
  var project = _ref3.project,
      children = _ref3.children,
      props = _objectWithoutProperties(_ref3, ["project", "children"]);

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Link, _extends({
    to: Object(_models_project__WEBPACK_IMPORTED_MODULE_8__["getLink"])(project)
  }, props), children);
};
ProjectLink.propTypes = {
  project: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.shape({
    domain: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired
  }).isRequired
};
var TeamLink = function TeamLink(_ref4) {
  var team = _ref4.team,
      children = _ref4.children,
      props = _objectWithoutProperties(_ref4, ["team", "children"]);

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Link, _extends({
    to: Object(_models_team__WEBPACK_IMPORTED_MODULE_9__["getLink"])(team)
  }, props), children);
};
TeamLink.propTypes = {
  team: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.shape({
    url: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired
  }).isRequired
};
var UserLink = function UserLink(_ref5) {
  var user = _ref5.user,
      children = _ref5.children,
      props = _objectWithoutProperties(_ref5, ["user", "children"]);

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Link, _extends({
    to: Object(_models_user__WEBPACK_IMPORTED_MODULE_10__["getLink"])(user)
  }, props), children);
};
UserLink.propTypes = {
  user: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number.isRequired,
    login: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string
  }).isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Link);

/***/ }),

/***/ "./src/presenters/includes/loader.jsx":
/*!********************************************!*\
  !*** ./src/presenters/includes/loader.jsx ***!
  \********************************************/
/*! exports provided: Loader, default, DataLoader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Loader", function() { return Loader; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataLoader", function() { return DataLoader; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



var Loader = function Loader() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "loader"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "moon"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "earth"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "asteroid"
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "asteroid-dust"
  }));
};
/* harmony default export */ __webpack_exports__["default"] = (Loader);
var DataLoader =
/*#__PURE__*/
function (_React$Component) {
  _inherits(DataLoader, _React$Component);

  function DataLoader(props) {
    var _this;

    _classCallCheck(this, DataLoader);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(DataLoader).call(this, props));
    _this.state = {
      maybeData: null,
      loaded: false,
      maybeError: null
    };
    return _this;
  }

  _createClass(DataLoader, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      this.props.get().then(function (data) {
        return _this2.setState({
          maybeData: data,
          loaded: true
        });
      }, function (error) {
        console.error(error);

        _this2.setState({
          maybeError: error
        });
      });
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.loaded) {
        return this.props.children(this.state.maybeData);
      } else if (this.state.maybeError) {
        return this.props.renderError(this.state.maybeError);
      }

      return this.props.renderLoader();
    }
  }]);

  return DataLoader;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);
DataLoader.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  get: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  renderError: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  renderLoader: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func
};
DataLoader.defaultProps = {
  renderError: function renderError() {
    return 'Something went wrong, try refreshing?';
  },
  renderLoader: Loader
};

/***/ }),

/***/ "./src/presenters/includes/local-storage.jsx":
/*!***************************************************!*\
  !*** ./src/presenters/includes/local-storage.jsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LocalStorage; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }




var LocalStorage =
/*#__PURE__*/
function (_React$Component) {
  _inherits(LocalStorage, _React$Component);

  function LocalStorage(props) {
    var _this;

    _classCallCheck(this, LocalStorage);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(LocalStorage).call(this, props));
    _this.state = {
      value: undefined,
      loaded: false
    };
    _this.handleStorage = _this.handleStorage.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(LocalStorage, [{
    key: "handleStorage",
    value: function handleStorage() {
      var value = undefined;

      try {
        var raw = window.localStorage.getItem(this.props.name);

        if (raw !== null) {
          value = JSON.parse(raw);
        }
      } catch (error) {
        console.error('Failed to read from localStorage!', error);
        value = undefined;
      }

      this.setState({
        value: value,
        loaded: true
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      if (!this.props.ignoreChanges) {
        window.addEventListener('storage', this.handleStorage, {
          passive: true
        });
      }

      this.handleStorage();
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      window.removeEventListener('storage', this.handleStorage, {
        passive: true
      });
    }
  }, {
    key: "set",
    value: function set(value) {
      try {
        if (value !== undefined) {
          window.localStorage.setItem(this.props.name, JSON.stringify(value));
        } else {
          window.localStorage.removeItem(this.props.name);
        }
      } catch (error) {
        console.error('Failed to write to localStorage!', error);
      }

      this.setState({
        value: value
      });
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children(this.state.value !== undefined ? this.state.value : this.props.default, this.set.bind(this), this.state.loaded);
    }
  }]);

  return LocalStorage;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);


LocalStorage.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  default: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any,
  ignoreChanges: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};

/***/ }),

/***/ "./src/presenters/includes/logo.jsx":
/*!******************************************!*\
  !*** ./src/presenters/includes/logo.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Logo; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! dayjs */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/dayjs/1.8.0/node_modules/dayjs/dayjs.min.js");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_1__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }




var Logo =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(Logo, _React$PureComponent);

  function Logo(props) {
    var _this;

    _classCallCheck(this, Logo);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Logo).call(this, props));
    _this.state = {
      hour: new Date().getHours()
    };
    return _this;
  }

  _createClass(Logo, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this2 = this;

      this.interval = window.setInterval(function () {
        _this2.setState({
          hour: new Date().getHours()
        });
      }, dayjs__WEBPACK_IMPORTED_MODULE_1___default.a.convert(5, 'minutes', 'ms'));
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      window.clearInterval(this.interval);
    }
  }, {
    key: "render",
    value: function render() {
      var hour = this.state.hour;
      var LOGO_DAY = "https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Flogo-day.svg";
      var LOGO_SUNSET = "https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Flogo-sunset.svg";
      var LOGO_NIGHT = "https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Flogo-night.svg";
      var logo = LOGO_DAY;

      if (hour >= 16 && hour <= 18) {
        logo = LOGO_SUNSET;
      } else if (hour > 18 || hour <= 8) {
        logo = LOGO_NIGHT;
      }

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        className: "logo",
        src: logo,
        alt: "Glitch"
      });
    }
  }]);

  return Logo;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.PureComponent);



/***/ }),

/***/ "./src/presenters/includes/markdown.jsx":
/*!**********************************************!*\
  !*** ./src/presenters/includes/markdown.jsx ***!
  \**********************************************/
/*! exports provided: Markdown, TruncatedMarkdown, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Markdown", function() { return Markdown; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TruncatedMarkdown", function() { return TruncatedMarkdown; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var html_truncate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! html-truncate */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/html-truncate/1.2.2/node_modules/html-truncate/lib/truncate.js");
/* harmony import */ var html_truncate__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(html_truncate__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var markdown_it__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! markdown-it */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/markdown-it/8.4.2/node_modules/markdown-it/index.js");
/* harmony import */ var markdown_it__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(markdown_it__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var markdown_it_emoji__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! markdown-it-emoji */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/markdown-it-emoji/1.4.0/node_modules/markdown-it-emoji/index.js");
/* harmony import */ var markdown_it_emoji__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(markdown_it_emoji__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var markdown_it_sanitizer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! markdown-it-sanitizer */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/markdown-it-sanitizer/0.4.3/node_modules/markdown-it-sanitizer/index.js");
/* harmony import */ var markdown_it_sanitizer__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(markdown_it_sanitizer__WEBPACK_IMPORTED_MODULE_5__);






var md = markdown_it__WEBPACK_IMPORTED_MODULE_3___default()({
  html: true,
  breaks: true,
  linkify: true,
  typographer: true
}).disable('smartquotes').use(markdown_it_emoji__WEBPACK_IMPORTED_MODULE_4___default.a).use(markdown_it_sanitizer__WEBPACK_IMPORTED_MODULE_5___default.a);

var RawHTML = function RawHTML(_ref) {
  var children = _ref.children;
  return children ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "markdown-content",
    dangerouslySetInnerHTML: {
      __html: children
    }
  }) : null;
};

RawHTML.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
var Markdown = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function Markdown(_ref2) {
  var children = _ref2.children;
  var rendered = md.render(children || '');
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(RawHTML, null, rendered);
});
Markdown.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
var TruncatedMarkdown = react__WEBPACK_IMPORTED_MODULE_0___default.a.memo(function (_ref3) {
  var children = _ref3.children,
      length = _ref3.length;
  var rendered = md.render(children || '');
  var truncated = html_truncate__WEBPACK_IMPORTED_MODULE_2___default()(rendered, length, {
    ellipsis: '…'
  });
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(RawHTML, null, truncated);
});
TruncatedMarkdown.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  length: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Markdown);

/***/ }),

/***/ "./src/presenters/includes/name-conflict.jsx":
/*!***************************************************!*\
  !*** ./src/presenters/includes/name-conflict.jsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _link_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _notifications_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../notifications.jsx */ "./src/presenters/notifications.jsx");


function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }







var NameConflictWarning = function NameConflictWarning(_ref) {
  var id = _ref.id;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("p", null, "This team has your name. You should update your info to remain unique \u2744"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_link_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: "button button-small button-tertiary button-in-notification-container",
    to: `/user/${id}`
  }, "Your Profile"));
};

NameConflictWarning.propTypes = {
  id: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired
};

var NameConflict =
/*#__PURE__*/
function (_React$Component) {
  _inherits(NameConflict, _React$Component);

  function NameConflict() {
    _classCallCheck(this, NameConflict);

    return _possibleConstructorReturn(this, _getPrototypeOf(NameConflict).apply(this, arguments));
  }

  _createClass(NameConflict, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      var content = NameConflictWarning({
        id: this.props.userId
      });
      this.notification = this.props.createPersistentNotification(content);
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.notification.removeNotification();
    }
  }, {
    key: "render",
    value: function render() {
      return null;
    }
  }]);

  return NameConflict;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);

NameConflict.propTypes = {
  createPersistentNotification: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  userId: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number
};

var NameConflictContainer = function NameConflictContainer() {
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_3__["CurrentUserConsumer"], null, function (_ref2) {
    var id = _ref2.id;
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_notifications_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], null, function (notifyFuncs) {
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(NameConflict, _extends({
        userId: id
      }, notifyFuncs));
    });
  });
};

/* harmony default export */ __webpack_exports__["default"] = (NameConflictContainer);

/***/ }),

/***/ "./src/presenters/includes/not-found.jsx":
/*!***********************************************!*\
  !*** ./src/presenters/includes/not-found.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);


var compass = "https://cdn.glitch.com/bc50f686-4c0a-4e20-852f-3999b29e8092%2Fcompass.svg?1545073264846";
var needle = "https://cdn.glitch.com/bc50f686-4c0a-4e20-852f-3999b29e8092%2Fneedle.svg?1545073265096";

var NotFound = function NotFound(_ref) {
  var name = _ref.name;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "We didn't find ", name), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "error-image"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    className: "compass",
    src: compass,
    alt: ""
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    className: "needle",
    src: needle,
    alt: ""
  })));
};

NotFound.propTypes = {
  name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (NotFound);

/***/ }),

/***/ "./src/presenters/includes/profile.jsx":
/*!*********************************************!*\
  !*** ./src/presenters/includes/profile.jsx ***!
  \*********************************************/
/*! exports provided: ImageButtons, ProjectInfoContainer, InfoContainer, CoverContainer, ProfileContainer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ImageButtons", function() { return ImageButtons; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectInfoContainer", function() { return ProjectInfoContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InfoContainer", function() { return InfoContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoverContainer", function() { return CoverContainer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProfileContainer", function() { return ProfileContainer; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _teams_list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../teams-list */ "./src/presenters/teams-list.jsx");



function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }




 // Image Buttons

var ImageButtons = function ImageButtons(_ref) {
  var name = _ref.name,
      uploadImage = _ref.uploadImage,
      clearImage = _ref.clearImage;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "upload-image-buttons"
  }, !!uploadImage && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_4__["TrackClick"], {
    name: `Upload ${name}`
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    className: "button button-small button-tertiary",
    onClick: uploadImage
  }, "Upload ", name)), !!clearImage && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_4__["TrackClick"], {
    name: `Clear ${name}`
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    className: "button button-small button-tertiary",
    onClick: clearImage
  }, "Clear ", name)));
};
ImageButtons.propTypes = {
  name: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
  uploadImage: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func,
  clearImage: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func
}; // Project Info Container

var ProjectInfoContainer = function ProjectInfoContainer(_ref2) {
  var style = _ref2.style,
      children = _ref2.children,
      buttons = _ref2.buttons;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "avatar-container"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "user-avatar",
    style: style
  }), buttons), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "profile-information"
  }, children));
};
ProjectInfoContainer.propTypes = {
  style: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.node.isRequired,
  buttons: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.element
}; // Info Container (generic)

var InfoContainer = function InfoContainer(_ref3) {
  var children = _ref3.children;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "profile-info"
  }, children);
};
InfoContainer.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.node.isRequired
}; // Cover Container

var CoverContainer = function CoverContainer(_ref4) {
  var buttons = _ref4.buttons,
      children = _ref4.children,
      className = _ref4.className,
      props = _objectWithoutProperties(_ref4, ["buttons", "children", "className"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", _extends({
    className: `cover-container ${className}`
  }, props), children, buttons);
};
CoverContainer.propTypes = {
  buttons: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.node,
  children: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.node.isRequired,
  className: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string
};
CoverContainer.defaultProps = {
  className: ''
}; // Profile Container

var ProfileContainer = function ProfileContainer(_ref5) {
  var avatarStyle = _ref5.avatarStyle,
      avatarButtons = _ref5.avatarButtons,
      coverStyle = _ref5.coverStyle,
      coverButtons = _ref5.coverButtons,
      children = _ref5.children,
      teams = _ref5.teams;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(CoverContainer, {
    style: coverStyle,
    buttons: coverButtons
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(InfoContainer, null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "avatar-container"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "user-avatar",
    style: avatarStyle
  }), avatarButtons), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "profile-information"
  }, children)), !!teams && !!teams.length && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "teams-information"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_teams_list__WEBPACK_IMPORTED_MODULE_5__["default"], {
    teams: teams
  })));
};

/***/ }),

/***/ "./src/presenters/includes/project-actions.jsx":
/*!*****************************************************!*\
  !*** ./src/presenters/includes/project-actions.jsx ***!
  \*****************************************************/
/*! exports provided: ShowButton, EditButton, RemixButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShowButton", function() { return ShowButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EditButton", function() { return EditButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RemixButton", function() { return RemixButton; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../models/project */ "./src/models/project.js");
/* harmony import */ var _link_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./link.jsx */ "./src/presenters/includes/link.jsx");



function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var showIcon = "https://cdn.glitch.com/6ce807b5-7214-49d7-aadd-f11803bc35fd%2Fshow-app.svg";

var ButtonLink = function ButtonLink(_ref) {
  var href = _ref.href,
      children = _ref.children,
      className = _ref.className,
      props = _objectWithoutProperties(_ref, ["href", "children", "className"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_link_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], _extends({
    to: href,
    className: `button button-link ${className}`
  }, props), children);
};

ButtonLink.propTypes = {
  href: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.node.isRequired,
  className: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string
};
var ShowButton = function ShowButton(_ref2) {
  var name = _ref2.name,
      className = _ref2.className,
      props = _objectWithoutProperties(_ref2, ["name", "className"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ButtonLink, _extends({
    href: Object(_models_project__WEBPACK_IMPORTED_MODULE_4__["getShowUrl"])(name),
    className: `has-emoji ${className}`
  }, props), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
    src: showIcon,
    alt: ""
  }), ' ', "Show");
};
ShowButton.propTypes = {
  name: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
  className: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string
};
var EditButton = function EditButton(_ref3) {
  var name = _ref3.name,
      isMember = _ref3.isMember,
      props = _objectWithoutProperties(_ref3, ["name", "isMember"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ButtonLink, _extends({
    href: Object(_models_project__WEBPACK_IMPORTED_MODULE_4__["getEditorUrl"])(name)
  }, props), isMember ? 'Edit Project' : 'View Source');
};
EditButton.propTypes = {
  name: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
  isMember: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,
  className: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string
};
var RemixButton = function RemixButton(_ref4) {
  var name = _ref4.name,
      isMember = _ref4.isMember,
      className = _ref4.className,
      props = _objectWithoutProperties(_ref4, ["name", "isMember", "className"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ButtonLink, _extends({
    href: Object(_models_project__WEBPACK_IMPORTED_MODULE_4__["getRemixUrl"])(name),
    className: `has-emoji ${className}`
  }, props), isMember ? 'Remix This' : 'Remix your own', ' ', react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: "emoji microphone",
    role: "presentation"
  }));
};
RemixButton.propTypes = {
  name: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
  isMember: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,
  className: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string
};

/***/ }),

/***/ "./src/presenters/includes/project-result-item.jsx":
/*!*********************************************************!*\
  !*** ./src/presenters/includes/project-result-item.jsx ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./link */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../models/project */ "./src/models/project.js");
/* harmony import */ var _users_list_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../users-list.jsx */ "./src/presenters/users-list.jsx");


function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }








var ProjectResultItem = function ProjectResultItem(_ref) {
  var onClick = _ref.onClick,
      isActive = _ref.isActive,
      isPrivate = _ref.isPrivate,
      cdnUrl = _ref.cdnUrl,
      project = _objectWithoutProperties(_ref, ["onClick", "isActive", "isPrivate", "cdnUrl"]);

  var activeClass = isActive ? "active" : "";
  var privateClass = isPrivate ? "private" : "";
  var resultClass = `button-unstyled result result-project ${activeClass} ${privateClass}`;
  var srcFallback = _models_project__WEBPACK_IMPORTED_MODULE_4__["FALLBACK_AVATAR_URL"];
  var id = project.id,
      domain = project.domain,
      description = project.description,
      users = project.users;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
    className: resultClass,
    onClick: onClick,
    "data-project-id": id
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("img", {
    className: "avatar",
    src: Object(_models_project__WEBPACK_IMPORTED_MODULE_4__["getAvatarUrl"])(id, cdnUrl),
    alt: `Project avatar for ${domain}`,
    onError: function onError(event) {
      return event.target.src = srcFallback;
    }
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "results-info"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "result-name",
    title: domain
  }, domain), description.length > 0 && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "result-description"
  }, description), !!users && users.length > 0 && react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_users_list_jsx__WEBPACK_IMPORTED_MODULE_5__["StaticUsersList"], {
    users: users
  }))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_link__WEBPACK_IMPORTED_MODULE_3__["ProjectLink"], {
    project: project,
    className: "view-result-link button button-small button-link",
    target: "_blank",
    rel: "noopener noreferrer"
  }, "View \u2192"));
};

ProjectResultItem.propTypes = {
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  domain: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  description: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  id: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  users: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array,
  isActive: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool,
  isPrivate: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool
};
/* harmony default export */ __webpack_exports__["default"] = (ProjectResultItem);

/***/ }),

/***/ "./src/presenters/includes/related-projects.jsx":
/*!******************************************************!*\
  !*** ./src/presenters/includes/related-projects.jsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.regexp.to-string */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.to-string.js");
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_difference__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/difference */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/difference.js");
/* harmony import */ var lodash_difference__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_difference__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_sampleSize__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/sampleSize */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/sampleSize.js");
/* harmony import */ var lodash_sampleSize__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_sampleSize__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _models_team__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../models/team */ "./src/models/team.js");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../models/user */ "./src/models/user.js");
/* harmony import */ var _loader_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _profile_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./profile.jsx */ "./src/presenters/includes/profile.jsx");
/* harmony import */ var _link_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _projects_list_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../projects-list.jsx */ "./src/presenters/projects-list.jsx");










function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }









var PROJECT_COUNT = 3;

var RelatedProjectsBody = function RelatedProjectsBody(_ref) {
  var projects = _ref.projects,
      coverStyle = _ref.coverStyle;
  return projects.length ? react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_profile_jsx__WEBPACK_IMPORTED_MODULE_14__["CoverContainer"], {
    style: coverStyle,
    className: "projects"
  }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_projects_list_jsx__WEBPACK_IMPORTED_MODULE_16__["ProjectsUL"], {
    projects: projects
  })) : null;
};

RelatedProjectsBody.propTypes = {
  projects: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.array.isRequired
};

var RelatedProjects =
/*#__PURE__*/
function (_React$Component) {
  _inherits(RelatedProjects, _React$Component);

  function RelatedProjects(props) {
    var _this;

    _classCallCheck(this, RelatedProjects);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(RelatedProjects).call(this, props));

    var teams = lodash_sampleSize__WEBPACK_IMPORTED_MODULE_8___default()(props.teams, 1);

    var users = lodash_sampleSize__WEBPACK_IMPORTED_MODULE_8___default()(props.users, 2 - teams.length);

    _this.state = {
      teams: teams,
      users: users
    };
    return _this;
  }

  _createClass(RelatedProjects, [{
    key: "getProjects",
    value: function () {
      var _getProjects = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(id, getPins, getAllProjects) {
        var pins, pinIds, ids, _ref2, projects, allIds, remainingIds, _ref4, data;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return getPins(id);

              case 2:
                pins = _context.sent;
                pinIds = pins.map(function (pin) {
                  return pin.projectId;
                });
                ids = lodash_sampleSize__WEBPACK_IMPORTED_MODULE_8___default()(lodash_difference__WEBPACK_IMPORTED_MODULE_7___default()(pinIds, [this.props.ignoreProjectId]), PROJECT_COUNT);

                if (!(ids.length < PROJECT_COUNT)) {
                  _context.next = 13;
                  break;
                }

                _context.next = 8;
                return getAllProjects(id);

              case 8:
                _ref2 = _context.sent;
                projects = _ref2.projects;
                allIds = projects.map(function (_ref3) {
                  var id = _ref3.id;
                  return id;
                });
                remainingIds = lodash_difference__WEBPACK_IMPORTED_MODULE_7___default()(allIds, [this.props.ignoreProjectId].concat(_toConsumableArray(ids)));
                ids = [].concat(_toConsumableArray(ids), _toConsumableArray(lodash_sampleSize__WEBPACK_IMPORTED_MODULE_8___default()(remainingIds, PROJECT_COUNT - ids.length)));

              case 13:
                if (!ids.length) {
                  _context.next = 19;
                  break;
                }

                _context.next = 16;
                return this.props.api.get(`projects/byIds?ids=${ids.join(',')}`);

              case 16:
                _ref4 = _context.sent;
                data = _ref4.data;
                return _context.abrupt("return", data);

              case 19:
                return _context.abrupt("return", []);

              case 20:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function getProjects(_x, _x2, _x3) {
        return _getProjects.apply(this, arguments);
      }

      return getProjects;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var api = this.props.api;

      var getTeam = function getTeam(id) {
        return api.get(`teams/${id}`).then(function (_ref5) {
          var data = _ref5.data;
          return data;
        });
      };

      var getTeamPins = function getTeamPins(id) {
        return api.get(`teams/${id}/pinned-projects`).then(function (_ref6) {
          var data = _ref6.data;
          return data;
        });
      };

      var getUser = function getUser(id) {
        return api.get(`users/${id}`).then(function (_ref7) {
          var data = _ref7.data;
          return data;
        });
      };

      var getUserPins = function getUserPins(id) {
        return api.get(`users/${id}/pinned-projects`).then(function (_ref8) {
          var data = _ref8.data;
          return data;
        });
      };

      var _this$state = this.state,
          teams = _this$state.teams,
          users = _this$state.users;

      if (!teams.length && !users.length) {
        return null;
      }

      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("ul", {
        className: "related-projects"
      }, teams.map(function (team) {
        return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("li", {
          key: team.id
        }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("h2", null, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_link_jsx__WEBPACK_IMPORTED_MODULE_15__["TeamLink"], {
          team: team
        }, "More by ", team.name, " \u2192")), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_loader_jsx__WEBPACK_IMPORTED_MODULE_13__["DataLoader"], {
          get: function get() {
            return _this2.getProjects(team.id, getTeamPins, getTeam);
          }
        }, function (projects) {
          return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(RelatedProjectsBody, {
            projects: projects,
            coverStyle: Object(_models_team__WEBPACK_IMPORTED_MODULE_11__["getProfileStyle"])(team)
          });
        }));
      }), users.map(function (user) {
        return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("li", {
          key: user.id
        }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("h2", null, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_link_jsx__WEBPACK_IMPORTED_MODULE_15__["UserLink"], {
          user: user
        }, "More by ", Object(_models_user__WEBPACK_IMPORTED_MODULE_12__["getDisplayName"])(user), " \u2192")), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_loader_jsx__WEBPACK_IMPORTED_MODULE_13__["DataLoader"], {
          get: function get() {
            return _this2.getProjects(user.id, getUserPins, getUser);
          }
        }, function (projects) {
          return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(RelatedProjectsBody, {
            projects: projects,
            coverStyle: Object(_models_user__WEBPACK_IMPORTED_MODULE_12__["getProfileStyle"])(user)
          });
        }));
      }));
    }
  }]);

  return RelatedProjects;
}(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component);

RelatedProjects.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.any.isRequired,
  ignoreProjectId: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string.isRequired,
  teams: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.array.isRequired,
  users: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.array.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (RelatedProjects);

/***/ }),

/***/ "./src/presenters/includes/team-analytics-activity.jsx":
/*!*************************************************************!*\
  !*** ./src/presenters/includes/team-analytics-activity.jsx ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es7_object_values__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es7.object.values */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.object.values.js");
/* harmony import */ var core_js_modules_es7_object_values__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_object_values__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/isEmpty */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/isEmpty.js");
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var group_by_time__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! group-by-time */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/group-by-time/1.0.0/node_modules/group-by-time/index.js");
/* harmony import */ var group_by_time__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(group_by_time__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var d3_array__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! d3-array */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/d3-array/2.0.3/node_modules/d3-array/src/index.js");




function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

// transforms the individual data points (buckets) we get from the api into grouped 'bins' of data
// each bin is then rendered as a point on the graph





var createHistogram = function createHistogram(bins) {
  var histogram = [];
  bins = bins || [];
  bins.forEach(function (bin) {
    var totalAppViews = 0;
    var totalRemixes = 0;
    var timestamp = undefined; // let codeViews = []

    bin.forEach(function (data) {
      if (!timestamp) {
        timestamp = data['@timestamp'];
      }

      totalRemixes += data.analytics.remixes;
      totalAppViews += data.analytics.visits; // referrers.push(data.analytics.referrers)
    });
    histogram.push({
      time: timestamp,
      appViews: totalAppViews,
      remixes: totalRemixes
    });
  });
  return histogram;
};

var groupByRegularIntervals = d3_array__WEBPACK_IMPORTED_MODULE_6__["histogram"]().value(function (data) {
  return data['@timestamp'];
});

var createBins = function createBins(buckets, currentTimeFrame) {
  if (currentTimeFrame === "Last 24 Hours") {
    return groupByRegularIntervals(buckets);
  }

  var bins = group_by_time__WEBPACK_IMPORTED_MODULE_5___default()(buckets, '@timestamp', 'day'); // supports 'day', 'week', 'month'

  return Object.values(bins);
};

var chartColumns = function chartColumns(analytics, currentTimeFrame) {
  var buckets = analytics.buckets;
  var bins = createBins(buckets, currentTimeFrame);
  var histogram = createHistogram(bins);
  var timestamps = ['x'];
  var remixes = ['Remixes'];
  var appViews = ['Total App Views']; // let codeViews = ['Code Views']

  histogram.shift();
  histogram.forEach(function (bucket) {
    timestamps.push(bucket.time);
    appViews.push(bucket.appViews);
    remixes.push(bucket.remixes);
  });
  return [timestamps, appViews, remixes];
};

var dateFormat = function dateFormat(currentTimeFrame) {
  if (currentTimeFrame === "Last 24 Hours") {
    return "%H:%M %p";
  }

  return "%b-%d";
};

var renderChart = function renderChart(c3, analytics, currentTimeFrame) {
  var columns = [];

  if (!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_2___default()(analytics)) {
    columns = chartColumns(analytics, currentTimeFrame);
  } // eslint-disable-next-line no-unused-vars


  var chart = c3.generate({
    size: {
      height: 200
    },
    data: {
      x: 'x',
      xFormat: dateFormat(currentTimeFrame),
      columns: columns
    },
    axis: {
      x: {
        type: 'timeseries',
        tick: {
          format: dateFormat(currentTimeFrame)
        }
      }
    }
  });
};

var TeamAnalyticsActivity =
/*#__PURE__*/
function (_React$Component) {
  _inherits(TeamAnalyticsActivity, _React$Component);

  function TeamAnalyticsActivity(props) {
    _classCallCheck(this, TeamAnalyticsActivity);

    return _possibleConstructorReturn(this, _getPrototypeOf(TeamAnalyticsActivity).call(this, props));
  }

  _createClass(TeamAnalyticsActivity, [{
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (prevProps.isGettingData === true && this.props.isGettingData === false) {
        renderChart(this.props.c3, this.props.analytics, this.props.currentTimeFrame);
      }
    }
  }, {
    key: "render",
    value: function render() {
      return null;
    }
  }]);

  return TeamAnalyticsActivity;
}(react__WEBPACK_IMPORTED_MODULE_3___default.a.Component);

TeamAnalyticsActivity.propTypes = {
  c3: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object.isRequired,
  analytics: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object.isRequired,
  currentTimeFrame: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  isGettingData: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (TeamAnalyticsActivity);

/***/ }),

/***/ "./src/presenters/includes/team-analytics-project-details.jsx":
/*!********************************************************************!*\
  !*** ./src/presenters/includes/team-analytics-project-details.jsx ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! dayjs */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/dayjs/1.8.0/node_modules/dayjs/dayjs.min.js");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _link_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _loader_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _models_project_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../models/project.js */ "./src/models/project.js");



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }







var RECENT_REMIXES_COUNT = 100;

var getProjectDetails =
/*#__PURE__*/
function () {
  var _ref2 = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee(_ref) {
    var id, api, currentProjectDomain, path;
    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            id = _ref.id, api = _ref.api, currentProjectDomain = _ref.currentProjectDomain;
            path = `analytics/${id}/project/${currentProjectDomain}/overview`;
            _context.prev = 2;
            _context.next = 5;
            return api.get(path);

          case 5:
            return _context.abrupt("return", _context.sent);

          case 8:
            _context.prev = 8;
            _context.t0 = _context["catch"](2);
            console.error('getProjectDetails', _context.t0);

          case 11:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, this, [[2, 8]]);
  }));

  return function getProjectDetails(_x) {
    return _ref2.apply(this, arguments);
  };
}();

var addFallbackSrc = function addFallbackSrc(event) {
  event.target.src = _models_project_js__WEBPACK_IMPORTED_MODULE_7__["FALLBACK_AVATAR_URL"];
};

var ProjectAvatar = function ProjectAvatar(_ref3) {
  var project = _ref3.project,
      _ref3$className = _ref3.className,
      className = _ref3$className === void 0 ? '' : _ref3$className;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
    src: Object(_models_project_js__WEBPACK_IMPORTED_MODULE_7__["getAvatarUrl"])(project.id),
    className: `avatar ${className}`,
    alt: project.domain,
    onError: addFallbackSrc
  });
};

ProjectAvatar.propTypes = {
  project: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.shape({
    domain: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
    id: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired
  }).isRequired,
  className: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string
};

var ProjectDetails = function ProjectDetails(_ref4) {
  var projectDetails = _ref4.projectDetails;
  // This uses dayjs().fromNow() a bunch of times
  // That requires the relativeTime plugin
  // Which is added to dayjs elsewhere
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("article", {
    className: "project-details"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_link_jsx__WEBPACK_IMPORTED_MODULE_5__["ProjectLink"], {
    project: projectDetails
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ProjectAvatar, {
    project: projectDetails
  })), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("table", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tbody", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", {
    className: "label"
  }, "Created"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, dayjs__WEBPACK_IMPORTED_MODULE_4___default()(projectDetails.createdAt).fromNow())), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", {
    className: "label"
  }, "Last viewed"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, dayjs__WEBPACK_IMPORTED_MODULE_4___default()(projectDetails.lastAccess).fromNow())), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", {
    className: "label"
  }, "Last edited"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, dayjs__WEBPACK_IMPORTED_MODULE_4___default()(projectDetails.lastEditedAt).fromNow())), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", {
    className: "label"
  }, "Last remixed"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, projectDetails.lastRemixedAt ? dayjs__WEBPACK_IMPORTED_MODULE_4___default()(projectDetails.lastRemixedAt).fromNow() : "never")), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", {
    className: "label"
  }, "Total app views"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, projectDetails.numAppVisits)), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", {
    className: "label"
  }, "Total code views"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, projectDetails.numEditorVisits)), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", {
    className: "label"
  }, "Total direct remixes"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, projectDetails.numDirectRemixes)), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", {
    className: "label"
  }, "Total remixes"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, projectDetails.numTotalRemixes)), projectDetails.baseProject.domain && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", {
    className: "label"
  }, "Originally remixed from"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_link_jsx__WEBPACK_IMPORTED_MODULE_5__["ProjectLink"], {
    project: projectDetails.baseProject
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ProjectAvatar, {
    project: projectDetails.baseProject,
    className: "baseproject-avatar"
  }), projectDetails.baseProject.domain))))));
};

var ProjectRemixItem = function ProjectRemixItem(_ref5) {
  var remix = _ref5.remix;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_link_jsx__WEBPACK_IMPORTED_MODULE_5__["ProjectLink"], {
    project: remix
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    "data-tooltip": remix.domain,
    "data-tooltip-left": "true"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ProjectAvatar, {
    project: remix
  })));
};

var TeamAnalyticsProjectDetails =
/*#__PURE__*/
function (_React$Component) {
  _inherits(TeamAnalyticsProjectDetails, _React$Component);

  function TeamAnalyticsProjectDetails(props) {
    var _this;

    _classCallCheck(this, TeamAnalyticsProjectDetails);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(TeamAnalyticsProjectDetails).call(this, props));
    _this.state = {
      isGettingData: true,
      projectDetails: {},
      projectRemixes: []
    };
    return _this;
  }

  _createClass(TeamAnalyticsProjectDetails, [{
    key: "updateProjectDetails",
    value: function updateProjectDetails() {
      var _this2 = this;

      this.setState({
        isGettingData: true
      });
      getProjectDetails(this.props).then(function (_ref6) {
        var data = _ref6.data;

        _this2.setState({
          isGettingData: false,
          projectDetails: data,
          projectRemixes: data.remixes.slice(0, RECENT_REMIXES_COUNT)
        });
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.updateProjectDetails();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (this.props.currentProjectDomain !== prevProps.currentProjectDomain) {
        this.updateProjectDetails();
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (this.state.isGettingData) {
        return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_loader_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], null);
      }

      return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ProjectDetails, {
        projectDetails: this.state.projectDetails
      }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("article", {
        className: "project-remixes"
      }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h4", null, "Latest Remixes"), this.state.projectRemixes.length === 0 && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", null, "No remixes yet (\uFF0F_^)\uFF0F \u25CF"), this.state.projectRemixes.map(function (remix) {
        return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ProjectRemixItem, {
          key: remix.id,
          remix: remix
        });
      })));
    }
  }]);

  return TeamAnalyticsProjectDetails;
}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component);

TeamAnalyticsProjectDetails.propTypes = {
  currentProjectDomain: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
  id: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.number.isRequired,
  api: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.any.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (TeamAnalyticsProjectDetails);

/***/ }),

/***/ "./src/presenters/includes/team-analytics-referrers.jsx":
/*!**************************************************************!*\
  !*** ./src/presenters/includes/team-analytics-referrers.jsx ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);


function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



var MAX_REFERRERS = 4;

var countTotals = function countTotals(data, countProperty) {
  var total = 0;
  data.forEach(function (referrer) {
    total += referrer[countProperty];
  });
  return total;
};

var ReferrerPlaceholder = function ReferrerPlaceholder(_ref) {
  var count = _ref.count;

  if (count === 0) {
    return 'none';
  }

  return null;
};

var ReferrerItem = function ReferrerItem(_ref2) {
  var count = _ref2.count,
      total = _ref2.total,
      description = _ref2.description;
  var progress = Math.max(Math.round(count / total * 100), 3);

  if (count <= 0) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", null, count.toLocaleString('en'), " \u2013 ", description, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("progress", {
    value: progress,
    max: "100"
  }));
};

ReferrerItem.propTypes = {
  count: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  total: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  description: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired
};

var filterReferrers = function filterReferrers(referrers) {
  var filteredReferrers = referrers.filter(function (referrer) {
    return !referrer.self;
  });
  filteredReferrers = filteredReferrers.slice(0, MAX_REFERRERS);
  return filteredReferrers;
};

var TeamAnalyticsReferrers =
/*#__PURE__*/
function (_React$PureComponent) {
  _inherits(TeamAnalyticsReferrers, _React$PureComponent);

  function TeamAnalyticsReferrers() {
    _classCallCheck(this, TeamAnalyticsReferrers);

    return _possibleConstructorReturn(this, _getPrototypeOf(TeamAnalyticsReferrers).apply(this, arguments));
  }

  _createClass(TeamAnalyticsReferrers, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          analytics = _this$props.analytics,
          totalRemixes = _this$props.totalRemixes,
          totalAppViews = _this$props.totalAppViews;
      var appViewReferrers = filterReferrers(analytics.referrers);
      var remixReferrers = filterReferrers(analytics.remixReferrers);
      var totalDirectAppViews = totalAppViews - countTotals(appViewReferrers, 'requests');
      var totalDirectRemixes = totalRemixes - countTotals(remixReferrers, 'remixes');
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
        className: "referrers-content"
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("article", {
        className: "referrers-column app-views"
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h4", null, "Total App Views"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("ul", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ReferrerPlaceholder, {
        count: totalAppViews
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ReferrerItem, {
        count: totalDirectAppViews,
        total: totalAppViews,
        description: "direct views"
      }), appViewReferrers.map(function (referrer, key) {
        return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ReferrerItem, {
          key: key,
          count: referrer.requests,
          total: totalAppViews,
          description: referrer.domain
        });
      }))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("article", {
        className: "referrers-column remixes"
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("h4", null, "Remixes"), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("ul", null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ReferrerPlaceholder, {
        count: totalRemixes
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ReferrerItem, {
        count: totalDirectRemixes,
        total: totalRemixes,
        description: "direct remixes"
      }), remixReferrers.map(function (referrer, key) {
        return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(ReferrerItem, {
          key: key,
          count: referrer.remixes,
          total: totalRemixes,
          description: referrer.domain
        });
      }))));
    }
  }]);

  return TeamAnalyticsReferrers;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.PureComponent);

TeamAnalyticsReferrers.propTypes = {
  analytics: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.object.isRequired,
  totalRemixes: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired,
  totalAppViews: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.number.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (TeamAnalyticsReferrers);

/***/ }),

/***/ "./src/presenters/includes/team-analytics-summary.jsx":
/*!************************************************************!*\
  !*** ./src/presenters/includes/team-analytics-summary.jsx ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_pluralize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-pluralize */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-pluralize/1.5.0/node_modules/react-pluralize/build/index.js");
/* harmony import */ var react_pluralize__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_pluralize__WEBPACK_IMPORTED_MODULE_2__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }




var clickEvent = new CustomEvent('click', {
  bubbles: true,
  cancelable: true
});
var blurEvent = new CustomEvent('mouseout', {
  bubbles: true,
  cancelable: true
});

var TeamAnalyticsSummary =
/*#__PURE__*/
function (_React$Component) {
  _inherits(TeamAnalyticsSummary, _React$Component);

  function TeamAnalyticsSummary(props) {
    _classCallCheck(this, TeamAnalyticsSummary);

    return _possibleConstructorReturn(this, _getPrototypeOf(TeamAnalyticsSummary).call(this, props));
  }

  _createClass(TeamAnalyticsSummary, [{
    key: "toggleGraph",
    value: function toggleGraph(summaryType) {
      var element = document.querySelector(`.c3-legend-item-${summaryType}`);
      element.dispatchEvent(clickEvent);
      element.dispatchEvent(blurEvent);
    }
  }, {
    key: "render",
    value: function render() {
      var _this = this;

      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "summary-item",
        onClick: function onClick() {
          _this.toggleGraph('Total-App-Views');
        },
        onKeyPress: function onKeyPress() {
          _this.toggleGraph('App-Views');
        },
        role: "button",
        tabIndex: 0
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "total app-views"
      }, this.props.totalAppViews.toLocaleString('en')), ' ', react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_pluralize__WEBPACK_IMPORTED_MODULE_2___default.a, {
        className: "summary-label",
        singular: "Total App View",
        plural: "Total App Views",
        count: this.props.totalAppViews,
        showCount: false
      })), ",", ' ', react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "summary-item",
        onClick: function onClick() {
          _this.toggleGraph('Remixes');
        },
        onKeyPress: function onKeyPress() {
          _this.toggleGraph('Remixes');
        },
        role: "button",
        tabIndex: 0
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
        className: "total remixes"
      }, this.props.totalRemixes.toLocaleString('en')), ' ', react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_pluralize__WEBPACK_IMPORTED_MODULE_2___default.a, {
        className: "summary-label",
        singular: "Remix",
        plural: "Remixes",
        count: this.props.totalRemixes,
        showCount: false
      })));
    }
  }]);

  return TeamAnalyticsSummary;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

TeamAnalyticsSummary.propTypes = {
  totalAppViews: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  totalRemixes: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (TeamAnalyticsSummary);

/***/ }),

/***/ "./src/presenters/includes/team-analytics.jsx":
/*!****************************************************!*\
  !*** ./src/presenters/includes/team-analytics.jsx ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/cloneDeep */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/cloneDeep.js");
/* harmony import */ var lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! dayjs */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/dayjs/1.8.0/node_modules/dayjs/dayjs.min.js");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _curated_sample_analytics__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../curated/sample-analytics */ "./src/curated/sample-analytics.js");
/* harmony import */ var _loader_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _pop_overs_team_analytics_time_pop_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../pop-overs/team-analytics-time-pop.jsx */ "./src/presenters/pop-overs/team-analytics-time-pop.jsx");
/* harmony import */ var _pop_overs_team_analytics_project_pop_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../pop-overs/team-analytics-project-pop.jsx */ "./src/presenters/pop-overs/team-analytics-project-pop.jsx");
/* harmony import */ var _includes_team_analytics_summary_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../includes/team-analytics-summary.jsx */ "./src/presenters/includes/team-analytics-summary.jsx");
/* harmony import */ var _includes_team_analytics_activity_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../includes/team-analytics-activity.jsx */ "./src/presenters/includes/team-analytics-activity.jsx");
/* harmony import */ var _includes_team_analytics_referrers_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../includes/team-analytics-referrers.jsx */ "./src/presenters/includes/team-analytics-referrers.jsx");
/* harmony import */ var _includes_team_analytics_project_details_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../includes/team-analytics-project-details.jsx */ "./src/presenters/includes/team-analytics-project-details.jsx");





function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }













var dateFromTime = function dateFromTime(newTime) {
  var timeMap = {
    "Last 4 Weeks": dayjs__WEBPACK_IMPORTED_MODULE_6___default()().subtract(4, 'weeks').valueOf(),
    "Last 2 Weeks": dayjs__WEBPACK_IMPORTED_MODULE_6___default()().subtract(2, 'weeks').valueOf(),
    "Last 24 Hours": dayjs__WEBPACK_IMPORTED_MODULE_6___default()().subtract(24, 'hours').valueOf()
  };
  return timeMap[newTime];
};

var getAnalytics =
/*#__PURE__*/
function () {
  var _ref2 = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee(_ref, fromDate, currentProjectDomain) {
    var id, api, projects, data, path, _ref3, _data;

    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            id = _ref.id, api = _ref.api, projects = _ref.projects;

            if (projects.length) {
              _context.next = 5;
              break;
            }

            data = lodash_cloneDeep__WEBPACK_IMPORTED_MODULE_3___default()(_curated_sample_analytics__WEBPACK_IMPORTED_MODULE_7__["default"]); // Update timestamps so they're relative to now

            data.buckets.forEach(function (bucket) {
              bucket['@timestamp'] += Date.now() - _curated_sample_analytics__WEBPACK_IMPORTED_MODULE_7__["sampleAnalyticsTime"];
            });
            return _context.abrupt("return", data);

          case 5:
            path = `analytics/${id}/team?from=${fromDate}`;

            if (currentProjectDomain) {
              path = `analytics/${id}/project/${currentProjectDomain}?from=${fromDate}`;
            }

            _context.prev = 7;
            _context.next = 10;
            return api.get(path);

          case 10:
            _ref3 = _context.sent;
            _data = _ref3.data;
            return _context.abrupt("return", _data);

          case 15:
            _context.prev = 15;
            _context.t0 = _context["catch"](7);
            console.error('getAnalytics', _context.t0);

          case 18:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, this, [[7, 15]]);
  }));

  return function getAnalytics(_x, _x2, _x3) {
    return _ref2.apply(this, arguments);
  };
}();

var TeamAnalytics =
/*#__PURE__*/
function (_React$Component) {
  _inherits(TeamAnalytics, _React$Component);

  function TeamAnalytics(props) {
    var _this;

    _classCallCheck(this, TeamAnalytics);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(TeamAnalytics).call(this, props));
    var currentTimeFrame = 'Last 2 Weeks';
    _this.state = {
      currentTimeFrame: currentTimeFrame,
      fromDate: dateFromTime(currentTimeFrame),
      currentProjectDomain: '',
      // empty string means all projects
      analytics: {},
      c3: {},
      isGettingData: true,
      isGettingC3: true,
      totalRemixes: 0,
      totalAppViews: 0
    };
    return _this;
  }

  _createClass(TeamAnalytics, [{
    key: "updateTotals",
    value: function updateTotals() {
      var totalAppViews = 0;
      var totalRemixes = 0;
      this.state.analytics.buckets.forEach(function (bucket) {
        totalAppViews += bucket.analytics.visits;
        totalRemixes += bucket.analytics.remixes;
      });
      this.setState({
        totalAppViews: totalAppViews,
        totalRemixes: totalRemixes
      });
    }
  }, {
    key: "updateAnalytics",
    value: function updateAnalytics() {
      var _this2 = this;

      this.setState({
        isGettingData: true
      });
      getAnalytics(this.props, this.state.fromDate, this.state.currentProjectDomain).then(function (data) {
        _this2.setState({
          isGettingData: false,
          analytics: data
        }, function () {
          _this2.updateTotals();
        });
      });
    }
  }, {
    key: "updateTimeFrame",
    value: function updateTimeFrame(newTime) {
      var _this3 = this;

      this.setState({
        currentTimeFrame: newTime,
        fromDate: dateFromTime(newTime)
      }, function () {
        _this3.updateAnalytics();
      });
    }
  }, {
    key: "updateProjectDomain",
    value: function updateProjectDomain(newDomain) {
      var _this4 = this;

      this.setState({
        currentProjectDomain: newDomain
      }, function () {
        _this4.updateAnalytics();
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var _this5 = this;

      // eslint-disable-next-line
      __webpack_require__.e(/*! import() | c3-bundle */ "c3-bundle").then(__webpack_require__.t.bind(null, /*! c3 */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/c3/0.6.12/node_modules/c3/c3.js", 7)).then(function (c3) {
        _this5.setState({
          c3: c3,
          isGettingC3: false
        });

        if (_this5.props.currentUserIsOnTeam) {
          _this5.updateAnalytics();
        }
      });
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (prevProps.currentUserIsOnTeam === false && this.props.currentUserIsOnTeam === true && this.state.isGettingC3 === false) {
        this.updateAnalytics();
      } else if (prevProps.projects.length !== this.props.projects.length && this.state.isGettingC3 === false) {
        this.updateAnalytics();
        this.setState({
          currentProjectDomain: ''
        });
      }
    }
  }, {
    key: "render",
    value: function render() {
      if (!this.props.currentUserIsOnTeam) {
        return null;
      }

      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
        className: "team-analytics"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", null, "Analytics", this.props.projects.length === 0 && !this.state.isGettingData && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("aside", {
        className: "inline-banners team-page"
      }, "Add projects to see their stats")), !!this.props.projects.length && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
        className: "controls"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_pop_overs_team_analytics_project_pop_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
        updateProjectDomain: this.updateProjectDomain.bind(this),
        currentProjectDomain: this.state.currentProjectDomain,
        projects: this.props.projects
      }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_pop_overs_team_analytics_time_pop_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], {
        updateTimeFrame: this.updateTimeFrame.bind(this),
        currentTimeFrame: this.state.currentTimeFrame
      })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
        className: "summary"
      }, this.state.isGettingData ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_loader_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], null) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_team_analytics_summary_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], {
        totalAppViews: this.state.totalAppViews,
        totalRemixes: this.state.totalRemixes
      })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
        className: "activity"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("figure", {
        id: "chart",
        className: "c3"
      }), (this.state.isGettingData || this.state.isGettingC3) && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_loader_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], null), !this.state.isGettingC3 && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_team_analytics_activity_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], {
        c3: this.state.c3,
        analytics: this.state.analytics,
        isGettingData: this.state.isGettingData,
        currentTimeFrame: this.state.currentTimeFrame
      })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
        className: "referrers"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h3", null, "Referrers"), this.state.isGettingData && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_loader_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], null) || react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_team_analytics_referrers_jsx__WEBPACK_IMPORTED_MODULE_13__["default"], {
        analytics: this.state.analytics,
        totalRemixes: this.state.totalRemixes,
        totalAppViews: this.state.totalAppViews
      })), this.state.currentProjectDomain && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
        className: "project-details"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h3", null, "Project Details"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_team_analytics_project_details_jsx__WEBPACK_IMPORTED_MODULE_14__["default"], {
        currentProjectDomain: this.state.currentProjectDomain,
        id: this.props.id,
        api: this.props.api
      })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
        className: "explanation"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", null, "Because Glitch doesn't inject code or cookies into your projects we don't collect the data required for unique app views. You can get uniques by adding Google Analytics to your project.")), !this.props.projects.length && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
        className: "placeholder-mask"
      }));
    }
  }]);

  return TeamAnalytics;
}(react__WEBPACK_IMPORTED_MODULE_4___default.a.Component);

TeamAnalytics.propTypes = {
  id: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number,
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,
  projects: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.array.isRequired,
  currentUserIsOnTeam: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool.isRequired,
  addProject: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  myProjects: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.array.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (TeamAnalytics);

/***/ }),

/***/ "./src/presenters/includes/team-elements.jsx":
/*!***************************************************!*\
  !*** ./src/presenters/includes/team-elements.jsx ***!
  \***************************************************/
/*! exports provided: TeamMarketing, VerifiedBadge, WhitelistedDomainIcon, AdminOnlyBadge */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamMarketing", function() { return TeamMarketing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VerifiedBadge", function() { return VerifiedBadge; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WhitelistedDomainIcon", function() { return WhitelistedDomainIcon; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdminOnlyBadge", function() { return AdminOnlyBadge; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/debounce */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _link_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./link.jsx */ "./src/presenters/includes/link.jsx");



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }




var TeamMarketing = function TeamMarketing() {
  var forPlatformsIcon = 'https://cdn.glitch.com/be1ad2d2-68ab-404a-82f4-6d8e98d28d93%2Ffor-platforms-icon.svg?1506442305188';
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
    className: "team-marketing"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
    className: "for-platforms-icon",
    src: forPlatformsIcon,
    alt: "fishing emoji"
  }), "Want your own team page, complete with detailed app analytics?"), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_link_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
    to: "/teams",
    className: "button button-link has-emoji"
  }, "About Teams ", react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: "emoji fishing_pole",
    role: "img",
    "aria-label": "emoji"
  })));
};
var VerifiedBadge = function VerifiedBadge() {
  var image = 'https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fverified.svg?1501783108220';
  var tooltip = 'Verified to be supportive, helpful people';
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    "data-tooltip": tooltip
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
    className: "verified",
    src: image,
    alt: "\u2713"
  }));
};
var WhitelistedDomainIcon =
/*#__PURE__*/
function (_React$Component) {
  _inherits(WhitelistedDomainIcon, _React$Component);

  function WhitelistedDomainIcon(props) {
    var _this;

    _classCallCheck(this, WhitelistedDomainIcon);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(WhitelistedDomainIcon).call(this, props));
    _this.state = {
      src: null
    };
    return _this;
  }

  _createClass(WhitelistedDomainIcon, [{
    key: "load",
    value: function load() {
      this.setState({
        src: 'https://favicon-fetcher.glitch.me/img/' + this.props.domain
      });
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.load();
      this.load = lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default()(this.load.bind(this), 250);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      if (prevProps.domain !== this.props.domain) {
        this.setState({
          src: null
        });
        this.load();
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      this.load.cancel();
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var domain = this.props.domain;

      if (this.state.src) {
        return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
          className: "whitelisted-domain",
          alt: domain,
          src: this.state.src,
          onError: function onError() {
            return _this2.setState({
              src: null
            });
          }
        });
      }

      return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
        className: "whitelisted-domain",
        "aria-label": domain
      }, domain[0].toUpperCase());
    }
  }]);

  return WhitelistedDomainIcon;
}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component); //temp

var AdminOnlyBadge = function AdminOnlyBadge(_ref) {
  var props = Object.assign({}, _ref);
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, props.currentUserIsTeamAdmin === false && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "status-badge"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: "status admin"
  }, "Admin")));
};
AdminOnlyBadge.propTypes = {
  currentUserIsTeamAdmin: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool.isRequired
};

/***/ }),

/***/ "./src/presenters/includes/team-users.jsx":
/*!************************************************!*\
  !*** ./src/presenters/includes/team-users.jsx ***!
  \************************************************/
/*! exports provided: TeamUsers, WhitelistedDomain, AddTeamUser, JoinTeam */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamUsers", function() { return TeamUsers; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WhitelistedDomain", function() { return WhitelistedDomain; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddTeamUser", function() { return AddTeamUser; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JoinTeam", function() { return JoinTeam; });
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.regexp.to-string */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.to-string.js");
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es7.array.includes */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.array.includes.js");
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../models/user */ "./src/models/user.js");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _team_elements_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./team-elements.jsx */ "./src/presenters/includes/team-elements.jsx");
/* harmony import */ var _includes_avatar_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../includes/avatar.jsx */ "./src/presenters/includes/avatar.jsx");
/* harmony import */ var _pop_overs_add_team_user_pop_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../pop-overs/add-team-user-pop.jsx */ "./src/presenters/pop-overs/add-team-user-pop.jsx");
/* harmony import */ var _pop_overs_popover_with_button_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../pop-overs/popover-with-button.jsx */ "./src/presenters/pop-overs/popover-with-button.jsx");
/* harmony import */ var _pop_overs_popover_container_jsx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../pop-overs/popover-container.jsx */ "./src/presenters/pop-overs/popover-container.jsx");
/* harmony import */ var _pop_overs_team_user_info_pop_jsx__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../pop-overs/team-user-info-pop.jsx */ "./src/presenters/pop-overs/team-user-info-pop.jsx");
/* harmony import */ var _users_list_jsx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../users-list.jsx */ "./src/presenters/users-list.jsx");










function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }











 // Team Users list (in profile container)

var TeamUsers = function TeamUsers(props) {
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("ul", {
    className: "users"
  }, props.users.map(function (user) {
    return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("li", {
      key: user.id
    }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_pop_overs_popover_with_button_jsx__WEBPACK_IMPORTED_MODULE_16__["default"], {
      buttonClass: "user button-unstyled",
      buttonText: react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_includes_avatar_jsx__WEBPACK_IMPORTED_MODULE_14__["UserAvatar"], {
        user: user,
        suffix: adminStatusDisplay(props.adminIds, user)
      }),
      passToggleToPop: true
    }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_pop_overs_team_user_info_pop_jsx__WEBPACK_IMPORTED_MODULE_18__["default"], _extends({
      userIsTeamAdmin: props.adminIds.includes(user.id),
      userIsTheOnlyMember: props.users.length === 1,
      user: user
    }, props))));
  }));
};

var adminStatusDisplay = function adminStatusDisplay(adminIds, user) {
  if (adminIds.includes(user.id)) {
    return " (admin)";
  }

  return "";
};

TeamUsers.propTypes = {
  users: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number.isRequired
  })).isRequired,
  currentUserIsOnTeam: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool.isRequired,
  removeUserFromTeam: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  updateUserPermissions: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  api: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  teamId: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number.isRequired,
  currentUserIsTeamAdmin: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.bool.isRequired,
  adminIds: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.array.isRequired,
  team: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired
}; // Whitelisted domain icon

var WhitelistedDomain = function WhitelistedDomain(_ref) {
  var domain = _ref.domain,
      setDomain = _ref.setDomain;
  var tooltip = `Anyone with an @${domain} email can join`;
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_pop_overs_popover_container_jsx__WEBPACK_IMPORTED_MODULE_17__["default"], null, function (_ref2) {
    var visible = _ref2.visible,
        setVisible = _ref2.setVisible;
    return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("details", {
      onToggle: function onToggle(evt) {
        return setVisible(evt.target.open);
      },
      open: visible,
      className: "popover-container whitelisted-domain-container"
    }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("summary", {
      "data-tooltip": !visible ? tooltip : null
    }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_team_elements_jsx__WEBPACK_IMPORTED_MODULE_13__["WhitelistedDomainIcon"], {
      domain: domain
    })), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("dialog", {
      className: "pop-over"
    }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("section", {
      className: "pop-over-info"
    }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("p", {
      className: "info-description"
    }, tooltip)), !!setDomain && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("section", {
      className: "pop-over-actions danger-zone"
    }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("button", {
      className: "button button-small button-tertiary button-on-secondary-background has-emoji",
      onClick: function onClick() {
        return setDomain(null);
      }
    }, "Remove ", domain, " ", react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span", {
      className: "emoji bomb"
    })))));
  });
};
WhitelistedDomain.propTypes = {
  domain: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.string.isRequired,
  setDomain: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func
}; // Add Team User

var AddTeamUser =
/*#__PURE__*/
function (_React$Component) {
  _inherits(AddTeamUser, _React$Component);

  function AddTeamUser(props) {
    var _this;

    _classCallCheck(this, AddTeamUser);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddTeamUser).call(this, props));
    _this.state = {
      invitee: '',
      alreadyInvited: []
    };
    _this.removeNotifyInvited = _this.removeNotifyInvited.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(AddTeamUser, [{
    key: "setWhitelistedDomain",
    value: function () {
      var _setWhitelistedDomain = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(togglePopover, domain) {
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                togglePopover();
                _context.next = 3;
                return this.props.setWhitelistedDomain(domain);

              case 3:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function setWhitelistedDomain(_x, _x2) {
        return _setWhitelistedDomain.apply(this, arguments);
      }

      return setWhitelistedDomain;
    }()
  }, {
    key: "inviteUser",
    value: function () {
      var _inviteUser = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2(togglePopover, user) {
        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                togglePopover();
                this.setState(function (state) {
                  return {
                    invitee: Object(_models_user__WEBPACK_IMPORTED_MODULE_11__["getDisplayName"])(user),
                    alreadyInvited: [].concat(_toConsumableArray(state.alreadyInvited), [user])
                  };
                });
                _context2.next = 4;
                return this.props.inviteUser(user);

              case 4:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function inviteUser(_x3, _x4) {
        return _inviteUser.apply(this, arguments);
      }

      return inviteUser;
    }()
  }, {
    key: "inviteEmail",
    value: function () {
      var _inviteEmail = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee3(togglePopover, email) {
        return regeneratorRuntime.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                togglePopover();
                this.setState({
                  invitee: email
                });
                _context3.next = 4;
                return this.props.inviteEmail(email);

              case 4:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function inviteEmail(_x5, _x6) {
        return _inviteEmail.apply(this, arguments);
      }

      return inviteEmail;
    }()
  }, {
    key: "removeNotifyInvited",
    value: function removeNotifyInvited() {
      this.setState({
        invitee: ''
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          inviteEmail = _this$props.inviteEmail,
          inviteUser = _this$props.inviteUser,
          setWhitelistedDomain = _this$props.setWhitelistedDomain,
          props = _objectWithoutProperties(_this$props, ["inviteEmail", "inviteUser", "setWhitelistedDomain"]);

      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_pop_overs_popover_container_jsx__WEBPACK_IMPORTED_MODULE_17__["default"], null, function (_ref3) {
        var visible = _ref3.visible,
            togglePopover = _ref3.togglePopover;
        return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("span", {
          className: "add-user-container"
        }, !!_this2.state.alreadyInvited.length && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_users_list_jsx__WEBPACK_IMPORTED_MODULE_19__["default"], {
          users: _this2.state.alreadyInvited
        }), react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_12__["TrackClick"], {
          name: "Add to Team clicked"
        }, react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("button", {
          onClick: togglePopover,
          className: "button button-small button-tertiary add-user"
        }, "Add")), !!_this2.state.invitee && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("div", {
          className: "notification notifySuccess inline-notification",
          onAnimationEnd: _this2.removeNotifyInvited
        }, "Invited ", _this2.state.invitee), visible && react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_pop_overs_add_team_user_pop_jsx__WEBPACK_IMPORTED_MODULE_15__["default"], _extends({}, props, {
          setWhitelistedDomain: setWhitelistedDomain ? function (domain) {
            return _this2.setWhitelistedDomain(togglePopover, domain);
          } : null,
          inviteUser: inviteUser ? function (user) {
            return _this2.inviteUser(togglePopover, user);
          } : null,
          inviteEmail: inviteEmail ? function (email) {
            return _this2.inviteEmail(togglePopover, email);
          } : null
        })));
      });
    }
  }]);

  return AddTeamUser;
}(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component);
AddTeamUser.propTypes = {
  inviteEmail: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  inviteUser: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func,
  setWhitelistedDomain: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func
}; // Join Team

var JoinTeam = function JoinTeam(_ref4) {
  var onClick = _ref4.onClick;
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement("button", {
    className: "button button-small button-cta join-team-button",
    onClick: onClick
  }, "Join Team");
};

/***/ }),

/***/ "./src/presenters/includes/thanks.jsx":
/*!********************************************!*\
  !*** ./src/presenters/includes/thanks.jsx ***!
  \********************************************/
/*! exports provided: Thanks, ThanksShort, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Thanks", function() { return Thanks; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ThanksShort", function() { return ThanksShort; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);



var ThanksText = function ThanksText(_ref) {
  var count = _ref.count;

  if (count === 1) {
    return "Thanked once";
  } else if (count === 2) {
    return "Thanked twice";
  }

  return `Thanked ${count} times`;
};

ThanksText.propTypes = {
  count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
};

var Thanks = function Thanks(_ref2) {
  var count = _ref2.count;
  return count > 0 ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
    className: "thanks"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(ThanksText, {
    count: count
  }), "\xA0", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "emoji sparkling_heart"
  })) : null;
};

Thanks.propTypes = {
  count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
};

var ThanksShort = function ThanksShort(_ref3) {
  var count = _ref3.count;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", {
    className: "thanks"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "emoji sparkling_heart"
  }), "\xA0", count);
};

ThanksShort.propTypes = {
  count: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
};

/* harmony default export */ __webpack_exports__["default"] = (Thanks);

/***/ }),

/***/ "./src/presenters/includes/uploader.jsx":
/*!**********************************************!*\
  !*** ./src/presenters/includes/uploader.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _utils_assets__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/assets */ "./src/utils/assets.js");
/* harmony import */ var _notifications_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../notifications.jsx */ "./src/presenters/notifications.jsx");



function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }






var NotifyUploading = function NotifyUploading(_ref) {
  var progress = _ref.progress;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, "Uploading asset", react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("progress", {
    className: "notify-progress",
    value: progress
  }));
};

var NotifyError = function NotifyError() {
  return 'File upload failed. Try again in a few minutes?';
};

function uploadWrapper(_x, _x2) {
  return _uploadWrapper.apply(this, arguments);
}

function _uploadWrapper() {
  _uploadWrapper = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee(notifications, upload) {
    var result, progress, _notifications$create, updateNotification, removeNotification;

    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            result = null;
            progress = 0;
            _notifications$create = notifications.createPersistentNotification(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(NotifyUploading, {
              progress: progress
            }), 'notifyUploading'), updateNotification = _notifications$create.updateNotification, removeNotification = _notifications$create.removeNotification;
            _context.prev = 3;
            _context.next = 6;
            return upload(function (_ref3) {
              var lengthComputable = _ref3.lengthComputable,
                  loaded = _ref3.loaded,
                  total = _ref3.total;

              if (lengthComputable) {
                progress = loaded / total;
              } else {
                progress = (progress + 1) / 2;
              }

              updateNotification(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(NotifyUploading, {
                progress: progress
              }));
            });

          case 6:
            result = _context.sent;
            _context.next = 13;
            break;

          case 9:
            _context.prev = 9;
            _context.t0 = _context["catch"](3);
            notifications.createErrorNotification(react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(NotifyError, null));
            throw _context.t0;

          case 13:
            _context.prev = 13;
            removeNotification();
            notifications.createNotification('Image uploaded!');
            return _context.finish(13);

          case 17:
            return _context.abrupt("return", result);

          case 18:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, this, [[3, 9, 13, 17]]);
  }));
  return _uploadWrapper.apply(this, arguments);
}

var Uploader = function Uploader(_ref2) {
  var children = _ref2.children;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_notifications_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], null, function (notifications) {
    return children({
      uploadAsset: function uploadAsset(blob, policy, key) {
        return uploadWrapper(notifications, function (cb) {
          return Object(_utils_assets__WEBPACK_IMPORTED_MODULE_4__["uploadAsset"])(blob, policy, key, cb);
        });
      },
      uploadAssetSizes: function uploadAssetSizes(blob, policy, sizes) {
        return uploadWrapper(notifications, function (cb) {
          return Object(_utils_assets__WEBPACK_IMPORTED_MODULE_4__["uploadAssetSizes"])(blob, policy, sizes, cb);
        });
      }
    });
  });
};

Uploader.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Uploader);

/***/ }),

/***/ "./src/presenters/includes/user-prefs.jsx":
/*!************************************************!*\
  !*** ./src/presenters/includes/user-prefs.jsx ***!
  \************************************************/
/*! exports provided: UserPrefsProvider, UserPref, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserPrefsProvider", function() { return UserPrefsProvider; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserPref", function() { return UserPref; });
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _local_storage_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./local-storage.jsx */ "./src/presenters/includes/local-storage.jsx");


function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var _React$createContext = react__WEBPACK_IMPORTED_MODULE_1___default.a.createContext(),
    Provider = _React$createContext.Provider,
    Consumer = _React$createContext.Consumer;

var UserPrefsProvider = function UserPrefsProvider(_ref) {
  var children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_local_storage_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
    name: "community-userPrefs",
    default: {}
  }, function (prefs, set) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Provider, {
      value: {
        prefs: prefs,
        set: set
      }
    }, children);
  });
};
UserPrefsProvider.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.node.isRequired
};
var UserPref = function UserPref(_ref2) {
  var children = _ref2.children,
      name = _ref2.name,
      props = _objectWithoutProperties(_ref2, ["children", "name"]);

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Consumer, null, function (_ref3) {
    var prefs = _ref3.prefs,
        set = _ref3.set;
    return children(prefs[name] !== undefined ? prefs[name] : props.default, function (value) {
      return set(_objectSpread({}, prefs, _defineProperty({}, name, value)));
    });
  });
};
UserPref.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  name: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired,
  default: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (UserPref);

/***/ }),

/***/ "./src/presenters/includes/user-result-item.jsx":
/*!******************************************************!*\
  !*** ./src/presenters/includes/user-result-item.jsx ***!
  \******************************************************/
/*! exports provided: default, InviteByEmail, WhitelistEmailDomain */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InviteByEmail", function() { return InviteByEmail; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WhitelistEmailDomain", function() { return WhitelistEmailDomain; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var randomcolor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! randomcolor */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/randomcolor/0.5.3/node_modules/randomcolor/randomColor.js");
/* harmony import */ var randomcolor__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(randomcolor__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/user */ "./src/models/user.js");
/* harmony import */ var _thanks_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./thanks.jsx */ "./src/presenters/includes/thanks.jsx");
/* harmony import */ var _team_elements_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./team-elements.jsx */ "./src/presenters/includes/team-elements.jsx");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }








var UserResultItem = function UserResultItem(_ref) {
  var user = _ref.user,
      action = _ref.action;
  var name = Object(_models_user__WEBPACK_IMPORTED_MODULE_3__["getDisplayName"])(user);
  var login = user.login,
      thanksCount = user.thanksCount;

  var handleClick = function handleClick(event) {
    action(event);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    onClick: handleClick,
    className: "button-unstyled result result-user"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    className: "avatar",
    src: Object(_models_user__WEBPACK_IMPORTED_MODULE_3__["getAvatarThumbnailUrl"])(user),
    alt: ""
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "result-info"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "result-name",
    title: name
  }, name), !!user.name && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "result-description"
  }, "@", login), thanksCount > 0 && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_thanks_jsx__WEBPACK_IMPORTED_MODULE_4__["ThanksShort"], {
    count: thanksCount
  })));
};

UserResultItem.propTypes = {
  user: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    avatarThumbnailUrl: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    login: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    thanksCount: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
  }).isRequired,
  action: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (UserResultItem);
var InviteByEmail =
/*#__PURE__*/
function (_React$Component) {
  _inherits(InviteByEmail, _React$Component);

  function InviteByEmail(props) {
    var _this;

    _classCallCheck(this, InviteByEmail);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(InviteByEmail).call(this, props));
    _this.state = {
      color: randomcolor__WEBPACK_IMPORTED_MODULE_2___default()({
        luminosity: 'light'
      })
    };
    return _this;
  }

  _createClass(InviteByEmail, [{
    key: "render",
    value: function render() {
      var style = {
        backgroundColor: this.state.color
      };
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
        onClick: this.props.onClick,
        className: "button-unstyled result"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        className: "avatar",
        src: _models_user__WEBPACK_IMPORTED_MODULE_3__["ANON_AVATAR_URL"],
        style: style,
        alt: ""
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "result-name"
      }, "Invite ", this.props.email));
    }
  }]);

  return InviteByEmail;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);
InviteByEmail.propTypes = {
  email: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};
var WhitelistEmailDomain = function WhitelistEmailDomain(_ref2) {
  var domain = _ref2.domain,
      prevDomain = _ref2.prevDomain,
      onClick = _ref2.onClick;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    onClick: onClick,
    className: "button-unstyled result"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_team_elements_jsx__WEBPACK_IMPORTED_MODULE_5__["WhitelistedDomainIcon"], {
    domain: domain
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "result-name"
  }, "Allow anyone with an @", domain, " email to join"), !!prevDomain && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "result-description"
  }, "This will replace @", prevDomain));
};
WhitelistEmailDomain.propTypes = {
  domain: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  prevDomain: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};

/***/ }),

/***/ "./src/presenters/includes/wrapping-link.jsx":
/*!***************************************************!*\
  !*** ./src/presenters/includes/wrapping-link.jsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-router-dom/4.3.1/node_modules/react-router-dom/es/index.js");


 // react tells me that nested <a> tags are bad and I shouldn't do that
// so we will replace the outer tags with a special on click <div> tag
// which will act like a link (or as close as I can get via nice code)

var WrappingLink = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["withRouter"])(function (_ref) {
  var href = _ref.href,
      children = _ref.children,
      className = _ref.className,
      style = _ref.style,
      history = _ref.history;

  var handler = function handler(evt) {
    // Real links and interactive elements take priority
    if (evt.target.closest('a[href], button, input')) return; // Make sure there wasn't a clicky div inside this clicky div

    if (evt.target.closest('[data-href]') !== evt.currentTarget) return; // Ok, this click is real. Do the thing

    history.push(href);
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    "data-href": true,
    onClick: handler,
    className: className,
    style: style,
    role: "presentation"
  }, children);
});
WrappingLink.propTypes = {
  href: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.element.isRequired,
  className: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  style: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object
};
/* harmony default export */ __webpack_exports__["default"] = (WrappingLink);

/***/ }),

/***/ "./src/presenters/layout.jsx":
/*!***********************************!*\
  !*** ./src/presenters/layout.jsx ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-router-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-router-dom/4.3.1/node_modules/react-router-dom/es/index.js");
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-helmet */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-helmet/5.2.0/node_modules/react-helmet/lib/Helmet.js");
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_helmet__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _header_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./header.jsx */ "./src/presenters/header.jsx");
/* harmony import */ var _footer_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./footer.jsx */ "./src/presenters/footer.jsx");
/* harmony import */ var _includes_error_boundary_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./includes/error-boundary.jsx */ "./src/presenters/includes/error-boundary.jsx");
/* harmony import */ var _includes_konami_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./includes/konami.jsx */ "./src/presenters/includes/konami.jsx");









var Layout = function Layout(_ref) {
  var children = _ref.children,
      api = _ref.api,
      searchQuery = _ref.searchQuery;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "content"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_helmet__WEBPACK_IMPORTED_MODULE_3___default.a, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("title", null, "Glitch")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_header_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
    api: api,
    searchQuery: searchQuery
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_error_boundary_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], null, children), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_footer_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_error_boundary_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
    fallback: null
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_konami_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__["Redirect"], {
    to: "/secret",
    push: true
  }))));
};

Layout.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  searchQuery: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
};
/* harmony default export */ __webpack_exports__["default"] = (Layout);

/***/ }),

/***/ "./src/presenters/notifications.jsx":
/*!******************************************!*\
  !*** ./src/presenters/notifications.jsx ***!
  \******************************************/
/*! exports provided: Notifications, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Notifications", function() { return Notifications; });
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.regexp.to-string */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.to-string.js");
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);






function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }



var _React$createContext = react__WEBPACK_IMPORTED_MODULE_5___default.a.createContext(),
    Provider = _React$createContext.Provider,
    Consumer = _React$createContext.Consumer;

var Notification = function Notification(_ref) {
  var children = _ref.children,
      className = _ref.className,
      remove = _ref.remove;
  return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("aside", {
    className: `notification ${className}`,
    onAnimationEnd: remove
  }, children);
};

var Notifications =
/*#__PURE__*/
function (_React$Component) {
  _inherits(Notifications, _React$Component);

  function Notifications(props) {
    var _this;

    _classCallCheck(this, Notifications);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Notifications).call(this, props));
    _this.state = {
      notifications: []
    };
    return _this;
  }

  _createClass(Notifications, [{
    key: "create",
    value: function create(content) {
      var className = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
      var notification = {
        id: `${Date.now()}{Math.random()}`,
        className: className,
        content: content
      };
      this.setState(function (_ref2) {
        var notifications = _ref2.notifications;
        return {
          notifications: [].concat(_toConsumableArray(notifications), [notification])
        };
      });
      return notification.id;
    }
  }, {
    key: "createError",
    value: function createError() {
      var content = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'Something went wrong. Try refreshing?';
      this.create(content, 'notifyError');
    }
  }, {
    key: "createPersistent",
    value: function createPersistent(content) {
      var _this2 = this;

      var className = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';
      var id = this.create(content, `notifyPersistent ${className}`);

      var updateNotification = function updateNotification(content) {
        _this2.setState(function (_ref3) {
          var notifications = _ref3.notifications;
          return {
            notifications: notifications.map(function (n) {
              return n.id === id ? _objectSpread({}, n, {
                content: content
              }) : n;
            })
          };
        });
      };

      var removeNotification = function removeNotification() {
        _this2.remove(id);
      };

      return {
        updateNotification: updateNotification,
        removeNotification: removeNotification
      };
    }
  }, {
    key: "remove",
    value: function remove(id) {
      this.setState(function (_ref4) {
        var notifications = _ref4.notifications;
        return {
          notifications: notifications.filter(function (n) {
            return n.id !== id;
          })
        };
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var funcs = {
        createNotification: this.create.bind(this),
        createPersistentNotification: this.createPersistent.bind(this),
        createErrorNotification: this.createError.bind(this)
      };
      var notifications = this.state.notifications;
      return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Provider, {
        value: funcs
      }, this.props.children), !!notifications.length && react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
        className: "notifications"
      }, notifications.map(function (_ref5) {
        var id = _ref5.id,
            className = _ref5.className,
            content = _ref5.content;
        return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Notification, {
          key: id,
          className: className,
          remove: _this3.remove.bind(_this3, id)
        }, content);
      })));
    }
  }]);

  return Notifications;
}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);
/* harmony default export */ __webpack_exports__["default"] = (Consumer);

/***/ }),

/***/ "./src/presenters/overlays/new-stuff.jsx":
/*!***********************************************!*\
  !*** ./src/presenters/overlays/new-stuff.jsx ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.regexp.to-string */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.to-string.js");
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../includes/link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _includes_markdown_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../includes/markdown.jsx */ "./src/presenters/includes/markdown.jsx");
/* harmony import */ var _pop_overs_popover_container_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../pop-overs/popover-container.jsx */ "./src/presenters/pop-overs/popover-container.jsx");
/* harmony import */ var _includes_user_prefs_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../includes/user-prefs.jsx */ "./src/presenters/includes/user-prefs.jsx");
/* harmony import */ var _curated_new_stuff_log__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../curated/new-stuff-log */ "./src/curated/new-stuff-log.js");







function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }








var latestId = Math.max.apply(Math, _toConsumableArray(_curated_new_stuff_log__WEBPACK_IMPORTED_MODULE_12__["default"].map(function (_ref) {
  var id = _ref.id;
  return id;
})));

var NewStuffOverlay = function NewStuffOverlay(_ref2) {
  var setShowNewStuff = _ref2.setShowNewStuff,
      showNewStuff = _ref2.showNewStuff,
      newStuff = _ref2.newStuff;
  return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("dialog", {
    className: "pop-over overlay new-stuff-overlay overlay-narrow",
    open: true
  }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("section", {
    className: "pop-over-info"
  }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("figure", {
    className: "new-stuff-avatar"
  }), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "overlay-title"
  }, "New Stuff"), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("label", {
    className: "button button-small",
    htmlFor: "showNewStuff"
  }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("input", {
    id: "showNewStuff",
    className: "button-checkbox",
    type: "checkbox",
    checked: showNewStuff,
    onChange: function onChange(evt) {
      return setShowNewStuff(evt.target.checked);
    }
  }), "Keep showing me these"))), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("section", {
    className: "pop-over-actions"
  }, newStuff.map(function (_ref3) {
    var id = _ref3.id,
        title = _ref3.title,
        body = _ref3.body,
        link = _ref3.link;
    return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("article", {
      key: id
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "title"
    }, title), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "body"
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_markdown_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], null, body)), !!link && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p", null, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
      className: "link",
      to: link
    }, "Read the blog post \u2192")));
  })));
};

NewStuffOverlay.propTypes = {
  setShowNewStuff: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
  showNewStuff: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,
  newStuff: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number.isRequired,
    title: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,
    body: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,
    link: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string
  }).isRequired).isRequired
};

var NewStuff =
/*#__PURE__*/
function (_React$Component) {
  _inherits(NewStuff, _React$Component);

  function NewStuff(props) {
    var _this;

    _classCallCheck(this, NewStuff);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewStuff).call(this, props));
    _this.state = {
      log: _curated_new_stuff_log__WEBPACK_IMPORTED_MODULE_12__["default"]
    };
    return _this;
  }

  _createClass(NewStuff, [{
    key: "showNewStuff",
    value: function showNewStuff(setVisible) {
      var _this2 = this;

      setVisible(true);
      var unreadStuff = _curated_new_stuff_log__WEBPACK_IMPORTED_MODULE_12__["default"].filter(function (_ref4) {
        var id = _ref4.id;
        return id > _this2.props.newStuffReadId;
      });
      this.setState({
        log: unreadStuff.length ? unreadStuff : _curated_new_stuff_log__WEBPACK_IMPORTED_MODULE_12__["default"]
      });
      this.props.setNewStuffReadId(latestId);
    }
  }, {
    key: "renderOuter",
    value: function renderOuter(_ref5) {
      var _this3 = this;

      var visible = _ref5.visible,
          setVisible = _ref5.setVisible;
      var _this$props = this.props,
          children = _this$props.children,
          isSignedIn = _this$props.isSignedIn,
          showNewStuff = _this$props.showNewStuff,
          newStuffReadId = _this$props.newStuffReadId;
      var dogVisible = isSignedIn && showNewStuff && newStuffReadId < latestId;

      var show = function show() {
        if (window.analytics) {
          window.analytics.track("Pupdate");
        }

        _this3.showNewStuff(setVisible);
      };

      return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, children(show), dogVisible && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
        className: "new-stuff-footer"
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button", {
        className: "button-unstyled new-stuff opens-pop-over",
        onClick: show
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("figure", {
        className: "new-stuff-avatar",
        "data-tooltip": "New",
        "data-tooltip-top": "true",
        "data-tooltip-persistent": "true",
        alt: "New Stuff"
      }))), visible && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
        className: "overlay-background",
        role: "presentation"
      }));
    }
  }, {
    key: "render",
    value: function render() {
      var _this4 = this;

      return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_pop_overs_popover_container_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
        outer: this.renderOuter.bind(this)
      }, function (_ref6) {
        var visible = _ref6.visible;
        return visible ? react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(NewStuffOverlay, _extends({}, _this4.props, {
          newStuff: _this4.state.log
        })) : null;
      });
    }
  }]);

  return NewStuff;
}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);

NewStuff.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
  isSignedIn: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,
  showNewStuff: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,
  newStuffReadId: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number.isRequired,
  setNewStuffReadId: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired
};

var NewStuffContainer = function NewStuffContainer(_ref7) {
  var children = _ref7.children,
      isSignedIn = _ref7.isSignedIn;
  return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_user_prefs_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], {
    name: "showNewStuff",
    default: true
  }, function (showNewStuff, setShowNewStuff) {
    return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_user_prefs_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], {
      name: "newStuffReadId",
      default: 0
    }, function (newStuffReadId, setNewStuffReadId) {
      return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(NewStuff, {
        isSignedIn: isSignedIn,
        showNewStuff: showNewStuff,
        newStuffReadId: newStuffReadId,
        setShowNewStuff: setShowNewStuff,
        setNewStuffReadId: setNewStuffReadId
      }, children);
    });
  });
};

NewStuffContainer.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
  isSignedIn: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (NewStuffContainer);

/***/ }),

/***/ "./src/presenters/overlays/overlay-video.jsx":
/*!***************************************************!*\
  !*** ./src/presenters/overlays/overlay-video.jsx ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _pop_overs_popover_container_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../pop-overs/popover-container.jsx */ "./src/presenters/pop-overs/popover-container.jsx");




var Video = function Video() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "wistia_responsive_padding"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "wistia_responsive_wrapper"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "wistia_embed wistia_async_i0m98yntdb",
    videofoam: "true"
  })));
};

var OverlayVideo = function OverlayVideo(_ref) {
  var children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_pop_overs_popover_container_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], null, function (_ref2) {
    var visible = _ref2.visible,
        setVisible = _ref2.setVisible;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("details", {
      onToggle: function onToggle(evt) {
        return setVisible(evt.target.open);
      },
      open: visible,
      className: "overlay-container"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("summary", null, children), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dialog", {
      className: "overlay video-overlay"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
      className: "pop-over-actions"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Video, null))));
  });
};

OverlayVideo.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (OverlayVideo);

/***/ }),

/***/ "./src/presenters/pages/category.jsx":
/*!*******************************************!*\
  !*** ./src/presenters/pages/category.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-helmet */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-helmet/5.2.0/node_modules/react-helmet/lib/Helmet.js");
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_helmet__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _layout_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../layout.jsx */ "./src/presenters/layout.jsx");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _includes_loader_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../includes/loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _projects_list_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../projects-list.jsx */ "./src/presenters/projects-list.jsx");
/* harmony import */ var _projects_loader_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../projects-loader.jsx */ "./src/presenters/projects-loader.jsx");
/* harmony import */ var _categories_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../categories.jsx */ "./src/presenters/categories.jsx");
/* harmony import */ var _collection_editor_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../collection-editor.jsx */ "./src/presenters/collection-editor.jsx");
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../current-user.jsx */ "./src/presenters/current-user.jsx");





function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }













var CategoryPageWrap = function CategoryPageWrap(_ref) {
  var addProjectToCollection = _ref.addProjectToCollection,
      api = _ref.api,
      category = _ref.category,
      currentUser = _ref.currentUser,
      props = _objectWithoutProperties(_ref, ["addProjectToCollection", "api", "category", "currentUser"]);

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_helmet__WEBPACK_IMPORTED_MODULE_6___default.a, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("title", null, category.name)), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("main", {
    className: "collection-page"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("article", {
    className: "projects",
    style: {
      backgroundColor: category.backgroundColor
    }
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("header", {
    className: "collection"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h1", {
    className: "collection-name"
  }, category.name), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "collection-image-container"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("img", {
    src: category.avatarUrl,
    alt: ""
  })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
    className: "description"
  }, category.description)), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_projects_loader_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], {
    api: api,
    projects: category.projects
  }, function (projects) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "collection-contents"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
      className: "collection-project-container-header"
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h3", null, "Projects (", category.projects.length, ")")), currentUser.login ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_projects_list_jsx__WEBPACK_IMPORTED_MODULE_10__["ProjectsUL"], _extends({
      projects: projects,
      currentUser: currentUser,
      api: api,
      addProjectToCollection: addProjectToCollection
    }, {
      category: true,
      projectOptions: {
        addProjectToCollection: addProjectToCollection
      }
    }, props)) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_projects_list_jsx__WEBPACK_IMPORTED_MODULE_10__["ProjectsUL"], _extends({
      projects: projects,
      currentUser: currentUser,
      api: api,
      addProjectToCollection: addProjectToCollection
    }, {
      category: true,
      projectOptions: {}
    }, props)));
  }))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_categories_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], null));
};

CategoryPageWrap.propTypes = {
  category: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.shape({
    avatarUrl: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
    backgroundColor: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
    description: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
    projects: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.array.isRequired
  }).isRequired,
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,
  addProjectToCollection: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired
};

function loadCategory(_x, _x2) {
  return _loadCategory.apply(this, arguments);
}

function _loadCategory() {
  _loadCategory = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee(api, id) {
    var _ref3, data;

    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return api.get(`categories/${id}`);

          case 2:
            _ref3 = _context.sent;
            data = _ref3.data;
            return _context.abrupt("return", data);

          case 5:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, this);
  }));
  return _loadCategory.apply(this, arguments);
}

var CategoryPage = function CategoryPage(_ref2) {
  var api = _ref2.api,
      category = _ref2.category,
      props = _objectWithoutProperties(_ref2, ["api", "category"]);

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_layout_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
    api: api
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_8__["AnalyticsContext"], {
    properties: {
      origin: 'category'
    }
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_9__["DataLoader"], {
    get: function get() {
      return loadCategory(api, category.id);
    }
  }, function (category) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_collection_editor_jsx__WEBPACK_IMPORTED_MODULE_13__["default"], {
      api: api,
      initialCollection: category
    }, function (category, funcs) {
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_14__["CurrentUserConsumer"], null, function (currentUser) {
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(CategoryPageWrap, _extends({
          category: category,
          api: api,
          userIsAuthor: false,
          currentUser: currentUser
        }, funcs, props));
      });
    });
  })));
};

CategoryPage.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,
  category: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (CategoryPage);

/***/ }),

/***/ "./src/presenters/pages/collection.jsx":
/*!*********************************************!*\
  !*** ./src/presenters/pages/collection.jsx ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.array.find */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.find.js");
/* harmony import */ var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es6.regexp.to-string */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.to-string.js");
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-router-dom/4.3.1/node_modules/react-router-dom/es/index.js");
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-helmet */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-helmet/5.2.0/node_modules/react-helmet/lib/Helmet.js");
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_helmet__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _layout_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../layout.jsx */ "./src/presenters/layout.jsx");
/* harmony import */ var _models_collection__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../models/collection */ "./src/models/collection.js");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _includes_loader_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../includes/loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _projects_list_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../projects-list.jsx */ "./src/presenters/projects-list.jsx");
/* harmony import */ var _projects_loader_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../projects-loader.jsx */ "./src/presenters/projects-loader.jsx");
/* harmony import */ var _includes_not_found_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../includes/not-found.jsx */ "./src/presenters/includes/not-found.jsx");
/* harmony import */ var _includes_description_field_jsx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../includes/description-field.jsx */ "./src/presenters/includes/description-field.jsx");
/* harmony import */ var _collection_editor_jsx__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../collection-editor.jsx */ "./src/presenters/collection-editor.jsx");
/* harmony import */ var _includes_edit_collection_color_jsx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../includes/edit-collection-color.jsx */ "./src/presenters/includes/edit-collection-color.jsx");
/* harmony import */ var _includes_edit_collection_name_and_url_jsx__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../includes/edit-collection-name-and-url.jsx */ "./src/presenters/includes/edit-collection-name-and-url.jsx");
/* harmony import */ var _includes_add_collection_project_jsx__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../includes/add-collection-project.jsx */ "./src/presenters/includes/add-collection-project.jsx");
/* harmony import */ var _pop_overs_report_abuse_pop_jsx__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../pop-overs/report-abuse-pop.jsx */ "./src/presenters/pop-overs/report-abuse-pop.jsx");
/* harmony import */ var _includes_collection_avatar_jsx__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../includes/collection-avatar.jsx */ "./src/presenters/includes/collection-avatar.jsx");
/* harmony import */ var _teams_list__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../teams-list */ "./src/presenters/teams-list.jsx");
/* harmony import */ var _users_list__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../users-list */ "./src/presenters/users-list.jsx");
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../current-user.jsx */ "./src/presenters/current-user.jsx");







function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }























function syncPageToUrl(collection, url) {
  history.replaceState(null, null, Object(_models_collection__WEBPACK_IMPORTED_MODULE_11__["getLink"])(_objectSpread({}, collection, {
    url: url
  })));
}

var DeleteCollectionBtn =
/*#__PURE__*/
function (_React$Component) {
  _inherits(DeleteCollectionBtn, _React$Component);

  function DeleteCollectionBtn(props) {
    var _this;

    _classCallCheck(this, DeleteCollectionBtn);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(DeleteCollectionBtn).call(this, props));
    _this.state = {
      done: false
    };
    return _this;
  }

  _createClass(DeleteCollectionBtn, [{
    key: "render",
    value: function render() {
      var _this2 = this;

      if (this.state.done) {
        return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__["Redirect"], {
          to: Object(_models_collection__WEBPACK_IMPORTED_MODULE_11__["getOwnerLink"])(this.props.collection)
        });
      }

      return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button", {
        className: `button delete-collection button-tertiary`,
        onClick: function onClick() {
          if (!window.confirm(`Are you sure you want to delete your collection?`)) {
            return;
          }

          _this2.props.deleteCollection();

          _this2.setState({
            done: true
          });
        }
      }, "Delete Collection");
    }
  }]);

  return DeleteCollectionBtn;
}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);

DeleteCollectionBtn.propTypes = {
  collection: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.shape({
    team: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object,
    user: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object,
    url: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired
  }).isRequired,
  deleteCollection: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired
};

var CollectionPageContents = function CollectionPageContents(_ref) {
  var api = _ref.api,
      collection = _ref.collection,
      currentUser = _ref.currentUser,
      deleteCollection = _ref.deleteCollection,
      isAuthorized = _ref.isAuthorized,
      updateNameAndUrl = _ref.updateNameAndUrl,
      updateDescription = _ref.updateDescription,
      addProjectToCollection = _ref.addProjectToCollection,
      removeProjectFromCollection = _ref.removeProjectFromCollection,
      updateColor = _ref.updateColor,
      props = _objectWithoutProperties(_ref, ["api", "collection", "currentUser", "deleteCollection", "isAuthorized", "updateNameAndUrl", "updateDescription", "addProjectToCollection", "removeProjectFromCollection", "updateColor"]);

  return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_helmet__WEBPACK_IMPORTED_MODULE_9___default.a, null, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("title", null, collection.name)), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("main", {
    className: "collection-page"
  }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("article", {
    className: "projects",
    style: {
      backgroundColor: collection.coverColor
    }
  }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("header", {
    className: "collection " + (Object(_models_collection__WEBPACK_IMPORTED_MODULE_11__["getContrastTextColor"])(collection.coverColor) == "white" ? "dark" : "")
  }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "collection-image-container"
  }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_collection_avatar_jsx__WEBPACK_IMPORTED_MODULE_23__["default"], {
    backgroundColor: Object(_models_collection__WEBPACK_IMPORTED_MODULE_11__["hexToRgbA"])(collection.coverColor)
  })), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_edit_collection_name_and_url_jsx__WEBPACK_IMPORTED_MODULE_20__["default"], {
    isAuthorized: isAuthorized,
    name: collection.name,
    url: collection.url,
    update: function update(data) {
      return updateNameAndUrl(data).then(function () {
        return syncPageToUrl(collection, data.url);
      });
    }
  }), collection.team && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_teams_list__WEBPACK_IMPORTED_MODULE_24__["TeamTile"], {
    team: collection.team
  }), collection.user && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_users_list__WEBPACK_IMPORTED_MODULE_25__["UserTile"], collection.user), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "collection-description"
  }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_description_field_jsx__WEBPACK_IMPORTED_MODULE_17__["AuthDescription"], {
    authorized: isAuthorized,
    description: collection.description,
    update: updateDescription,
    placeholder: "Tell us about your collection"
  })), isAuthorized && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_edit_collection_color_jsx__WEBPACK_IMPORTED_MODULE_19__["default"], {
    update: updateColor,
    initialColor: collection.coverColor
  })), !!collection && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_projects_loader_jsx__WEBPACK_IMPORTED_MODULE_15__["default"], {
    api: api,
    projects: collection.projects
  }, function (projects) {
    return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "collection-contents"
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "collection-project-container-header"
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h3", null, "Projects (", collection.projects.length, ")"), !!isAuthorized && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_add_collection_project_jsx__WEBPACK_IMPORTED_MODULE_21__["default"], {
      addProjectToCollection: addProjectToCollection,
      collection: collection,
      api: api,
      currentUserIsOwner: isAuthorized,
      currentUser: currentUser
    })), collection.projects.length > 0 ? isAuthorized ? react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_projects_list_jsx__WEBPACK_IMPORTED_MODULE_14__["ProjectsUL"], _extends({
      projects: projects,
      currentUser: currentUser,
      api: api
    }, {
      projectOptions: {
        removeProjectFromCollection: removeProjectFromCollection,
        addProjectToCollection: addProjectToCollection
      }
    }, props)) : currentUser && currentUser.login ? react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_projects_list_jsx__WEBPACK_IMPORTED_MODULE_14__["ProjectsUL"], _extends({
      projects: projects,
      currentUser: currentUser,
      api: api
    }, {
      projectOptions: {
        addProjectToCollection: addProjectToCollection
      }
    }, props)) : react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_projects_list_jsx__WEBPACK_IMPORTED_MODULE_14__["ProjectsUL"], _extends({
      projects: projects,
      currentUser: currentUser,
      api: api
    }, {
      projectOptions: {}
    }, props)) : isAuthorized ? react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "empty-collection-hint"
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("img", {
      src: "https://cdn.glitch.com/1afc1ac4-170b-48af-b596-78fe15838ad3%2Fpsst-pink.svg?1541086338934",
      alt: ""
    }), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p", null, "You can add any project, created by any user")) : react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
      className: "empty-collection-hint"
    }, "No projects to see in this collection just yet.")));
  })), !isAuthorized && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_pop_overs_report_abuse_pop_jsx__WEBPACK_IMPORTED_MODULE_22__["default"], {
    reportedType: "collection",
    reportedModel: collection
  })), isAuthorized && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(DeleteCollectionBtn, {
    collection: collection,
    deleteCollection: deleteCollection
  }));
};

CollectionPageContents.propTypes = {
  addProjectToCollection: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,
  api: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.any.isRequired,
  collection: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.shape({
    avatarUrl: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,
    backgroundColor: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,
    description: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string.isRequired,
    projects: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array.isRequired
  }).isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.node,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object,
  deleteCollection: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
  isAuthorized: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.any.isRequired,
  removeProjectFromCollection: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,
  uploadAvatar: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func
};

var getOrNull =
/*#__PURE__*/
function () {
  var _ref2 = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee(api, route) {
    var _ref3, data;

    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;
            _context.next = 3;
            return api.get(route);

          case 3:
            _ref3 = _context.sent;
            data = _ref3.data;
            return _context.abrupt("return", data);

          case 8:
            _context.prev = 8;
            _context.t0 = _context["catch"](0);

            if (!(_context.t0 && _context.t0.response && _context.t0.response.status === 404)) {
              _context.next = 12;
              break;
            }

            return _context.abrupt("return", null);

          case 12:
            throw _context.t0;

          case 13:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, this, [[0, 8]]);
  }));

  return function getOrNull(_x, _x2) {
    return _ref2.apply(this, arguments);
  };
}();

function getUserIdByLogin(_x3, _x4) {
  return _getUserIdByLogin.apply(this, arguments);
}

function _getUserIdByLogin() {
  _getUserIdByLogin = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee2(api, userLogin) {
    var _ref5, data;

    return regeneratorRuntime.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return api.get(`userid/byLogin/${userLogin}`);

          case 2:
            _ref5 = _context2.sent;
            data = _ref5.data;

            if (!(data === "NOT FOUND")) {
              _context2.next = 6;
              break;
            }

            return _context2.abrupt("return", null);

          case 6:
            return _context2.abrupt("return", data);

          case 7:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, this);
  }));
  return _getUserIdByLogin.apply(this, arguments);
}

function loadCollection(_x5, _x6, _x7) {
  return _loadCollection.apply(this, arguments);
}

function _loadCollection() {
  _loadCollection = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee3(api, ownerName, collectionName) {
    var collections, team, _ref6, data, userId, _ref7, _data, collectionMatch, collection;

    return regeneratorRuntime.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            collections = []; // get team by url

            _context3.next = 3;
            return getOrNull(api, `teams/byUrl/${ownerName}`);

          case 3:
            team = _context3.sent;

            if (!team) {
              _context3.next = 12;
              break;
            }

            _context3.next = 7;
            return api.get(`collections?teamId=${team.id}`);

          case 7:
            _ref6 = _context3.sent;
            data = _ref6.data;
            collections = data;
            _context3.next = 21;
            break;

          case 12:
            _context3.next = 14;
            return getUserIdByLogin(api, ownerName);

          case 14:
            userId = _context3.sent;

            if (!userId) {
              _context3.next = 21;
              break;
            }

            _context3.next = 18;
            return api.get(`collections?userId=${userId}`);

          case 18:
            _ref7 = _context3.sent;
            _data = _ref7.data;
            collections = _data;

          case 21:
            // pick out the correct collection, then load the full data
            collectionMatch = collections.find(function (c) {
              return c.url == collectionName;
            });
            _context3.t0 = collectionMatch;

            if (!_context3.t0) {
              _context3.next = 27;
              break;
            }

            _context3.next = 26;
            return getOrNull(api, `collections/${collectionMatch.id}`);

          case 26:
            _context3.t0 = _context3.sent;

          case 27:
            collection = _context3.t0;

            if (collection) {
              _context3.next = 30;
              break;
            }

            return _context3.abrupt("return", null);

          case 30:
            // inject the full team so we get their projects and members
            if (team) {
              collection.team = team;
            }

            return _context3.abrupt("return", collection);

          case 32:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3, this);
  }));
  return _loadCollection.apply(this, arguments);
}

var CollectionPage = function CollectionPage(_ref4) {
  var api = _ref4.api,
      ownerName = _ref4.ownerName,
      name = _ref4.name,
      props = _objectWithoutProperties(_ref4, ["api", "ownerName", "name"]);

  return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_layout_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
    api: api
  }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_13__["DataLoader"], {
    get: function get() {
      return loadCollection(api, ownerName, name);
    }
  }, function (collection) {
    return collection ? react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_12__["AnalyticsContext"], {
      properties: {
        origin: 'collection'
      },
      context: {
        groupId: collection.team ? collection.team.id.toString() : '0'
      }
    }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_26__["CurrentUserConsumer"], null, function (currentUser) {
      return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_collection_editor_jsx__WEBPACK_IMPORTED_MODULE_18__["default"], {
        api: api,
        initialCollection: collection
      }, function (collection, funcs, userIsAuthor) {
        return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CollectionPageContents, _extends({
          collection: collection,
          api: api,
          currentUser: currentUser,
          isAuthorized: userIsAuthor
        }, funcs, props));
      });
    })) : react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_not_found_jsx__WEBPACK_IMPORTED_MODULE_16__["default"], {
      name: name
    });
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (CollectionPage);

/***/ }),

/***/ "./src/presenters/pages/error.jsx":
/*!****************************************!*\
  !*** ./src/presenters/pages/error.jsx ***!
  \****************************************/
/*! exports provided: NotFoundPage, EmailErrorPage, OauthErrorPage, ProjectNotFoundPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotFoundPage", function() { return NotFoundPage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmailErrorPage", function() { return EmailErrorPage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OauthErrorPage", function() { return OauthErrorPage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectNotFoundPage", function() { return ProjectNotFoundPage; });
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.regexp.replace */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.replace.js");
/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-helmet */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-helmet/5.2.0/node_modules/react-helmet/lib/Helmet.js");
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_helmet__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../layout */ "./src/presenters/layout.jsx");
/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../models/project */ "./src/models/project.js");
/* harmony import */ var _current_user__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../current-user */ "./src/presenters/current-user.jsx");
/* harmony import */ var _includes_not_found__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../includes/not-found */ "./src/presenters/includes/not-found.jsx");




function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }








var telescopeImageUrl = 'https://cdn.glitch.com/7138972f-76e1-43f4-8ede-84c3cdd4b40a%2Ftelescope_404.svg?1543258683849';
var NotFoundPage = function NotFoundPage(_ref) {
  var api = _ref.api;
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_layout__WEBPACK_IMPORTED_MODULE_6__["default"], {
    api: api
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_helmet__WEBPACK_IMPORTED_MODULE_5__["Helmet"], null, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("title", null, "\uD83D\uDC7B Page not found"), " "), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("main", {
    className: "error-page-container"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("img", {
    className: "error-image",
    src: telescopeImageUrl,
    alt: "",
    width: "318px",
    height: "297px"
  }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "error-msg"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h1", null, "Page Not Found"), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, "Maybe a typo, or perhaps it's moved?"), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
    className: "button button-link",
    href: "/"
  }, "Back to Glitch"))));
};
NotFoundPage.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired
};
var emailImageUrl = 'https://cdn.glitch.com/26ac422d-705d-42be-b9cb-1fbdfe7e5a63%2Ferror-mailer.svg?1543429767321';
var EmailErrorPage = function EmailErrorPage(_ref2) {
  var api = _ref2.api,
      title = _ref2.title,
      description = _ref2.description;
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_layout__WEBPACK_IMPORTED_MODULE_6__["default"], {
    api: api
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_helmet__WEBPACK_IMPORTED_MODULE_5__["Helmet"], null, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("title", null, "\u2709\uFE0F ", title), " "), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("main", {
    className: "error-page-container"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("img", {
    className: "error-image email-error-image",
    src: emailImageUrl,
    alt: "",
    width: "470px"
  }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "error-msg"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h1", null, title), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, description), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
    className: "button button-link",
    href: "/"
  }, "Back to Glitch"))));
};
EmailErrorPage.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  title: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  description: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired
};
var oauthImageUrl = 'https://cdn.glitch.com/8ae9b195-ef39-406b-aee0-764888d15665%2Foauth-key.svg?1544466885907';
var OauthErrorPage = function OauthErrorPage(_ref3) {
  var api = _ref3.api,
      title = _ref3.title,
      description = _ref3.description;
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_layout__WEBPACK_IMPORTED_MODULE_6__["default"], {
    api: api
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_helmet__WEBPACK_IMPORTED_MODULE_5__["Helmet"], null, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("title", null, "\uD83D\uDD11 ", title), " "), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("main", {
    className: "error-page-container"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("img", {
    className: "error-image",
    src: oauthImageUrl,
    alt: "",
    width: "370px"
  }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "error-msg"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h1", null, title), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, description), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("a", {
    className: "button button-link",
    href: "/"
  }, "Back to Glitch"))));
};
OauthErrorPage.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  title: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  description: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired
};

var ProjectNotFoundPageReloader =
/*#__PURE__*/
function (_React$Component) {
  _inherits(ProjectNotFoundPageReloader, _React$Component);

  function ProjectNotFoundPageReloader() {
    _classCallCheck(this, ProjectNotFoundPageReloader);

    return _possibleConstructorReturn(this, _getPrototypeOf(ProjectNotFoundPageReloader).apply(this, arguments));
  }

  _createClass(ProjectNotFoundPageReloader, [{
    key: "check",
    value: function () {
      var _check = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var _ref4, data;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return this.props.api.get(`projects/${this.props.name}`);

              case 2:
                _ref4 = _context.sent;
                data = _ref4.data;

                if (data) {
                  window.location.replace(Object(_models_project__WEBPACK_IMPORTED_MODULE_7__["getShowUrl"])(this.props.name));
                }

              case 5:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function check() {
        return _check.apply(this, arguments);
      }

      return check;
    }()
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.check();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps) {
      var token = this.props.currentUser && this.props.currentUser.persistentToken;
      var prevToken = prevProps.currentUser && prevProps.currentUser.persistentToken;

      if (this.props.name !== prevProps.name || token !== prevToken) {
        this.check();
      }
    }
  }, {
    key: "render",
    value: function render() {
      return null;
    }
  }]);

  return ProjectNotFoundPageReloader;
}(react__WEBPACK_IMPORTED_MODULE_3___default.a.Component);

var ProjectNotFoundPage = function ProjectNotFoundPage(_ref5) {
  var api = _ref5.api,
      name = _ref5.name;
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_layout__WEBPACK_IMPORTED_MODULE_6__["default"], {
    api: api
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_helmet__WEBPACK_IMPORTED_MODULE_5__["Helmet"], null, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("title", null, "\uD83D\uDC7B Project not found"), " "), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_includes_not_found__WEBPACK_IMPORTED_MODULE_9__["default"], {
    name: name
  }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", null, "Either there's no project here, or you don't have access to it.  Are you logged in as the right user?"), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_current_user__WEBPACK_IMPORTED_MODULE_8__["CurrentUserConsumer"], null, function (currentUser) {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ProjectNotFoundPageReloader, {
      api: api,
      name: name,
      currentUser: currentUser
    });
  }));
};
ProjectNotFoundPage.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  name: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired
};

/***/ }),

/***/ "./src/presenters/pages/index.jsx":
/*!****************************************!*\
  !*** ./src/presenters/pages/index.jsx ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _layout_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../layout.jsx */ "./src/presenters/layout.jsx");
/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../models/project */ "./src/models/project.js");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../includes/link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _categories_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../categories.jsx */ "./src/presenters/categories.jsx");
/* harmony import */ var _featured_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../featured.jsx */ "./src/presenters/featured.jsx");
/* harmony import */ var _overlays_overlay_video_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../overlays/overlay-video.jsx */ "./src/presenters/overlays/overlay-video.jsx");
/* harmony import */ var _questions_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../questions.jsx */ "./src/presenters/questions.jsx");
/* harmony import */ var _random_categories_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../random-categories.jsx */ "./src/presenters/random-categories.jsx");
/* harmony import */ var _recent_projects_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../recent-projects.jsx */ "./src/presenters/recent-projects.jsx");
/* harmony import */ var _pop_overs_report_abuse_pop_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../pop-overs/report-abuse-pop.jsx */ "./src/presenters/pop-overs/report-abuse-pop.jsx");
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }
















function loadScript(src) {
  var script = document.createElement('script');
  script.src = src;
  script.async = true;
  document.head.appendChild(script);
}

var Callout = function Callout(_ref) {
  var classes = _ref.classes,
      imgUrl = _ref.imgUrl,
      title = _ref.title,
      description = _ref.description;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "callout " + classes
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    className: "badge",
    src: imgUrl,
    alt: title
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "window"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "title"
  }, title), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "description"
  }, description)));
};

Callout.propTypes = {
  classes: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  imgUrl: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  title: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  description: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
};

var WhatIsGlitch =
/*#__PURE__*/
function (_React$Component) {
  _inherits(WhatIsGlitch, _React$Component);

  function WhatIsGlitch() {
    _classCallCheck(this, WhatIsGlitch);

    return _possibleConstructorReturn(this, _getPrototypeOf(WhatIsGlitch).apply(this, arguments));
  }

  _createClass(WhatIsGlitch, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      loadScript('//fast.wistia.com/embed/medias/i0m98yntdb.jsonp');
      loadScript('//fast.wistia.com/assets/external/E-v1.js');
    }
  }, {
    key: "render",
    value: function render() {
      var witchLarge = "https://cdn.glitch.com/a67e7e84-c063-4c8e-a7fc-f4c7ab86186f%2Fglitch-witch-large.svg?1543872118446";
      var witchSmall = "https://cdn.glitch.com/a67e7e84-c063-4c8e-a7fc-f4c7ab86186f%2Fglitch-witch-small.svg?1543872119039";
      var discover = "https://cdn.glitch.com/a67e7e84-c063-4c8e-a7fc-f4c7ab86186f%2Fexplore-illustration.svg?1543508598659";
      var remix = "https://cdn.glitch.com/a67e7e84-c063-4c8e-a7fc-f4c7ab86186f%2Fremix-illustration.svg?1543508529783";
      var collaborate = "https://cdn.glitch.com/a67e7e84-c063-4c8e-a7fc-f4c7ab86186f%2Fcollaborate-illustration.svg?1543508686482";
      var play = "https://cdn.glitch.com/6ce807b5-7214-49d7-aadd-f11803bc35fd%2Fplay.svg";
      var whatsGlitchAlt = "Glitch is the friendly community where you'll find the app of your dreams";
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
        className: "what-is-glitch"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("figure", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        className: "witch large",
        src: witchLarge,
        alt: whatsGlitchAlt
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        className: "witch small",
        src: witchSmall,
        alt: whatsGlitchAlt
      })), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_overlays_overlay_video_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "button video"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
        className: "play-button",
        src: play,
        alt: "How it works"
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, "How it works")))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
        className: "callouts"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Callout, {
        classes: "discover",
        imgUrl: discover,
        title: "Explore Apps",
        description: "Discover over a million free apps built by people like you"
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Callout, {
        classes: "remix",
        imgUrl: remix,
        title: "Remix Anything",
        description: "Edit any project and have your own app running instantly"
      }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Callout, {
        classes: "collaborate",
        imgUrl: collaborate,
        title: "Build with Your Team",
        description: "Invite everyone to create together"
      }), "          ")));
    }
  }]);

  return WhatIsGlitch;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

var MadeInGlitch = function MadeInGlitch() {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
    className: "made-in-glitch"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p", null, "Of course, this site was made on Glitch too"), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
    to: Object(_models_project__WEBPACK_IMPORTED_MODULE_3__["getEditorUrl"])('community'),
    className: "button button-link has-emoji"
  }, "View Source ", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "emoji carp_streamer"
  })));
};

var IndexPage = function IndexPage(_ref2) {
  var api = _ref2.api,
      user = _ref2.user;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", null, !user.login && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(WhatIsGlitch, null), !!user.projects.length && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_recent_projects_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], {
    api: api
  }), !!user.login && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_questions_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
    api: api
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_featured_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
    isAuthorized: !!user.login
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_random_categories_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], {
    api: api
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_categories_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(MadeInGlitch, null), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_pop_overs_report_abuse_pop_jsx__WEBPACK_IMPORTED_MODULE_13__["default"], {
    reportedType: "home"
  }));
};

IndexPage.propTypes = {
  user: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
    login: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
  })
};

var IndexPageContainer = function IndexPageContainer(_ref3) {
  var api = _ref3.api;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layout_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], {
    api: api
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_4__["AnalyticsContext"], {
    properties: {
      origin: 'index'
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_5__["CurrentUserConsumer"], null, function (user) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(IndexPage, {
      api: api,
      user: user
    });
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (IndexPageContainer);

/***/ }),

/***/ "./src/presenters/pages/join-team.jsx":
/*!********************************************!*\
  !*** ./src/presenters/pages/join-team.jsx ***!
  \********************************************/
/*! exports provided: JoinTeamPage, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JoinTeamPage", function() { return JoinTeamPage; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _utils_sentry__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/sentry */ "./src/utils/sentry.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-router-dom/4.3.1/node_modules/react-router-dom/es/index.js");
/* harmony import */ var _models_team__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../models/team */ "./src/models/team.js");
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _notifications_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../notifications.jsx */ "./src/presenters/notifications.jsx");




function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }









var JoinTeamPageBase =
/*#__PURE__*/
function (_React$Component) {
  _inherits(JoinTeamPageBase, _React$Component);

  function JoinTeamPageBase(props) {
    var _this;

    _classCallCheck(this, JoinTeamPageBase);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(JoinTeamPageBase).call(this, props));
    _this.state = {
      redirect: null
    };
    return _this;
  }

  _createClass(JoinTeamPageBase, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var _ref, team;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                _context.next = 3;
                return this.props.api.get(`/teams/byUrl/${this.props.teamUrl}`);

              case 3:
                _ref = _context.sent;
                team = _ref.data;
                _context.next = 10;
                break;

              case 7:
                _context.prev = 7;
                _context.t0 = _context["catch"](0);

                if (_context.t0 && !(_context.t0.response && _context.t0.response.status === 404)) {
                  Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_5__["captureException"])(_context.t0);
                }

              case 10:
                if (team) {
                  _context.next = 14;
                  break;
                }

                // Either the api is down or the team doesn't exist
                // Regardless we can't really do anything with this
                this.props.createErrorNotification('Invite failed, try asking your teammate to resend the invite');
                this.setState({
                  redirect: Object(_models_team__WEBPACK_IMPORTED_MODULE_7__["getLink"])({
                    url: this.props.teamUrl
                  })
                });
                return _context.abrupt("return");

              case 14:
                _context.prev = 14;
                _context.next = 17;
                return this.props.api.post(`/teams/${team.id}/join/${this.props.joinToken}`, {}, {
                  headers: {
                    Authorization: ''
                  }
                });

              case 17:
                this.props.createNotification('Invitation accepted');
                _context.next = 25;
                break;

              case 20:
                _context.prev = 20;
                _context.t1 = _context["catch"](14);
                // The team is real but the token didn't work
                // Maybe it's been used already or expired?
                console.log('Team invite error', _context.t1 && _context.t1.response && _context.t1.response.data);
                Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_5__["captureMessage"])('Team invite error', {
                  extra: {
                    error: _context.t1
                  }
                });
                this.props.createErrorNotification('Invite failed, try asking your teammate to resend the invite');

              case 25:
                _context.next = 27;
                return this.props.reloadCurrentUser();

              case 27:
                this.setState({
                  redirect: Object(_models_team__WEBPACK_IMPORTED_MODULE_7__["getLink"])(team)
                });

              case 28:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[0, 7], [14, 20]]);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "render",
    value: function render() {
      if (this.state.redirect) {
        return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Redirect"], {
          to: this.state.redirect
        });
      }

      return null;
    }
  }]);

  return JoinTeamPageBase;
}(react__WEBPACK_IMPORTED_MODULE_3___default.a.Component);

JoinTeamPageBase.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.any.isRequired,
  teamUrl: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  joinToken: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  createErrorNotification: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  createNotification: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  reloadCurrentUser: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired
};
var JoinTeamPage = function JoinTeamPage(props) {
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_8__["CurrentUserConsumer"], null, function (currentUser, fetched, _ref2) {
    var reload = _ref2.reload;
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_notifications_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], null, function (notify) {
      return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(JoinTeamPageBase, _extends({}, notify, props, {
        reloadCurrentUser: reload
      }));
    });
  });
};
/* harmony default export */ __webpack_exports__["default"] = (JoinTeamPage);

/***/ }),

/***/ "./src/presenters/pages/login.jsx":
/*!****************************************!*\
  !*** ./src/presenters/pages/login.jsx ***!
  \****************************************/
/*! exports provided: FacebookLoginPage, GitHubLoginPage, EmailTokenLoginPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FacebookLoginPage", function() { return FacebookLoginPage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GitHubLoginPage", function() { return GitHubLoginPage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EmailTokenLoginPage", function() { return EmailTokenLoginPage; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _utils_sentry__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/sentry */ "./src/utils/sentry.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-router-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-router-dom/4.3.1/node_modules/react-router-dom/es/index.js");
/* harmony import */ var _includes_local_storage__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../includes/local-storage */ "./src/presenters/includes/local-storage.jsx");
/* harmony import */ var _current_user__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../current-user */ "./src/presenters/current-user.jsx");
/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./error */ "./src/presenters/pages/error.jsx");





function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

/* globals APP_URL analytics */






 // The Editor may embed /login/* endpoints in an iframe in order to share code.
// NotifyParent allows the editor to receive messages from this page.
// We use this to pass on auth success/failure messages.

function notifyParent() {
  var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

  if (window.parent === window) {
    return;
  } // Specifically target our same origin;
  // we're only communicating between the editor and its corresponding ~community site,
  // not across other environments.


  var sameOrigin = window.origin; // Add 'LoginMessage' to all messages of this type so that the Editor
  // can filter for them specifically.

  message.type = "LoginMessage";
  window.parent.postMessage(message, sameOrigin);
}

var LoginPage =
/*#__PURE__*/
function (_React$Component) {
  _inherits(LoginPage, _React$Component);

  function LoginPage(props) {
    var _this;

    _classCallCheck(this, LoginPage);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginPage).call(this, props));
    _this.state = {
      done: false,
      redirect: {
        pathname: '/'
      },
      error: false,
      errorMessage: null
    };
    return _this;
  }

  _createClass(LoginPage, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var _this$props, api, provider, url, destination, _ref, data, errorData, details;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _this$props = this.props, api = _this$props.api, provider = _this$props.provider, url = _this$props.url, destination = _this$props.destination;
                this.props.setDestination(undefined);
                _context.prev = 2;
                _context.next = 5;
                return api.post(url);

              case 5:
                _ref = _context.sent;
                data = _ref.data;

                if (!(data.id <= 0)) {
                  _context.next = 9;
                  break;
                }

                throw new Error(`Bad user id (${data.id}) after ${provider} login`);

              case 9:
                console.log("LOGGED IN", data);
                this.props.setUser(data);

                if (destination && destination.expires > new Date().toISOString()) {
                  this.setState({
                    redirect: destination.to
                  });
                }

                this.setState({
                  done: true
                });
                analytics.track("Signed In", {
                  provider: provider
                });
                notifyParent({
                  success: true,
                  details: {
                    provider: provider
                  }
                });
                _context.next = 26;
                break;

              case 17:
                _context.prev = 17;
                _context.t0 = _context["catch"](2);
                this.setState({
                  error: true
                });
                errorData = _context.t0 && _context.t0.response && _context.t0.response.data;

                if (errorData && errorData.message) {
                  this.setState({
                    errorMessage: errorData.message
                  });
                }

                details = {
                  provider: provider,
                  error: errorData
                };
                console.error("Login error.", details);
                Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_6__["captureMessage"])("Login error", {
                  extra: details
                });
                notifyParent({
                  success: false,
                  details: details
                });

              case 26:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[2, 17]]);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "render",
    value: function render() {
      if (this.state.done) {
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_7__["Redirect"], {
          to: this.state.redirect
        });
      } else if (this.state.error) {
        var genericDescription = "Hard to say what happened, but we couldn't log you in. Try again?";

        if (this.props.provider === "Email") {
          return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_error__WEBPACK_IMPORTED_MODULE_10__["EmailErrorPage"], {
            api: this.props.api,
            title: `${this.props.provider} Login Problem`,
            description: this.state.errorMessage || genericDescription
          });
        }

        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_error__WEBPACK_IMPORTED_MODULE_10__["OauthErrorPage"], {
          api: this.props.api,
          title: `${this.props.provider} Login Problem`,
          description: this.state.errorMessage || genericDescription
        });
      }

      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
        className: "content"
      });
    }
  }]);

  return LoginPage;
}(react__WEBPACK_IMPORTED_MODULE_4___default.a.Component);

LoginPage.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,
  url: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
  provider: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
  setUser: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  destination: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.shape({
    expires: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
    to: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired
  }),
  hash: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string
};

var LoginPageContainer = function LoginPageContainer(props) {
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_local_storage__WEBPACK_IMPORTED_MODULE_8__["default"], {
    name: "destinationAfterAuth",
    default: undefined
  }, function (destination, setDestination, loaded) {
    return loaded && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_current_user__WEBPACK_IMPORTED_MODULE_9__["CurrentUserConsumer"], null, function (currentUser, fetched, _ref2) {
      var login = _ref2.login;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(LoginPage, _extends({
        setUser: login,
        destination: destination,
        setDestination: setDestination
      }, props));
    });
  });
};

var FacebookLoginPage = function FacebookLoginPage(_ref3) {
  var code = _ref3.code,
      props = _objectWithoutProperties(_ref3, ["code"]);

  var callbackUrl = `${APP_URL}/login/facebook`;
  var url = `/auth/facebook/${code}?callbackURL=${encodeURIComponent(callbackUrl)}`;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(LoginPageContainer, _extends({}, props, {
    provider: "Facebook",
    url: url
  }));
};
var GitHubLoginPage = function GitHubLoginPage(_ref4) {
  var code = _ref4.code,
      props = _objectWithoutProperties(_ref4, ["code"]);

  var url = `/auth/github/${code}`;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(LoginPageContainer, _extends({}, props, {
    provider: "GitHub",
    url: url
  }));
};
var EmailTokenLoginPage = function EmailTokenLoginPage(_ref5) {
  var token = _ref5.token,
      props = _objectWithoutProperties(_ref5, ["token"]);

  var url = `/auth/email/${token}`;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(LoginPageContainer, _extends({}, props, {
    provider: "Email",
    url: url
  }));
};

/***/ }),

/***/ "./src/presenters/pages/project.jsx":
/*!******************************************!*\
  !*** ./src/presenters/pages/project.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-helmet */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-helmet/5.2.0/node_modules/react-helmet/lib/Helmet.js");
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_helmet__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../models/project */ "./src/models/project.js");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _includes_loader_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../includes/loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _includes_not_found_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../includes/not-found.jsx */ "./src/presenters/includes/not-found.jsx");
/* harmony import */ var _includes_markdown_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../includes/markdown.jsx */ "./src/presenters/includes/markdown.jsx");
/* harmony import */ var _project_editor_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../project-editor.jsx */ "./src/presenters/project-editor.jsx");
/* harmony import */ var _includes_expander_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../includes/expander.jsx */ "./src/presenters/includes/expander.jsx");
/* harmony import */ var _includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../includes/editable-field.jsx */ "./src/presenters/includes/editable-field.jsx");
/* harmony import */ var _includes_embed_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../includes/embed.jsx */ "./src/presenters/includes/embed.jsx");
/* harmony import */ var _includes_description_field_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../includes/description-field.jsx */ "./src/presenters/includes/description-field.jsx");
/* harmony import */ var _includes_profile_jsx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../includes/profile.jsx */ "./src/presenters/includes/profile.jsx");
/* harmony import */ var _includes_project_actions_jsx__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../includes/project-actions.jsx */ "./src/presenters/includes/project-actions.jsx");
/* harmony import */ var _pop_overs_report_abuse_pop_jsx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../pop-overs/report-abuse-pop.jsx */ "./src/presenters/pop-overs/report-abuse-pop.jsx");
/* harmony import */ var _includes_add_project_to_collection_jsx__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../includes/add-project-to-collection.jsx */ "./src/presenters/includes/add-project-to-collection.jsx");
/* harmony import */ var _teams_list_jsx__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../teams-list.jsx */ "./src/presenters/teams-list.jsx");
/* harmony import */ var _users_list_jsx__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../users-list.jsx */ "./src/presenters/users-list.jsx");
/* harmony import */ var _includes_related_projects_jsx__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../includes/related-projects.jsx */ "./src/presenters/includes/related-projects.jsx");
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _layout_jsx__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../layout.jsx */ "./src/presenters/layout.jsx");





function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

/* global analytics */























function trackRemix(id, domain) {
  analytics.track("Click Remix", {
    origin: "project page",
    baseProjectId: id,
    baseDomain: domain
  });
}

function syncPageToDomain(domain) {
  history.replaceState(null, null, `/~${domain}`);
}

var PrivateTooltip = "Only members can view code";
var PublicTooltip = "Visible to everyone";

var PrivateBadge = function PrivateBadge() {
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
    className: "project-badge private-project-badge",
    "aria-label": PrivateTooltip,
    "data-tooltip": PrivateTooltip
  });
};

var PrivateToggle = function PrivateToggle(_ref) {
  var isPrivate = _ref.isPrivate,
      setPrivate = _ref.setPrivate;
  var tooltip = isPrivate ? PrivateTooltip : PublicTooltip;
  var classBase = "button-tertiary button-on-secondary-background project-badge";
  var className = isPrivate ? 'private-project-badge' : 'public-project-badge';
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
    "data-tooltip": tooltip
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
    "aria-label": tooltip,
    onClick: function onClick() {
      return setPrivate(!isPrivate);
    },
    className: `${classBase} ${className}`
  }));
};

PrivateToggle.propTypes = {
  isPrivate: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool.isRequired,
  setPrivate: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired
};

var ReadmeError = function ReadmeError(error) {
  return error && error.response && error.response.status === 404 ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, "This project would be even better with a ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("code", null, "README.md")) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, "We couldn't load the readme. Try refreshing?");
};

var ReadmeLoader = function ReadmeLoader(_ref2) {
  var api = _ref2.api,
      domain = _ref2.domain;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_9__["DataLoader"], {
    get: function get() {
      return api.get(`projects/${domain}/readme`);
    },
    renderError: ReadmeError
  }, function (_ref3) {
    var data = _ref3.data;
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_expander_jsx__WEBPACK_IMPORTED_MODULE_13__["default"], {
      height: 250
    }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_markdown_jsx__WEBPACK_IMPORTED_MODULE_11__["Markdown"], null, data));
  });
};

ReadmeLoader.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,
  domain: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired
};

var ProjectPage = function ProjectPage(_ref4) {
  var project = _ref4.project,
      addProjectToCollection = _ref4.addProjectToCollection,
      api = _ref4.api,
      currentUser = _ref4.currentUser,
      isAuthorized = _ref4.isAuthorized,
      updateDomain = _ref4.updateDomain,
      updateDescription = _ref4.updateDescription,
      updatePrivate = _ref4.updatePrivate;
  var domain = project.domain,
      users = project.users,
      teams = project.teams;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("main", {
    className: "project-page"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
    id: "info"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_profile_jsx__WEBPACK_IMPORTED_MODULE_17__["InfoContainer"], null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_profile_jsx__WEBPACK_IMPORTED_MODULE_17__["ProjectInfoContainer"], {
    style: {
      backgroundImage: `url('${Object(_models_project__WEBPACK_IMPORTED_MODULE_7__["getAvatarUrl"])(project.id)}')`
    }
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h1", null, isAuthorized ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_14__["default"], {
    value: domain,
    placeholder: "Name your project",
    update: function update(domain) {
      return updateDomain(domain).then(function () {
        return syncPageToDomain(domain);
      });
    },
    suffix: react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(PrivateToggle, {
      isPrivate: project.private,
      isMember: isAuthorized,
      setPrivate: updatePrivate
    })
  }) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, domain, " ", project.private && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(PrivateBadge, null))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "users-information"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_users_list_jsx__WEBPACK_IMPORTED_MODULE_22__["default"], {
    users: users
  }), !!teams.length && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_teams_list_jsx__WEBPACK_IMPORTED_MODULE_21__["default"], {
    teams: teams
  })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_description_field_jsx__WEBPACK_IMPORTED_MODULE_16__["AuthDescription"], {
    authorized: isAuthorized,
    description: project.description,
    update: updateDescription,
    placeholder: "Tell us about your app"
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
    className: "buttons"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_project_actions_jsx__WEBPACK_IMPORTED_MODULE_18__["ShowButton"], {
    name: domain
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_project_actions_jsx__WEBPACK_IMPORTED_MODULE_18__["EditButton"], {
    name: domain,
    isMember: isAuthorized
  }))))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
    id: "embed"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_embed_jsx__WEBPACK_IMPORTED_MODULE_15__["default"], {
    domain: domain
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
    className: "buttons space-between"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_pop_overs_report_abuse_pop_jsx__WEBPACK_IMPORTED_MODULE_19__["default"], {
    reportedType: "project",
    reportedModel: project
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", null, currentUser.login && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_add_project_to_collection_jsx__WEBPACK_IMPORTED_MODULE_20__["default"], {
    className: "button-small margin",
    api: api,
    currentUser: currentUser,
    project: project,
    fromProject: true,
    addProjectToCollection: addProjectToCollection
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_project_actions_jsx__WEBPACK_IMPORTED_MODULE_18__["RemixButton"], {
    className: "button-small margin",
    name: domain,
    isMember: isAuthorized,
    onClick: function onClick() {
      return trackRemix(project.id, domain);
    }
  })))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
    id: "readme"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(ReadmeLoader, {
    api: api,
    domain: domain
  })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
    id: "related"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_related_projects_jsx__WEBPACK_IMPORTED_MODULE_23__["default"], _extends({
    ignoreProjectId: project.id
  }, {
    api: api,
    teams: teams,
    users: users
  }))));
};

ProjectPage.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,
  isAuthorized: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool.isRequired,
  project: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired
};

function getProject(_x, _x2) {
  return _getProject.apply(this, arguments);
}

function _getProject() {
  _getProject = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee(api, domain) {
    var _ref7, data;

    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return api.get(`projects/${domain}`);

          case 2:
            _ref7 = _context.sent;
            data = _ref7.data;
            console.log("project", data);
            return _context.abrupt("return", data);

          case 6:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, this);
  }));
  return _getProject.apply(this, arguments);
}

var ProjectPageLoader = function ProjectPageLoader(_ref5) {
  var domain = _ref5.domain,
      api = _ref5.api,
      currentUser = _ref5.currentUser,
      props = _objectWithoutProperties(_ref5, ["domain", "api", "currentUser"]);

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_9__["DataLoader"], {
    get: function get() {
      return getProject(api, domain);
    },
    renderError: function renderError() {
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_not_found_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
        name: domain
      });
    }
  }, function (project) {
    return project ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_project_editor_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], {
      api: api,
      initialProject: project
    }, function (project, funcs, userIsMember) {
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_helmet__WEBPACK_IMPORTED_MODULE_6___default.a, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("title", null, project.domain)), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(ProjectPage, _extends({
        api: api,
        project: project
      }, funcs, {
        isAuthorized: userIsMember,
        currentUser: currentUser
      }, props)));
    }) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_not_found_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
      name: domain
    });
  });
};

ProjectPageLoader.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  domain: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired
};

var ProjectPageContainer = function ProjectPageContainer(_ref6) {
  var api = _ref6.api,
      name = _ref6.name;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_layout_jsx__WEBPACK_IMPORTED_MODULE_25__["default"], {
    api: api
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_8__["AnalyticsContext"], {
    properties: {
      origin: 'project'
    }
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_24__["CurrentUserConsumer"], null, function (currentUser) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(ProjectPageLoader, {
      api: api,
      domain: name,
      currentUser: currentUser
    });
  })));
};

/* harmony default export */ __webpack_exports__["default"] = (ProjectPageContainer);

/***/ }),

/***/ "./src/presenters/pages/questions.jsx":
/*!********************************************!*\
  !*** ./src/presenters/pages/questions.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-helmet */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-helmet/5.2.0/node_modules/react-helmet/lib/Helmet.js");
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_helmet__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _layout_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../layout.jsx */ "./src/presenters/layout.jsx");
/* harmony import */ var _questions_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../questions.jsx */ "./src/presenters/questions.jsx");
/* harmony import */ var _categories_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../categories.jsx */ "./src/presenters/categories.jsx");







var QuestionsPage = function QuestionsPage(_ref) {
  var api = _ref.api;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_layout_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
    api: api
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_helmet__WEBPACK_IMPORTED_MODULE_2___default.a, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("title", null, "Questions")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("main", {
    className: "questions-page"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_questions_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], {
    api: api,
    max: 12
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_categories_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], null)));
};

QuestionsPage.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (QuestionsPage);

/***/ }),

/***/ "./src/presenters/pages/router.jsx":
/*!*****************************************!*\
  !*** ./src/presenters/pages/router.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.regexp.match */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.match.js");
/* harmony import */ var core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.regexp.search */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.search.js");
/* harmony import */ var core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-router-dom/4.3.1/node_modules/react-router-dom/es/index.js");
/* harmony import */ var _curated_categories__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../curated/categories */ "./src/curated/categories.js");
/* harmony import */ var _curated_teams__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../curated/teams */ "./src/curated/teams.js");
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _index_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./index.jsx */ "./src/presenters/pages/index.jsx");
/* harmony import */ var _login_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./login.jsx */ "./src/presenters/pages/login.jsx");
/* harmony import */ var _join_team_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./join-team.jsx */ "./src/presenters/pages/join-team.jsx");
/* harmony import */ var _questions_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./questions.jsx */ "./src/presenters/pages/questions.jsx");
/* harmony import */ var _project_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./project.jsx */ "./src/presenters/pages/project.jsx");
/* harmony import */ var _team_or_user_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./team-or-user.jsx */ "./src/presenters/pages/team-or-user.jsx");
/* harmony import */ var _search_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./search.jsx */ "./src/presenters/pages/search.jsx");
/* harmony import */ var _category_jsx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./category.jsx */ "./src/presenters/pages/category.jsx");
/* harmony import */ var _collection_jsx__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./collection.jsx */ "./src/presenters/pages/collection.jsx");
/* harmony import */ var _error_jsx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./error.jsx */ "./src/presenters/pages/error.jsx");
/* harmony import */ var _secret_jsx__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./secret.jsx */ "./src/presenters/pages/secret.jsx");





function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }


















/* global EXTERNAL_ROUTES */

var parse = function parse(search, name) {
  var params = new URLSearchParams(search);
  return params.get(name);
};

var ExternalPageReloader =
/*#__PURE__*/
function (_React$Component) {
  _inherits(ExternalPageReloader, _React$Component);

  function ExternalPageReloader() {
    _classCallCheck(this, ExternalPageReloader);

    return _possibleConstructorReturn(this, _getPrototypeOf(ExternalPageReloader).apply(this, arguments));
  }

  _createClass(ExternalPageReloader, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      window.location.reload();
    }
  }, {
    key: "render",
    value: function render() {
      return null;
    }
  }]);

  return ExternalPageReloader;
}(react__WEBPACK_IMPORTED_MODULE_4___default.a.Component);

var PageChangeHandlerBase =
/*#__PURE__*/
function (_React$Component2) {
  _inherits(PageChangeHandlerBase, _React$Component2);

  function PageChangeHandlerBase() {
    _classCallCheck(this, PageChangeHandlerBase);

    return _possibleConstructorReturn(this, _getPrototypeOf(PageChangeHandlerBase).apply(this, arguments));
  }

  _createClass(PageChangeHandlerBase, [{
    key: "track",
    value: function track() {
      try {
        var analytics = window.analytics;

        if (analytics) {
          analytics.page({}, {
            groupId: '0'
          });
        }
      } catch (ex) {
        console.error("Error tracking page transition.", ex);
      }
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prev) {
      if (this.props.location.key !== prev.location.key) {
        window.scrollTo(0, 0);
        this.props.reloadCurrentUser();
        this.track();
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.track();
    }
  }, {
    key: "render",
    value: function render() {
      return null;
    }
  }]);

  return PageChangeHandlerBase;
}(react__WEBPACK_IMPORTED_MODULE_4___default.a.Component);

var PageChangeHandler = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["withRouter"])(function (_ref) {
  var location = _ref.location;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_9__["CurrentUserConsumer"], null, function (user, fetched, _ref2) {
    var reload = _ref2.reload;
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(PageChangeHandlerBase, {
      location: location,
      reloadCurrentUser: reload
    });
  });
});

var Router = function Router(_ref3) {
  var api = _ref3.api;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(PageChangeHandler, null), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Switch"], null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    path: "/",
    exact: true,
    render: function render(_ref4) {
      var location = _ref4.location;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_index_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
        key: location.key,
        api: api
      });
    }
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    path: "/index.html",
    exact: true,
    strict: true,
    render: function render(_ref5) {
      var location = _ref5.location;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_index_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
        key: location.key,
        api: api
      });
    }
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    path: "/login/facebook",
    exact: true,
    render: function render(_ref6) {
      var location = _ref6.location;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_login_jsx__WEBPACK_IMPORTED_MODULE_11__["FacebookLoginPage"], {
        key: location.key,
        api: api,
        code: parse(location.search, 'code'),
        hash: parse(location.search, 'hash')
      });
    }
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    path: "/login/github",
    exact: true,
    render: function render(_ref7) {
      var location = _ref7.location;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_login_jsx__WEBPACK_IMPORTED_MODULE_11__["GitHubLoginPage"], {
        key: location.key,
        api: api,
        code: parse(location.search, 'code'),
        hash: parse(location.search, 'hash')
      });
    }
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    path: "/login/email",
    exact: true,
    render: function render(_ref8) {
      var location = _ref8.location;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_login_jsx__WEBPACK_IMPORTED_MODULE_11__["EmailTokenLoginPage"], {
        key: location.key,
        api: api,
        token: parse(location.search, 'token'),
        hash: parse(location.search, 'hash')
      });
    }
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    path: "/join/@:teamUrl/:joinToken",
    exact: true,
    render: function render(_ref9) {
      var match = _ref9.match;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_join_team_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], _extends({
        key: location.key,
        api: api
      }, match.params));
    }
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    path: "/questions",
    exact: true,
    render: function render(_ref10) {
      var location = _ref10.location;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_questions_jsx__WEBPACK_IMPORTED_MODULE_13__["default"], {
        key: location.key,
        api: api
      });
    }
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    path: "/~:name",
    exact: true,
    render: function render(_ref11) {
      var location = _ref11.location,
          match = _ref11.match;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_project_jsx__WEBPACK_IMPORTED_MODULE_14__["default"], {
        key: location.key,
        api: api,
        name: match.params.name
      });
    }
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    path: "/~:name/404",
    exact: true,
    render: function render(_ref12) {
      var location = _ref12.location,
          match = _ref12.match;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_error_jsx__WEBPACK_IMPORTED_MODULE_19__["ProjectNotFoundPage"], {
        key: location.key,
        api: api,
        name: match.params.name
      });
    }
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    path: "/@:name",
    exact: true,
    render: function render(_ref13) {
      var location = _ref13.location,
          match = _ref13.match;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_team_or_user_jsx__WEBPACK_IMPORTED_MODULE_15__["TeamOrUserPage"], {
        key: location.key,
        api: api,
        name: match.params.name
      });
    }
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    path: "/@:owner/:name",
    exact: true,
    render: function render(_ref14) {
      var location = _ref14.location,
          match = _ref14.match;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_collection_jsx__WEBPACK_IMPORTED_MODULE_18__["default"], {
        key: location.key,
        api: api,
        ownerName: match.params.owner,
        name: match.params.name
      });
    }
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    path: "/user/:id(\\d+)",
    exact: true,
    render: function render(_ref15) {
      var location = _ref15.location,
          match = _ref15.match;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_team_or_user_jsx__WEBPACK_IMPORTED_MODULE_15__["UserPage"], {
        key: location.key,
        api: api,
        id: parseInt(match.params.id, 10),
        name: `user ${match.params.id}`
      });
    }
  }), Object.keys(_curated_teams__WEBPACK_IMPORTED_MODULE_8__["default"]).map(function (name) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
      key: name,
      path: `/${name}`,
      exact: true,
      render: function render(_ref16) {
        var location = _ref16.location;
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_team_or_user_jsx__WEBPACK_IMPORTED_MODULE_15__["TeamPage"], {
          key: location.key,
          api: api,
          id: _curated_teams__WEBPACK_IMPORTED_MODULE_8__["default"][name],
          name: name
        });
      }
    });
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    path: "/search",
    exact: true,
    render: function render(_ref17) {
      var location = _ref17.location;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_search_jsx__WEBPACK_IMPORTED_MODULE_16__["default"], {
        key: location.key,
        api: api,
        query: parse(location.search, 'q')
      });
    }
  }), _curated_categories__WEBPACK_IMPORTED_MODULE_7__["default"].map(function (category) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
      key: category.url,
      path: `/${category.url}`,
      exact: true,
      render: function render(_ref18) {
        var location = _ref18.location;
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_category_jsx__WEBPACK_IMPORTED_MODULE_17__["default"], {
          key: location.key,
          api: api,
          category: category
        });
      }
    });
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    path: "/secret",
    exact: true,
    render: function render(_ref19) {
      var location = _ref19.location;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_secret_jsx__WEBPACK_IMPORTED_MODULE_20__["default"], {
        key: location.key
      });
    }
  }), EXTERNAL_ROUTES.map(function (route) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
      key: route,
      path: route,
      render: function render(_ref20) {
        var location = _ref20.location;
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(ExternalPageReloader, {
          key: location.key
        });
      }
    });
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["Route"], {
    render: function render(_ref21) {
      var location = _ref21.location;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_error_jsx__WEBPACK_IMPORTED_MODULE_19__["NotFoundPage"], {
        api: api,
        key: location.key
      });
    }
  })));
};

Router.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (Router);

/***/ }),

/***/ "./src/presenters/pages/search.jsx":
/*!*****************************************!*\
  !*** ./src/presenters/pages/search.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-helmet */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-helmet/5.2.0/node_modules/react-helmet/lib/Helmet.js");
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_helmet__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _layout_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../layout.jsx */ "./src/presenters/layout.jsx");
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _error_handlers_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../error-handlers.jsx */ "./src/presenters/error-handlers.jsx");
/* harmony import */ var _categories_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../categories.jsx */ "./src/presenters/categories.jsx");
/* harmony import */ var _includes_loader_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../includes/loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _includes_not_found_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../includes/not-found.jsx */ "./src/presenters/includes/not-found.jsx");
/* harmony import */ var _projects_list_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../projects-list.jsx */ "./src/presenters/projects-list.jsx");
/* harmony import */ var _team_item_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../team-item.jsx */ "./src/presenters/team-item.jsx");
/* harmony import */ var _user_item_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../user-item.jsx */ "./src/presenters/user-item.jsx");




function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }














var TeamResults = function TeamResults(_ref) {
  var teams = _ref.teams;
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("article", null, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Teams"), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("ul", {
    className: "teams-container"
  }, teams ? teams.map(function (team) {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", {
      key: team.id
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_team_item_jsx__WEBPACK_IMPORTED_MODULE_13__["default"], {
      team: team
    }));
  }) : react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], null)));
};

var UserResults = function UserResults(_ref2) {
  var users = _ref2.users;
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("article", null, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Users"), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("ul", {
    className: "users-container"
  }, users ? users.map(function (user) {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("li", {
      key: user.id
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_user_item_jsx__WEBPACK_IMPORTED_MODULE_14__["default"], {
      user: user
    }));
  }) : react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], null)));
};

var ProjectResults = function ProjectResults(_ref3) {
  var addProjectToCollection = _ref3.addProjectToCollection,
      api = _ref3.api,
      projects = _ref3.projects,
      currentUser = _ref3.currentUser;
  return projects ? currentUser.login ? react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_projects_list_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], {
    title: "Projects",
    projects: projects,
    api: api,
    projectOptions: {
      addProjectToCollection: addProjectToCollection
    }
  }) : react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_projects_list_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], {
    title: "Projects",
    projects: projects
  }) : react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("article", null, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("h2", null, "Projects"), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], null));
};

var MAX_RESULTS = 20;

var showResults = function showResults(results) {
  return !results || !!results.length;
};

var SearchResults =
/*#__PURE__*/
function (_React$Component) {
  _inherits(SearchResults, _React$Component);

  function SearchResults(props) {
    var _this;

    _classCallCheck(this, SearchResults);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchResults).call(this, props));
    _this.state = {
      teams: null,
      users: null,
      projects: null
    };
    _this.addProjectToCollection = _this.addProjectToCollection.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(SearchResults, [{
    key: "searchTeams",
    value: function () {
      var _searchTeams = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var _this$props, api, query, _ref4, data;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _this$props = this.props, api = _this$props.api, query = _this$props.query;
                _context.next = 3;
                return api.get(`teams/search?q=${query}`);

              case 3:
                _ref4 = _context.sent;
                data = _ref4.data;
                this.setState({
                  teams: data.slice(0, MAX_RESULTS)
                });

              case 6:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function searchTeams() {
        return _searchTeams.apply(this, arguments);
      }

      return searchTeams;
    }()
  }, {
    key: "searchUsers",
    value: function () {
      var _searchUsers = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2() {
        var _this$props2, api, query, _ref5, data;

        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _this$props2 = this.props, api = _this$props2.api, query = _this$props2.query;
                _context2.next = 3;
                return api.get(`users/search?q=${query}`);

              case 3:
                _ref5 = _context2.sent;
                data = _ref5.data;
                this.setState({
                  users: data.slice(0, MAX_RESULTS)
                });

              case 6:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function searchUsers() {
        return _searchUsers.apply(this, arguments);
      }

      return searchUsers;
    }()
  }, {
    key: "searchProjects",
    value: function () {
      var _searchProjects = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee3() {
        var _this$props3, api, query, _ref6, data;

        return regeneratorRuntime.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _this$props3 = this.props, api = _this$props3.api, query = _this$props3.query;
                _context3.next = 3;
                return api.get(`projects/search?q=${query}`);

              case 3:
                _ref6 = _context3.sent;
                data = _ref6.data;
                this.setState({
                  projects: data.filter(function (project) {
                    return !project.notSafeForKids;
                  }).slice(0, MAX_RESULTS)
                });

              case 6:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function searchProjects() {
        return _searchProjects.apply(this, arguments);
      }

      return searchProjects;
    }()
  }, {
    key: "addProjectToCollection",
    value: function () {
      var _addProjectToCollection = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee4(project, collection) {
        return regeneratorRuntime.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                _context4.next = 2;
                return this.props.api.patch(`collections/${collection.id}/add/${project.id}`);

              case 2:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function addProjectToCollection(_x, _x2) {
        return _addProjectToCollection.apply(this, arguments);
      }

      return addProjectToCollection;
    }()
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      var handleError = this.props.handleError;
      this.searchTeams().catch(handleError);
      this.searchUsers().catch(handleError);
      this.searchProjects().catch(handleError);
    }
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
          teams = _this$state.teams,
          users = _this$state.users,
          projects = _this$state.projects;
      var noResults = [teams, users, projects].every(function (results) {
        return !showResults(results);
      });
      return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("main", {
        className: "search-results"
      }, showResults(teams) && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(TeamResults, {
        teams: teams
      }), showResults(users) && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(UserResults, {
        users: users
      }), showResults(projects) && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ProjectResults, {
        projects: projects,
        currentUser: this.props.currentUser,
        api: this.props.api,
        addProjectToCollection: this.addProjectToCollection
      }), noResults && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_includes_not_found_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], {
        name: "any results"
      }));
    }
  }]);

  return SearchResults;
}(react__WEBPACK_IMPORTED_MODULE_3___default.a.Component);

SearchResults.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.any.isRequired,
  query: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object.isRequired
};

var SearchPage = function SearchPage(_ref7) {
  var api = _ref7.api,
      query = _ref7.query;
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_layout_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
    api: api,
    searchQuery: query
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react_helmet__WEBPACK_IMPORTED_MODULE_5___default.a, null, !!query && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("title", null, "Search for ", query)), query ? react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_error_handlers_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], null, function (errorFuncs) {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_7__["CurrentUserConsumer"], null, function (currentUser) {
      return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(SearchResults, _extends({}, errorFuncs, {
        api: api,
        query: query,
        currentUser: currentUser
      }));
    });
  }) : react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_includes_not_found_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], {
    name: "anything"
  }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_categories_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], null));
};

SearchPage.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.any.isRequired,
  query: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string
};
/* harmony default export */ __webpack_exports__["default"] = (SearchPage);

/***/ }),

/***/ "./src/presenters/pages/secret.jsx":
/*!*****************************************!*\
  !*** ./src/presenters/pages/secret.jsx ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es7.array.includes */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.array.includes.js");
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-helmet */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-helmet/5.2.0/node_modules/react-helmet/lib/Helmet.js");
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_helmet__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _includes_dev_toggles_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../includes/dev-toggles.jsx */ "./src/presenters/includes/dev-toggles.jsx");


function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }






var SecretEffectsOnMount =
/*#__PURE__*/
function (_React$Component) {
  _inherits(SecretEffectsOnMount, _React$Component);

  function SecretEffectsOnMount() {
    _classCallCheck(this, SecretEffectsOnMount);

    return _possibleConstructorReturn(this, _getPrototypeOf(SecretEffectsOnMount).apply(this, arguments));
  }

  _createClass(SecretEffectsOnMount, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      //try to play the secret sound:
      var audio = new Audio('https://cdn.glitch.com/a5a035b7-e3db-4b07-910a-b5c3ca9d8e86%2Fsecret.mp3?1535396729988');
      var maybePromise = audio.play(); // Chrome returns a promise which we must handle:

      maybePromise && maybePromise.then(function () {// DO-Do Do-do do-dO dO-DO
      }).catch(function () {// This empty catch block prevents an exception from bubbling up.
        // play() will fail if the user hasn't interacted with the dom yet.
        // s'fine, let it.
      });
    }
  }, {
    key: "render",
    value: function render() {
      return null;
    }
  }]);

  return SecretEffectsOnMount;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);

var SecretPageContainer = function SecretPageContainer() {
  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_includes_dev_toggles_jsx__WEBPACK_IMPORTED_MODULE_4__["DevToggles"], null, function (enabledToggles, toggleData, setEnabledToggles) {
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Secret, {
      enabledToggles: enabledToggles,
      toggleData: toggleData,
      setEnabledToggles: setEnabledToggles
    });
  });
};

var Secret = function Secret(_ref) {
  var enabledToggles = _ref.enabledToggles,
      toggleData = _ref.toggleData,
      setEnabledToggles = _ref.setEnabledToggles;

  var toggleTheToggle = function toggleTheToggle(name) {
    var newToggles = null;

    if (isEnabled(name)) {
      newToggles = enabledToggles.filter(function (enabledToggleName) {
        return enabledToggleName !== name;
      });
    } else {
      newToggles = enabledToggles.concat([name]);
    }

    setEnabledToggles(newToggles);
  };

  var isEnabled = function isEnabled(toggleName) {
    return enabledToggles && enabledToggles.includes(toggleName);
  };

  return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("section", {
    className: "secretPage"
  }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
    className: "filler"
  }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_helmet__WEBPACK_IMPORTED_MODULE_3___default.a, null, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("title", null, "Glitch - It's a secret to everybody.")), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(SecretEffectsOnMount, null), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("ul", null, toggleData.map(function (_ref2) {
    var name = _ref2.name,
        description = _ref2.description;
    return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("li", {
      key: name
    }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
      title: description,
      onClick: function onClick() {
        return toggleTheToggle(name);
      },
      className: isEnabled(name) ? "lit" : "dark"
    }, name));
  })));
};

Secret.propTypes = {
  toggleData: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array.isRequired,
  enabledToggles: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.array.isRequired,
  setEnabledToggles: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (SecretPageContainer);

/***/ }),

/***/ "./src/presenters/pages/team-or-user.jsx":
/*!***********************************************!*\
  !*** ./src/presenters/pages/team-or-user.jsx ***!
  \***********************************************/
/*! exports provided: TeamPage, UserPage, TeamOrUserPage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamPage", function() { return TeamPagePresenter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserPage", function() { return UserPagePresenter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamOrUserPage", function() { return TeamOrUserPagePresenter; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _includes_loader_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../includes/loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _includes_not_found_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../includes/not-found.jsx */ "./src/presenters/includes/not-found.jsx");
/* harmony import */ var _layout_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../layout.jsx */ "./src/presenters/layout.jsx");
/* harmony import */ var _team_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./team.jsx */ "./src/presenters/pages/team.jsx");
/* harmony import */ var _user_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./user.jsx */ "./src/presenters/pages/user.jsx");





function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }









var getOrNull =
/*#__PURE__*/
function () {
  var _ref = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee(api, route) {
    var _ref2, data;

    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.prev = 0;
            _context.next = 3;
            return api.get(route);

          case 3:
            _ref2 = _context.sent;
            data = _ref2.data;
            return _context.abrupt("return", data);

          case 8:
            _context.prev = 8;
            _context.t0 = _context["catch"](0);

            if (!(_context.t0 && _context.t0.response && _context.t0.response.status === 404)) {
              _context.next = 12;
              break;
            }

            return _context.abrupt("return", null);

          case 12:
            throw _context.t0;

          case 13:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, this, [[0, 8]]);
  }));

  return function getOrNull(_x, _x2) {
    return _ref.apply(this, arguments);
  };
}();

var getUserById =
/*#__PURE__*/
function () {
  var _ref3 = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee2(api, id) {
    var user;
    return regeneratorRuntime.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            _context2.next = 2;
            return getOrNull(api, `/users/${id}`);

          case 2:
            user = _context2.sent;
            return _context2.abrupt("return", user);

          case 4:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, this);
  }));

  return function getUserById(_x3, _x4) {
    return _ref3.apply(this, arguments);
  };
}();

var getUser =
/*#__PURE__*/
function () {
  var _ref4 = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee3(api, name) {
    var id;
    return regeneratorRuntime.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            _context3.next = 2;
            return getOrNull(api, `/userId/byLogin/${name}`);

          case 2:
            id = _context3.sent;

            if (!(id === "NOT FOUND")) {
              _context3.next = 5;
              break;
            }

            return _context3.abrupt("return", null);

          case 5:
            _context3.next = 7;
            return getUserById(api, id);

          case 7:
            return _context3.abrupt("return", _context3.sent);

          case 8:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3, this);
  }));

  return function getUser(_x5, _x6) {
    return _ref4.apply(this, arguments);
  };
}();

var parseTeam = function parseTeam(team) {
  var ADMIN_ACCESS_LEVEL = 30;
  var adminIds = team.users.filter(function (user) {
    return user.teamsUser.accessLevel === ADMIN_ACCESS_LEVEL;
  });
  team.adminIds = adminIds.map(function (user) {
    return user.id;
  });
  return team;
};

var getTeamById =
/*#__PURE__*/
function () {
  var _ref5 = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee4(api, id) {
    var team;
    return regeneratorRuntime.wrap(function _callee4$(_context4) {
      while (1) {
        switch (_context4.prev = _context4.next) {
          case 0:
            _context4.next = 2;
            return getOrNull(api, `/teams/${id}`);

          case 2:
            team = _context4.sent;
            return _context4.abrupt("return", team && parseTeam(team));

          case 4:
          case "end":
            return _context4.stop();
        }
      }
    }, _callee4, this);
  }));

  return function getTeamById(_x7, _x8) {
    return _ref5.apply(this, arguments);
  };
}();

var getTeam =
/*#__PURE__*/
function () {
  var _ref6 = _asyncToGenerator(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee5(api, name) {
    var team;
    return regeneratorRuntime.wrap(function _callee5$(_context5) {
      while (1) {
        switch (_context5.prev = _context5.next) {
          case 0:
            _context5.next = 2;
            return getOrNull(api, `/teams/byUrl/${name}`);

          case 2:
            team = _context5.sent;
            return _context5.abrupt("return", team && parseTeam(team));

          case 4:
          case "end":
            return _context5.stop();
        }
      }
    }, _callee5, this);
  }));

  return function getTeam(_x9, _x10) {
    return _ref6.apply(this, arguments);
  };
}();

var TeamPageLoader = function TeamPageLoader(_ref7) {
  var api = _ref7.api,
      id = _ref7.id,
      name = _ref7.name,
      props = _objectWithoutProperties(_ref7, ["api", "id", "name"]);

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_6__["DataLoader"], {
    get: function get() {
      return getTeamById(api, id);
    }
  }, function (team) {
    return team ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_team_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], _extends({
      api: api,
      team: team
    }, props)) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_not_found_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
      name: name
    });
  });
};

TeamPageLoader.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,
  id: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number.isRequired,
  name: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired
};

var UserPageLoader = function UserPageLoader(_ref8) {
  var api = _ref8.api,
      id = _ref8.id,
      name = _ref8.name,
      props = _objectWithoutProperties(_ref8, ["api", "id", "name"]);

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_6__["DataLoader"], {
    get: function get() {
      return getUserById(api, id);
    }
  }, function (user) {
    return user ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_user_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], _extends({
      api: api,
      user: user
    }, props)) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_not_found_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
      name: name
    });
  });
};

UserPageLoader.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,
  id: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number.isRequired,
  name: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired
};

var TeamOrUserPageLoader = function TeamOrUserPageLoader(_ref9) {
  var api = _ref9.api,
      name = _ref9.name,
      props = _objectWithoutProperties(_ref9, ["api", "name"]);

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_6__["DataLoader"], {
    get: function get() {
      return getTeam(api, name);
    }
  }, function (team) {
    return team ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_team_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], _extends({
      api: api,
      team: team
    }, props)) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_6__["DataLoader"], {
      get: function get() {
        return getUser(api, name);
      }
    }, function (user) {
      return user ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_user_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], _extends({
        api: api,
        user: user
      }, props)) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_not_found_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
        name: name
      });
    });
  });
};

TeamOrUserPageLoader.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,
  name: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired
};

var Presenter = function Presenter(api, Loader, args) {
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_layout_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
    api: api
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(Loader, _extends({
    api: api
  }, args)));
};

var TeamPagePresenter = function TeamPagePresenter(_ref10) {
  var api = _ref10.api,
      id = _ref10.id,
      name = _ref10.name;
  return Presenter(api, TeamPageLoader, {
    id: id,
    name: name
  });
};

var UserPagePresenter = function UserPagePresenter(_ref11) {
  var api = _ref11.api,
      id = _ref11.id,
      name = _ref11.name;
  return Presenter(api, UserPageLoader, {
    id: id,
    name: name
  });
};

var TeamOrUserPagePresenter = function TeamOrUserPagePresenter(_ref12) {
  var api = _ref12.api,
      name = _ref12.name;
  return Presenter(api, TeamOrUserPageLoader, {
    name: name
  });
};



/***/ }),

/***/ "./src/presenters/pages/team.jsx":
/*!***************************************!*\
  !*** ./src/presenters/pages/team.jsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.regexp.to-string */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.to-string.js");
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es6.array.find */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.find.js");
/* harmony import */ var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es6_set__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es6.set */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.set.js");
/* harmony import */ var core_js_modules_es6_set__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_set__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es7.array.includes */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.array.includes.js");
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! react-helmet */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-helmet/5.2.0/node_modules/react-helmet/lib/Helmet.js");
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(react_helmet__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _current_user__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../current-user */ "./src/presenters/current-user.jsx");
/* harmony import */ var _includes_loader__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../includes/loader */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _team_editor_jsx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../team-editor.jsx */ "./src/presenters/team-editor.jsx");
/* harmony import */ var _models_team__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../models/team */ "./src/models/team.js");
/* harmony import */ var _includes_description_field_jsx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../includes/description-field.jsx */ "./src/presenters/includes/description-field.jsx");
/* harmony import */ var _includes_profile_jsx__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../includes/profile.jsx */ "./src/presenters/includes/profile.jsx");
/* harmony import */ var _includes_error_boundary__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../includes/error-boundary */ "./src/presenters/includes/error-boundary.jsx");
/* harmony import */ var _collections_list__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../collections-list */ "./src/presenters/collections-list.jsx");
/* harmony import */ var _includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../includes/editable-field.jsx */ "./src/presenters/includes/editable-field.jsx");
/* harmony import */ var _includes_thanks_jsx__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../includes/thanks.jsx */ "./src/presenters/includes/thanks.jsx");
/* harmony import */ var _includes_name_conflict_jsx__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../includes/name-conflict.jsx */ "./src/presenters/includes/name-conflict.jsx");
/* harmony import */ var _includes_add_team_project_jsx__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../includes/add-team-project.jsx */ "./src/presenters/includes/add-team-project.jsx");
/* harmony import */ var _includes_delete_team_jsx__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../includes/delete-team.jsx */ "./src/presenters/includes/delete-team.jsx");
/* harmony import */ var _includes_team_users_jsx__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../includes/team-users.jsx */ "./src/presenters/includes/team-users.jsx");
/* harmony import */ var _entity_page_featured_project_jsx__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../entity-page-featured-project.jsx */ "./src/presenters/entity-page-featured-project.jsx");
/* harmony import */ var _entity_page_projects_jsx__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../entity-page-projects.jsx */ "./src/presenters/entity-page-projects.jsx");
/* harmony import */ var _projects_loader_jsx__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../projects-loader.jsx */ "./src/presenters/projects-loader.jsx");
/* harmony import */ var _includes_team_analytics_jsx__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../includes/team-analytics.jsx */ "./src/presenters/includes/team-analytics.jsx");
/* harmony import */ var _includes_team_elements_jsx__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../includes/team-elements.jsx */ "./src/presenters/includes/team-elements.jsx");
/* harmony import */ var _pop_overs_report_abuse_pop_jsx__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../pop-overs/report-abuse-pop.jsx */ "./src/presenters/pop-overs/report-abuse-pop.jsx");












function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }











 //import SampleTeamCollections from '../../curated/sample-team-collections.jsx';















function syncPageToUrl(team) {
  history.replaceState(null, null, Object(_models_team__WEBPACK_IMPORTED_MODULE_18__["getLink"])(team));
}

var TeamNameUrlFields = function TeamNameUrlFields(_ref) {
  var team = _ref.team,
      updateName = _ref.updateName,
      updateUrl = _ref.updateUrl;
  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_11___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("h1", null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_23__["default"], {
    value: team.name,
    update: updateName,
    placeholder: "What's its name?",
    suffix: team.isVerified ? react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_team_elements_jsx__WEBPACK_IMPORTED_MODULE_33__["VerifiedBadge"], null) : null
  })), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("p", {
    className: "team-url"
  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_23__["default"], {
    value: team.url,
    update: function update(url) {
      return updateUrl(url).then(function () {
        return syncPageToUrl(_objectSpread({}, team, {
          url: url
        }));
      });
    },
    placeholder: "Short url?",
    prefix: "@"
  })));
};

var TeamPageCollections = function TeamPageCollections(_ref2) {
  var collections = _ref2.collections,
      team = _ref2.team,
      api = _ref2.api,
      currentUser = _ref2.currentUser,
      currentUserIsOnTeam = _ref2.currentUserIsOnTeam;
  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_collections_list__WEBPACK_IMPORTED_MODULE_22__["default"], {
    title: "Collections",
    collections: collections.map(function (collection) {
      return _objectSpread({}, collection, {
        team: team
      });
    }),
    api: api,
    maybeCurrentUser: currentUser,
    maybeTeam: team,
    isAuthorized: currentUserIsOnTeam
  });
}; // Team Page


var TeamPage =
/*#__PURE__*/
function (_React$Component) {
  _inherits(TeamPage, _React$Component);

  function TeamPage(props) {
    var _this;

    _classCallCheck(this, TeamPage);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(TeamPage).call(this, props));
    _this.state = {};
    _this.teamAdmins = _this.teamAdmins.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.addProjectToCollection = _this.addProjectToCollection.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(TeamPage, [{
    key: "addProjectToCollection",
    value: function () {
      var _addProjectToCollection = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(project, collection) {
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return this.props.api.patch(`collections/${collection.id}/add/${project.id}`);

              case 2:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function addProjectToCollection(_x, _x2) {
        return _addProjectToCollection.apply(this, arguments);
      }

      return addProjectToCollection;
    }()
  }, {
    key: "getProjectOptions",
    value: function getProjectOptions() {
      var projectOptions = {
        addProjectToCollection: this.addProjectToCollection,
        deleteProject: this.props.deleteProject,
        leaveTeamProject: this.props.leaveTeamProject
      };

      if (this.props.currentUserIsOnTeam) {
        projectOptions["removeProjectFromTeam"] = this.props.removeProject;
        projectOptions["joinTeamProject"] = this.props.joinTeamProject;
        projectOptions["featureProject"] = this.props.featureProject;
      }

      return projectOptions;
    }
  }, {
    key: "teamAdmins",
    value: function teamAdmins() {
      var _this2 = this;

      return this.props.team.users.filter(function (user) {
        return _this2.props.team.adminIds.includes(user.id);
      });
    }
  }, {
    key: "userCanJoinTeam",
    value: function userCanJoinTeam() {
      var _this$props = this.props,
          currentUser = _this$props.currentUser,
          team = _this$props.team;

      if (!this.props.currentUserIsOnTeam && team.whitelistedDomain && currentUser && currentUser.emails) {
        return currentUser.emails.some(function (_ref3) {
          var email = _ref3.email,
              verified = _ref3.verified;
          return verified && email.endsWith(`@${team.whitelistedDomain}`);
        });
      }

      return false;
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var pinnedSet = new Set(this.props.team.teamPins.map(function (_ref4) {
        var projectId = _ref4.projectId;
        return projectId;
      }));
      var pinnedProjects = this.props.team.projects.filter(function (_ref5) {
        var id = _ref5.id;
        return pinnedSet.has(id);
      }).filter(function (_ref6) {
        var id = _ref6.id;
        return id != _this3.props.team.featuredProjectId;
      });
      var recentProjects = this.props.team.projects.filter(function (_ref7) {
        var id = _ref7.id;
        return !pinnedSet.has(id);
      }).filter(function (_ref8) {
        var id = _ref8.id;
        return id != _this3.props.team.featuredProjectId;
      });
      var featuredProject = this.props.team.projects.find(function (_ref9) {
        var id = _ref9.id;
        return id === _this3.props.team.featuredProjectId;
      });
      return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("main", {
        className: "profile-page team-page"
      }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("section", null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("a", {
        href: "/teams/",
        target: "_blank",
        className: "beta"
      }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("img", {
        src: "https://cdn.glitch.com/0c3ba0da-dac8-4904-bb5e-e1c7acc378a2%2Fbeta-flag.svg?1541448893958",
        alt: ""
      }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("h4", null, "Teams are in beta"), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("p", null, "Learn More"))), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_profile_jsx__WEBPACK_IMPORTED_MODULE_20__["ProfileContainer"], {
        avatarStyle: Object(_models_team__WEBPACK_IMPORTED_MODULE_18__["getAvatarStyle"])(_objectSpread({}, this.props.team, {
          cache: this.props.team._cacheAvatar
        })),
        coverStyle: Object(_models_team__WEBPACK_IMPORTED_MODULE_18__["getProfileStyle"])(_objectSpread({}, this.props.team, {
          cache: this.props.team._cacheCover
        })),
        avatarButtons: this.props.currentUserIsTeamAdmin ? react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_profile_jsx__WEBPACK_IMPORTED_MODULE_20__["ImageButtons"], {
          name: "Avatar",
          uploadImage: this.props.uploadAvatar
        }) : null,
        coverButtons: this.props.currentUserIsTeamAdmin ? react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_profile_jsx__WEBPACK_IMPORTED_MODULE_20__["ImageButtons"], {
          name: "Cover",
          uploadImage: this.props.uploadCover,
          clearImage: this.props.team.hasCoverImage ? this.props.clearCover : null
        }) : null
      }, this.props.currentUserIsTeamAdmin ? react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(TeamNameUrlFields, {
        team: this.props.team,
        updateName: this.props.updateName,
        updateUrl: this.props.updateUrl
      }) : react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_11___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("h1", null, this.props.team.name, " ", this.props.team.isVerified && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_team_elements_jsx__WEBPACK_IMPORTED_MODULE_33__["VerifiedBadge"], null)), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("p", {
        className: "team-url"
      }, "@", this.props.team.url)), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
        className: "users-information"
      }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_team_users_jsx__WEBPACK_IMPORTED_MODULE_28__["TeamUsers"], _extends({}, this.props, {
        users: this.props.team.users,
        teamId: this.props.team.id,
        adminIds: this.props.team.adminIds
      })), !!this.props.team.whitelistedDomain && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_team_users_jsx__WEBPACK_IMPORTED_MODULE_28__["WhitelistedDomain"], {
        domain: this.props.team.whitelistedDomain,
        setDomain: this.props.currentUserIsTeamAdmin ? this.props.updateWhitelistedDomain : null
      }), this.props.currentUserIsOnTeam && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_team_users_jsx__WEBPACK_IMPORTED_MODULE_28__["AddTeamUser"], {
        inviteEmail: this.props.inviteEmail,
        inviteUser: this.props.inviteUser,
        setWhitelistedDomain: this.props.currentUserIsTeamAdmin ? this.props.updateWhitelistedDomain : null,
        members: this.props.team.users.map(function (_ref10) {
          var id = _ref10.id;
          return id;
        }),
        whitelistedDomain: this.props.team.whitelistedDomain,
        api: this.props.api
      }), this.userCanJoinTeam() && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_team_users_jsx__WEBPACK_IMPORTED_MODULE_28__["JoinTeam"], {
        onClick: this.props.joinTeam
      })), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_thanks_jsx__WEBPACK_IMPORTED_MODULE_24__["default"], {
        count: this.props.team.users.reduce(function (total, _ref11) {
          var thanksCount = _ref11.thanksCount;
          return total + thanksCount;
        }, 0)
      }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_description_field_jsx__WEBPACK_IMPORTED_MODULE_19__["AuthDescription"], {
        authorized: this.props.currentUserIsTeamAdmin,
        description: this.props.team.description,
        update: this.props.updateDescription,
        placeholder: "Tell us about your team"
      }))), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_error_boundary__WEBPACK_IMPORTED_MODULE_21__["default"], null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_add_team_project_jsx__WEBPACK_IMPORTED_MODULE_26__["default"], _extends({}, this.props, {
        teamProjects: this.props.team.projects,
        api: this.props.api
      }))), featuredProject && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_11___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_entity_page_featured_project_jsx__WEBPACK_IMPORTED_MODULE_29__["default"], {
        featuredProject: featuredProject,
        api: this.props.api,
        isAuthorized: this.props.currentUserIsOnTeam,
        unfeatureProject: this.props.unfeatureProject,
        addProjectToCollection: this.props.addProjectToCollection,
        currentUser: this.props.currentUser
      })), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_entity_page_projects_jsx__WEBPACK_IMPORTED_MODULE_30__["default"], {
        projects: pinnedProjects,
        isAuthorized: this.props.currentUserIsOnTeam,
        removePin: this.props.removePin,
        projectOptions: this.getProjectOptions(),
        api: this.props.api
      }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_entity_page_projects_jsx__WEBPACK_IMPORTED_MODULE_30__["default"], {
        projects: recentProjects,
        isAuthorized: this.props.currentUserIsOnTeam,
        addPin: this.props.addPin,
        projectOptions: this.getProjectOptions(),
        api: this.props.api
      }), this.props.team.projects.length === 0 && this.props.currentUserIsOnTeam && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("aside", {
        className: "inline-banners add-project-to-empty-team-banner"
      }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
        className: "description-container"
      }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("img", {
        className: "project-pals",
        src: "https://cdn.glitch.com/02ae6077-549b-429d-85bc-682e0e3ced5c%2Fcollaborate.svg?1540583258925",
        alt: ""
      }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
        className: "description"
      }, "Add projects to share them with your team"))), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_error_boundary__WEBPACK_IMPORTED_MODULE_21__["default"], null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_loader__WEBPACK_IMPORTED_MODULE_16__["DataLoader"], {
        get: function get() {
          return _this3.props.api.get(`collections?teamId=${_this3.props.team.id}`);
        },
        renderLoader: function renderLoader() {
          return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(TeamPageCollections, _extends({}, _this3.props, {
            collections: _this3.props.team.collections
          }));
        }
      }, function (_ref12) {
        var data = _ref12.data;
        return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(TeamPageCollections, _extends({}, _this3.props, {
          collections: data
        }));
      })), this.props.currentUserIsOnTeam && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_error_boundary__WEBPACK_IMPORTED_MODULE_21__["default"], null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_team_analytics_jsx__WEBPACK_IMPORTED_MODULE_32__["default"], {
        api: this.props.api,
        id: this.props.team.id,
        currentUserIsOnTeam: this.props.currentUserIsOnTeam,
        projects: this.props.team.projects,
        addProject: this.props.addProject,
        myProjects: this.props.currentUser ? this.props.currentUser.projects : []
      })), this.props.currentUserIsTeamAdmin && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_delete_team_jsx__WEBPACK_IMPORTED_MODULE_27__["default"], {
        api: function api() {
          return _this3.props.api;
        },
        teamId: this.props.team.id,
        teamName: this.props.team.name,
        teamAdmins: this.teamAdmins(),
        users: this.props.team.users
      }), !this.props.currentUserIsOnTeam && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_11___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_pop_overs_report_abuse_pop_jsx__WEBPACK_IMPORTED_MODULE_34__["default"], {
        reportedType: "team",
        reportedModel: this.props.team
      }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_team_elements_jsx__WEBPACK_IMPORTED_MODULE_33__["TeamMarketing"], null)));
    }
  }]);

  return TeamPage;
}(react__WEBPACK_IMPORTED_MODULE_11___default.a.Component);

TeamPage.propTypes = {
  team: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.shape({
    _cacheAvatar: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,
    _cacheCover: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,
    adminIds: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.array.isRequired,
    backgroundColor: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string.isRequired,
    coverColor: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string.isRequired,
    description: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string.isRequired,
    hasAvatarImage: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool.isRequired,
    hasCoverImage: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool.isRequired,
    id: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number.isRequired,
    isVerified: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string.isRequired,
    projects: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.array.isRequired,
    teamPins: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.array.isRequired,
    users: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.array.isRequired,
    whitelistedDomain: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string,
    featuredProjectId: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string
  }),
  addPin: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  addProject: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  deleteProject: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  updateWhitelistedDomain: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  inviteEmail: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  inviteUser: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  api: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  clearCover: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.object,
  currentUserIsOnTeam: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool.isRequired,
  currentUserIsTeamAdmin: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool.isRequired,
  removeUserFromTeam: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  removePin: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  removeProject: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  updateName: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  updateUrl: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  updateDescription: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  uploadAvatar: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  uploadCover: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  featureProject: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired,
  unfeatureProject: prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.func.isRequired
};

var teamConflictsWithUser = function teamConflictsWithUser(team, currentUser) {
  if (currentUser && currentUser.login) {
    return currentUser.login.toLowerCase() === team.url;
  }

  return false;
};

var TeamNameConflict = function TeamNameConflict(_ref13) {
  var team = _ref13.team;
  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_current_user__WEBPACK_IMPORTED_MODULE_15__["CurrentUserConsumer"], null, function (currentUser) {
    return teamConflictsWithUser(team, currentUser) && react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_includes_name_conflict_jsx__WEBPACK_IMPORTED_MODULE_25__["default"], null);
  });
};

var TeamPageEditor = function TeamPageEditor(_ref14) {
  var api = _ref14.api,
      initialTeam = _ref14.initialTeam,
      children = _ref14.children;
  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_team_editor_jsx__WEBPACK_IMPORTED_MODULE_17__["default"], {
    api: api,
    initialTeam: initialTeam
  }, function (team, funcs) {
    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
      args[_key - 2] = arguments[_key];
    }

    return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_projects_loader_jsx__WEBPACK_IMPORTED_MODULE_31__["default"], {
      api: api,
      projects: team.projects
    }, function (projects, reloadProjects) {
      // Inject page specific changes to the editor
      // Mainly url updating and calls to reloadProjects
      var removeUserFromTeam =
      /*#__PURE__*/
      function () {
        var _ref15 = _asyncToGenerator(
        /*#__PURE__*/
        regeneratorRuntime.mark(function _callee2(user, projectIds) {
          return regeneratorRuntime.wrap(function _callee2$(_context2) {
            while (1) {
              switch (_context2.prev = _context2.next) {
                case 0:
                  _context2.next = 2;
                  return funcs.removeUserFromTeam(user, projectIds);

                case 2:
                  reloadProjects.apply(void 0, _toConsumableArray(projectIds));

                case 3:
                case "end":
                  return _context2.stop();
              }
            }
          }, _callee2, this);
        }));

        return function removeUserFromTeam(_x3, _x4) {
          return _ref15.apply(this, arguments);
        };
      }();

      var joinTeamProject =
      /*#__PURE__*/
      function () {
        var _ref16 = _asyncToGenerator(
        /*#__PURE__*/
        regeneratorRuntime.mark(function _callee3(projectId) {
          return regeneratorRuntime.wrap(function _callee3$(_context3) {
            while (1) {
              switch (_context3.prev = _context3.next) {
                case 0:
                  _context3.next = 2;
                  return funcs.joinTeamProject(projectId);

                case 2:
                  reloadProjects(projectId);

                case 3:
                case "end":
                  return _context3.stop();
              }
            }
          }, _callee3, this);
        }));

        return function joinTeamProject(_x5) {
          return _ref16.apply(this, arguments);
        };
      }();

      var leaveTeamProject =
      /*#__PURE__*/
      function () {
        var _ref17 = _asyncToGenerator(
        /*#__PURE__*/
        regeneratorRuntime.mark(function _callee4(projectId) {
          return regeneratorRuntime.wrap(function _callee4$(_context4) {
            while (1) {
              switch (_context4.prev = _context4.next) {
                case 0:
                  _context4.next = 2;
                  return funcs.leaveTeamProject(projectId);

                case 2:
                  reloadProjects(projectId);

                case 3:
                case "end":
                  return _context4.stop();
              }
            }
          }, _callee4, this);
        }));

        return function leaveTeamProject(_x6) {
          return _ref17.apply(this, arguments);
        };
      }();

      return children.apply(void 0, [_objectSpread({}, team, {
        projects: projects
      }), _objectSpread({}, funcs, {
        removeUserFromTeam: removeUserFromTeam,
        joinTeamProject: joinTeamProject,
        leaveTeamProject: leaveTeamProject
      })].concat(args));
    });
  });
};

var TeamPageContainer = function TeamPageContainer(_ref18) {
  var api = _ref18.api,
      team = _ref18.team,
      props = _objectWithoutProperties(_ref18, ["api", "team"]);

  return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_14__["AnalyticsContext"], {
    properties: {
      origin: 'team'
    },
    context: {
      groupId: team.id.toString()
    }
  }, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(TeamPageEditor, {
    api: api,
    initialTeam: team
  }, function (team, funcs, currentUserIsOnTeam, currentUserIsTeamAdmin) {
    return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_11___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(react_helmet__WEBPACK_IMPORTED_MODULE_13___default.a, null, react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("title", null, team.name)), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(_current_user__WEBPACK_IMPORTED_MODULE_15__["CurrentUserConsumer"], null, function (currentUser) {
      return react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(TeamPage, _extends({
        api: api,
        team: team
      }, funcs, {
        currentUser: currentUser,
        currentUserIsOnTeam: currentUserIsOnTeam,
        currentUserIsTeamAdmin: currentUserIsTeamAdmin
      }, props));
    }), react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(TeamNameConflict, {
      team: team
    }));
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (TeamPageContainer);

/***/ }),

/***/ "./src/presenters/pages/user.jsx":
/*!***************************************!*\
  !*** ./src/presenters/pages/user.jsx ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.array.find */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.find.js");
/* harmony import */ var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es6_set__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.set */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.set.js");
/* harmony import */ var core_js_modules_es6_set__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_set__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-helmet */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-helmet/5.2.0/node_modules/react-helmet/lib/Helmet.js");
/* harmony import */ var react_helmet__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_helmet__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../models/user */ "./src/models/user.js");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _includes_description_field_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../includes/description-field.jsx */ "./src/presenters/includes/description-field.jsx");
/* harmony import */ var _includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../includes/editable-field.jsx */ "./src/presenters/includes/editable-field.jsx");
/* harmony import */ var _user_editor_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../user-editor.jsx */ "./src/presenters/user-editor.jsx");
/* harmony import */ var _includes_thanks_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../includes/thanks.jsx */ "./src/presenters/includes/thanks.jsx");
/* harmony import */ var _deleted_projects_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../deleted-projects.jsx */ "./src/presenters/deleted-projects.jsx");
/* harmony import */ var _entity_page_featured_project_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../entity-page-featured-project.jsx */ "./src/presenters/entity-page-featured-project.jsx");
/* harmony import */ var _entity_page_projects_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../entity-page-projects.jsx */ "./src/presenters/entity-page-projects.jsx");
/* harmony import */ var _collections_list_jsx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../collections-list.jsx */ "./src/presenters/collections-list.jsx");
/* harmony import */ var _includes_profile_jsx__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../includes/profile.jsx */ "./src/presenters/includes/profile.jsx");
/* harmony import */ var _projects_loader_jsx__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../projects-loader.jsx */ "./src/presenters/projects-loader.jsx");
/* harmony import */ var _pop_overs_report_abuse_pop_jsx__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../pop-overs/report-abuse-pop.jsx */ "./src/presenters/pop-overs/report-abuse-pop.jsx");





function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }



















function syncPageToLogin(login) {
  history.replaceState(null, null, Object(_models_user__WEBPACK_IMPORTED_MODULE_7__["getLink"])({
    login: login
  }));
}

var NameAndLogin = function NameAndLogin(_ref) {
  var name = _ref.name,
      login = _ref.login,
      isAuthorized = _ref.isAuthorized,
      updateName = _ref.updateName,
      updateLogin = _ref.updateLogin;

  if (!login) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h1", {
      className: "login"
    }, "Anonymous");
  }

  if (!isAuthorized) {
    if (!name) {
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h1", {
        className: "login"
      }, "@", login);
    }

    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h1", {
      className: "username"
    }, name), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", {
      className: "login"
    }, "@", login));
  }

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h1", {
    className: "username"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], {
    value: name || "",
    update: updateName,
    placeholder: "What's your name?"
  })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("h2", {
    className: "login"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], {
    value: login,
    update: updateLogin,
    prefix: "@",
    placeholder: "Nickname?"
  })));
};

NameAndLogin.propTypes = {
  name: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,
  login: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,
  isAuthorized: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool.isRequired,
  updateName: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,
  updateLogin: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func
};

var UserPage = function UserPage(_ref2) {
  var _ref2$user = _ref2.user,
      _deletedProjects = _ref2$user._deletedProjects,
      _cacheCover = _ref2$user._cacheCover,
      featuredProjectId = _ref2$user.featuredProjectId,
      user = _objectWithoutProperties(_ref2$user, ["_deletedProjects", "_cacheCover", "featuredProjectId"]),
      api = _ref2.api,
      isAuthorized = _ref2.isAuthorized,
      maybeCurrentUser = _ref2.maybeCurrentUser,
      updateDescription = _ref2.updateDescription,
      updateName = _ref2.updateName,
      _updateLogin = _ref2.updateLogin,
      uploadCover = _ref2.uploadCover,
      clearCover = _ref2.clearCover,
      uploadAvatar = _ref2.uploadAvatar,
      addPin = _ref2.addPin,
      removePin = _ref2.removePin,
      leaveProject = _ref2.leaveProject,
      deleteProject = _ref2.deleteProject,
      undeleteProject = _ref2.undeleteProject,
      featureProject = _ref2.featureProject,
      unfeatureProject = _ref2.unfeatureProject,
      setDeletedProjects = _ref2.setDeletedProjects,
      addProjectToCollection = _ref2.addProjectToCollection;

  var pinnedSet = new Set(user.pins.map(function (_ref3) {
    var projectId = _ref3.projectId;
    return projectId;
  }));
  var pinnedProjects = user.projects.filter(function (_ref4) {
    var id = _ref4.id;
    return pinnedSet.has(id);
  }).filter(function (_ref5) {
    var id = _ref5.id;
    return id != featuredProjectId;
  });
  var recentProjects = user.projects.filter(function (_ref6) {
    var id = _ref6.id;
    return !pinnedSet.has(id);
  }).filter(function (_ref7) {
    var id = _ref7.id;
    return id != featuredProjectId;
  });
  var featuredProject = user.projects.find(function (_ref8) {
    var id = _ref8.id;
    return id === featuredProjectId;
  });
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("main", {
    className: "profile-page user-page"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_profile_jsx__WEBPACK_IMPORTED_MODULE_18__["ProfileContainer"], {
    avatarStyle: Object(_models_user__WEBPACK_IMPORTED_MODULE_7__["getAvatarStyle"])(user),
    coverStyle: Object(_models_user__WEBPACK_IMPORTED_MODULE_7__["getProfileStyle"])(_objectSpread({}, user, {
      cache: _cacheCover
    })),
    coverButtons: isAuthorized && !!user.login && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_profile_jsx__WEBPACK_IMPORTED_MODULE_18__["ImageButtons"], {
      name: "Cover",
      uploadImage: uploadCover,
      clearImage: user.hasCoverImage ? clearCover : null
    }),
    avatarButtons: isAuthorized && !!user.login && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_profile_jsx__WEBPACK_IMPORTED_MODULE_18__["ImageButtons"], {
      name: "Avatar",
      uploadImage: uploadAvatar
    }),
    teams: user.teams
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(NameAndLogin, _extends({
    name: user.name,
    login: user.login
  }, {
    isAuthorized: isAuthorized,
    updateName: updateName
  }, {
    updateLogin: function updateLogin(login) {
      return _updateLogin(login).then(function () {
        return syncPageToLogin(login);
      });
    }
  })), !!user.thanksCount && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_thanks_jsx__WEBPACK_IMPORTED_MODULE_13__["default"], {
    count: user.thanksCount
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_description_field_jsx__WEBPACK_IMPORTED_MODULE_10__["AuthDescription"], {
    authorized: isAuthorized && !!user.login,
    description: user.description,
    update: updateDescription,
    placeholder: "Tell us about yourself"
  }))), featuredProject && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_entity_page_featured_project_jsx__WEBPACK_IMPORTED_MODULE_15__["default"], {
    featuredProject: featuredProject,
    api: api,
    isAuthorized: isAuthorized,
    unfeatureProject: unfeatureProject,
    addProjectToCollection: addProjectToCollection,
    currentUser: maybeCurrentUser
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_entity_page_projects_jsx__WEBPACK_IMPORTED_MODULE_16__["default"], {
    projects: pinnedProjects,
    isAuthorized: isAuthorized,
    api: api,
    removePin: removePin,
    projectOptions: {
      featureProject: featureProject,
      leaveProject: leaveProject,
      deleteProject: deleteProject,
      addProjectToCollection: addProjectToCollection
    },
    addProjectToCollection: addProjectToCollection,
    currentUser: maybeCurrentUser
  }), !!user.login && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_collections_list_jsx__WEBPACK_IMPORTED_MODULE_17__["default"], {
    title: "Collections",
    collections: user.collections.map(function (collection) {
      return _objectSpread({}, collection, {
        user: user
      });
    }),
    api: api,
    isAuthorized: isAuthorized,
    maybeCurrentUser: maybeCurrentUser
  }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_entity_page_projects_jsx__WEBPACK_IMPORTED_MODULE_16__["default"], {
    projects: recentProjects,
    isAuthorized: isAuthorized,
    api: api,
    addPin: addPin,
    projectOptions: {
      featureProject: featureProject,
      leaveProject: leaveProject,
      deleteProject: deleteProject,
      addProjectToCollection: addProjectToCollection
    }
  }), isAuthorized && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_deleted_projects_jsx__WEBPACK_IMPORTED_MODULE_14__["default"], {
    api: api,
    setDeletedProjects: setDeletedProjects,
    deletedProjects: _deletedProjects,
    undelete: undeleteProject
  }), !isAuthorized && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_pop_overs_report_abuse_pop_jsx__WEBPACK_IMPORTED_MODULE_20__["default"], {
    reportedType: "user",
    reportedModel: user
  }));
};

UserPage.propTypes = {
  clearCover: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  maybeCurrentUser: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,
  isAuthorized: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool.isRequired,
  leaveProject: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  uploadAvatar: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  uploadCover: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  user: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.shape({
    name: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,
    login: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,
    id: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number.isRequired,
    thanksCount: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number.isRequired,
    hasCoverImage: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.bool.isRequired,
    avatarUrl: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,
    color: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string.isRequired,
    coverColor: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,
    featuredProjectId: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,
    _cacheCover: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number.isRequired,
    _deletedProjects: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.array.isRequired
  }).isRequired,
  addProjectToCollection: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  featureProject: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  unfeatureProject: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired
};

var UserPageContainer = function UserPageContainer(_ref9) {
  var api = _ref9.api,
      user = _ref9.user;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_8__["AnalyticsContext"], {
    properties: {
      origin: 'user'
    }
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_user_editor_jsx__WEBPACK_IMPORTED_MODULE_12__["default"], {
    api: api,
    initialUser: user
  }, function (user, funcs, isAuthorized) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react_helmet__WEBPACK_IMPORTED_MODULE_6___default.a, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("title", null, user.name || (user.login ? `@${user.login}` : `User ${user.id}`))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_9__["CurrentUserConsumer"], null, function (maybeCurrentUser) {
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_projects_loader_jsx__WEBPACK_IMPORTED_MODULE_19__["default"], {
        api: api,
        projects: user.projects
      }, function (projects) {
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(UserPage, _extends({
          api: api,
          isAuthorized: isAuthorized,
          maybeCurrentUser: maybeCurrentUser
        }, {
          user: _objectSpread({}, user, {
            projects: projects
          })
        }, funcs));
      });
    }));
  }));
};

/* harmony default export */ __webpack_exports__["default"] = (UserPageContainer);

/***/ }),

/***/ "./src/presenters/pop-overs/add-collection-project-pop.jsx":
/*!*****************************************************************!*\
  !*** ./src/presenters/pop-overs/add-collection-project-pop.jsx ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es7.array.includes */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.array.includes.js");
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/debounce */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _includes_loader_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../includes/loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _includes_project_result_item_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../includes/project-result-item.jsx */ "./src/presenters/includes/project-result-item.jsx");
/* harmony import */ var _projects_loader_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../projects-loader.jsx */ "./src/presenters/projects-loader.jsx");
/* harmony import */ var _notifications_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../notifications.jsx */ "./src/presenters/notifications.jsx");





function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

// add-collection-project-pop.jsx -> Add a project to a collection via the collection page








var ProjectResultsUL = function ProjectResultsUL(_ref) {
  var projects = _ref.projects,
      collection = _ref.collection,
      _onClick = _ref.onClick;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("ul", {
    className: "results"
  }, projects.map(function (project) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_notifications_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
      key: project.id
    }, function (_ref2) {
      var createNotification = _ref2.createNotification;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("li", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_6__["TrackClick"], {
        name: "Project Added to Collection",
        properties: {
          origin: 'Add Project collection'
        }
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_project_result_item_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
        domain: project.domain,
        description: project.description,
        users: project.users,
        id: project.id,
        isActive: false,
        collection: collection,
        onClick: function onClick() {
          return _onClick(project, collection, createNotification);
        },
        isPrivate: project.private
      })));
    });
  }));
};

ProjectResultsUL.propTypes = {
  projects: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.array.isRequired,
  collection: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired
};

var ProjectSearchResults = function ProjectSearchResults(_ref3) {
  var projects = _ref3.projects,
      collection = _ref3.collection,
      onClick = _ref3.onClick,
      projectName = _ref3.projectName,
      excludedProjectsCount = _ref3.excludedProjectsCount;

  if (projects.length > 0) {
    var collectionProjectIds = collection.projects.map(function (project) {
      return project.id;
    });
    projects = projects.filter(function (project) {
      return !collectionProjectIds.includes(project.id);
    });
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(ProjectResultsUL, {
      projects: projects,
      collection: collection,
      onClick: onClick
    });
  }

  if (projectName) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
      className: "results-empty"
    }, projectName, " is already in this collection", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
      role: "img",
      "aria-label": ""
    }, "\uD83D\uDCAB"));
  }

  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
    className: "results-empty"
  }, "nothing found ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
    role: "img",
    "aria-label": ""
  }, "\uD83D\uDCAB"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("br", null), excludedProjectsCount > 0 && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", null, "(Excluded ", excludedProjectsCount, " search ", excludedProjectsCount > 1 ? "results" : "result", " already found in collection)"));
};

ProjectSearchResults.propTypes = {
  collection: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,
  projectName: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string,
  excludedProjectsCount: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.number
};

function isUrl(s) {
  try {
    new URL(s);
    return true;
  } catch (_) {
    return false;
  }
}

var AddCollectionProjectPop =
/*#__PURE__*/
function (_React$Component) {
  _inherits(AddCollectionProjectPop, _React$Component);

  function AddCollectionProjectPop(props) {
    var _this;

    _classCallCheck(this, AddCollectionProjectPop);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddCollectionProjectPop).call(this, props));
    _this.state = {
      query: '',
      //The actual search text
      maybeRequest: null,
      //The active request promise
      maybeResults: null,
      //Null means still waiting vs empty,
      projectName: '',
      // the project name if the search result is a Url
      excludedProjectsCount: 0 // number of projects omitted from search

    };
    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.clearSearch = _this.clearSearch.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.startSearch = lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default()(_this.startSearch.bind(_assertThisInitialized(_assertThisInitialized(_this))), 300);
    _this.onClick = _this.onClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(AddCollectionProjectPop, [{
    key: "handleChange",
    value: function handleChange(evt) {
      var query = evt.currentTarget.value.trim();
      this.setState({
        query: query
      });

      if (query) {
        this.startSearch();
      } else {
        this.clearSearch();
      }
    }
  }, {
    key: "clearSearch",
    value: function clearSearch() {
      this.setState({
        maybeRequest: null,
        maybeResults: null,
        projectName: '',
        excludedProjectsCount: 0
      });
    }
  }, {
    key: "startSearch",
    value: function () {
      var _startSearch = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var searchByUrl, query, collectionProjectIds, queryUrl, request, _ref4, data, results, originalNumResults, nonCollectionResults;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (this.state.query) {
                  _context.next = 2;
                  break;
                }

                return _context.abrupt("return", this.clearSearch());

              case 2:
                // reset the results
                this.setState({
                  maybeResults: null
                });
                searchByUrl = false;
                query = this.state.query;
                collectionProjectIds = this.props.collection.projects.map(function (project) {
                  return project.id;
                });

                if (isUrl(query)) {
                  searchByUrl = true; // check if the query is a URL or a name of a project
                  // Project URL pattern: https://add-to-alexa.glitch.me/, https://glitch.com/~add-to-alexa

                  queryUrl = new URL(query);

                  if (queryUrl.href.includes("me") && !queryUrl.href.includes("~")) {
                    // https://add-to-alexa.glitch.me/
                    query = queryUrl.hostname.substring(0, queryUrl.hostname.indexOf('.'));
                  } else {
                    // https://glitch.com/~add-to-alexa
                    query = queryUrl.pathname.substring(queryUrl.pathname.indexOf("~") + 1);
                  }
                }

                request = null;

                if (!searchByUrl) {
                  request = this.props.api.get(`projects/search?q=${query}`);
                  this.setState({
                    maybeRequest: request
                  });
                } else {
                  request = this.props.api.get(`projects/${query}`);
                  this.setState({
                    maybeRequest: request
                  });
                }

                _context.next = 11;
                return request;

              case 11:
                _ref4 = _context.sent;
                data = _ref4.data;

                if (searchByUrl) {
                  data = [data];
                }

                results = data;
                originalNumResults = results.length;
                nonCollectionResults = [];

                if (searchByUrl) {
                  // get the single result that matches the URL exactly - check with https://community.glitch.me/
                  nonCollectionResults = results.filter(function (result) {
                    return result.domain == query;
                  }); // check if the project is already in the collection

                  if (nonCollectionResults.length > 0 && collectionProjectIds.includes(nonCollectionResults[0].id)) {
                    nonCollectionResults = [];
                    this.setState({
                      projectName: query
                    });
                  }
                } else {
                  // user is searching by project name  - filter out any projects currently in the collection
                  nonCollectionResults = results.filter(function (result) {
                    return !collectionProjectIds.includes(result.id);
                  });

                  if (nonCollectionResults.length !== originalNumResults) {
                    if (originalNumResults === 1) {
                      // the single search result is already in the collection
                      this.setState({
                        projectName: query
                      });
                    } else {
                      // multiple projects have been excluded from the search results
                      this.setState({
                        excludedProjectsCount: originalNumResults
                      });
                    }
                  }
                }

                this.setState(function (_ref5) {
                  var maybeRequest = _ref5.maybeRequest;
                  return request === maybeRequest ? {
                    maybeRequest: null,
                    maybeResults: nonCollectionResults,
                    recentProjects: null
                  } : {};
                });

              case 19:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function startSearch() {
        return _startSearch.apply(this, arguments);
      }

      return startSearch;
    }()
  }, {
    key: "onClick",
    value: function onClick(project, collection, createNotification) {
      this.props.togglePopover(); // add project to page if successful

      this.props.addProjectToCollection(project, collection); // show notification

      createNotification(react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", null, "Added ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("b", null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
        className: "project-name"
      }, project.domain))), "notifySuccess");
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      // load user's recent projects
      var ownProjects = this.props.collection.team ? this.props.collection.team.projects : this.props.currentUser.projects;
      var results = this.state.query ? this.state.maybeResults : ownProjects.slice(0, 20);
      var showResults = !!(this.state.query || results && results.length);
      var isLoading = !!(this.state.maybeRequest || !results);
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("dialog", {
        className: "pop-over add-collection-project-pop wide-pop"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input", {
        autoFocus: true // eslint-disable-line jsx-a11y/no-autofocus
        ,
        value: this.state.query,
        onChange: this.handleChange,
        className: "pop-over-input search-input pop-over-search",
        placeholder: "Search by project name or URL"
      })), showResults && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
        className: "pop-over-actions last-section results-list"
      }, isLoading && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], null), !!results && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_projects_loader_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], {
        api: this.props.api,
        projects: results
      }, function (projects) {
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(ProjectSearchResults, {
          projects: projects,
          onClick: _this2.onClick,
          collection: _this2.props.collection,
          projectName: _this2.state.projectName,
          excludedProjectsCount: _this2.state.excludedProjectsCount
        });
      })));
    }
  }]);

  return AddCollectionProjectPop;
}(react__WEBPACK_IMPORTED_MODULE_4___default.a.Component);

AddCollectionProjectPop.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  collection: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired,
  addProjectToCollection: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  togglePopover: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func,
  // required but added dynamically
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (AddCollectionProjectPop);

/***/ }),

/***/ "./src/presenters/pop-overs/add-project-to-collection-pop.jsx":
/*!********************************************************************!*\
  !*** ./src/presenters/pop-overs/add-project-to-collection-pop.jsx ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.regexp.split */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.split.js");
/* harmony import */ var core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_kebabCase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/kebabCase */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/kebabCase.js");
/* harmony import */ var lodash_kebabCase__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_kebabCase__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_orderBy__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/orderBy */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/orderBy.js");
/* harmony import */ var lodash_orderBy__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_orderBy__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-router-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-router-dom/4.3.1/node_modules/react-router-dom/es/index.js");
/* harmony import */ var randomcolor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! randomcolor */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/randomcolor/0.5.3/node_modules/randomcolor/randomColor.js");
/* harmony import */ var randomcolor__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(randomcolor__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _utils_sentry__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../utils/sentry */ "./src/utils/sentry.js");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _models_collection__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../models/collection */ "./src/models/collection.js");
/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../models/project */ "./src/models/project.js");
/* harmony import */ var _models_words__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../models/words */ "./src/models/words.js");
/* harmony import */ var _includes_loader_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../includes/loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _includes_collection_result_item_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../includes/collection-result-item.jsx */ "./src/presenters/includes/collection-result-item.jsx");
/* harmony import */ var _popover_nested_jsx__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./popover-nested.jsx */ "./src/presenters/pop-overs/popover-nested.jsx");
/* harmony import */ var _includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../includes/editable-field.jsx */ "./src/presenters/includes/editable-field.jsx");







function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

// add-project-to-collection-pop.jsx -> Add a project to a collection via a project item's menu














var AddProjectToCollectionPop =
/*#__PURE__*/
function (_React$Component) {
  _inherits(AddProjectToCollectionPop, _React$Component);

  function AddProjectToCollectionPop(props) {
    var _this;

    _classCallCheck(this, AddProjectToCollectionPop);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddProjectToCollectionPop).call(this, props));
    _this.state = {
      working: false,
      error: null,
      //null or string
      query: '',
      //The actual search text
      collectionPair: 'wondrous-collection',
      maybeCollections: null //null means still loading

    };
    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(AddProjectToCollectionPop, [{
    key: "loadCollections",
    value: function () {
      var _loadCollections = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var collections;
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return this.props.api.get(`collections/?userId=${this.props.currentUser.id}`);

              case 2:
                collections = _context.sent;
                this.setState({
                  maybeCollections: lodash_orderBy__WEBPACK_IMPORTED_MODULE_5___default()(collections.data, function (collection) {
                    return collection.updatedAt;
                  }).reverse()
                });

              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function loadCollections() {
        return _loadCollections.apply(this, arguments);
      }

      return loadCollections;
    }()
  }, {
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2() {
        var collectionPair;
        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                this.loadCollections();
                _context2.prev = 1;
                _context2.next = 4;
                return Object(_models_words__WEBPACK_IMPORTED_MODULE_14__["getCollectionPair"])();

              case 4:
                collectionPair = _context2.sent;
                this.setState(function (prev) {
                  return {
                    query: prev.query || collectionPair,
                    collectionPair: collectionPair
                  };
                });
                _context2.next = 10;
                break;

              case 8:
                _context2.prev = 8;
                _context2.t0 = _context2["catch"](1);

              case 10:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this, [[1, 8]]);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "handleChange",
    value: function handleChange(newValue) {
      this.setState({
        query: newValue,
        error: null
      });
    }
  }, {
    key: "handleSubmit",
    value: function () {
      var _handleSubmit = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee3(event) {
        var newCollectionName, name, url, collectionPair, description, avatarUrl, coverColor, _ref, data, newCollection, newCollectionUrl;

        return regeneratorRuntime.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                event.preventDefault();
                this.setState({
                  working: true
                }); // get text from input field

                newCollectionName = this.state.query; // create a new collection

                _context3.prev = 3;
                name = newCollectionName;
                url = lodash_kebabCase__WEBPACK_IMPORTED_MODULE_4___default()(newCollectionName);
                collectionPair = this.state.collectionPair.split('-');
                description = `A ${collectionPair[1]} of projects that does ${collectionPair[0]} things`;
                avatarUrl = _models_collection__WEBPACK_IMPORTED_MODULE_12__["defaultAvatar"];
                coverColor = randomcolor__WEBPACK_IMPORTED_MODULE_9___default()({
                  luminosity: 'light'
                });
                _context3.next = 12;
                return this.props.api.post('collections', {
                  name: name,
                  description: description,
                  url: url,
                  avatarUrl: avatarUrl,
                  coverColor: coverColor
                });

              case 12:
                _ref = _context3.sent;
                data = _ref.data;
                newCollection = _objectSpread({
                  user: this.props.currentUser
                }, data); // add the selected project to the collection

                _context3.next = 17;
                return this.props.api.patch(`collections/${newCollection.id}/add/${this.props.project.id}`);

              case 17:
                // redirect to that collection
                newCollectionUrl = Object(_models_collection__WEBPACK_IMPORTED_MODULE_12__["getLink"])(newCollection);
                this.setState({
                  newCollectionUrl: newCollectionUrl
                });
                _context3.next = 24;
                break;

              case 21:
                _context3.prev = 21;
                _context3.t0 = _context3["catch"](3);

                if (_context3.t0 && _context3.t0.response && _context3.t0.response.data && _context3.t0.response.data.message) {
                  this.setState({
                    error: _context3.t0.response.data.message
                  });
                } else {
                  Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_10__["captureException"])(_context3.t0);
                }

              case 24:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this, [[3, 21]]);
      }));

      function handleSubmit(_x) {
        return _handleSubmit.apply(this, arguments);
      }

      return handleSubmit;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var placeholder = 'New Collection Name';
      var _this$state = this.state,
          error = _this$state.error,
          maybeCollections = _this$state.maybeCollections,
          query = _this$state.query;
      var queryError = this.state.error;

      if (!!maybeCollections && !!query && maybeCollections.some(function (c) {
        return c.url === lodash_kebabCase__WEBPACK_IMPORTED_MODULE_4___default()(query);
      })) {
        queryError = 'You already have a collection with this url';
      }

      if (this.state.newCollectionUrl) {
        return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__["Redirect"], {
          to: this.state.newCollectionUrl
        });
      }

      return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("dialog", {
        className: "pop-over add-project-to-collection-pop wide-pop"
      }, !this.props.fromProject ? react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_popover_nested_jsx__WEBPACK_IMPORTED_MODULE_17__["NestedPopoverTitle"], null, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("img", {
        src: Object(_models_project__WEBPACK_IMPORTED_MODULE_13__["getAvatarUrl"])(this.props.project.id),
        alt: `Project avatar for ${this.props.project.domain}`
      }), " Add ", this.props.project.domain, " to collection") : null, maybeCollections ? maybeCollections.length ? react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("section", {
        className: "pop-over-actions results-list"
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("ul", {
        className: "results"
      }, maybeCollections.map(function (collection) {
        return (// filter out collections that already contain the selected project
          collection.projects.every(function (project) {
            return project.id !== _this2.props.project.id;
          }) && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li", {
            key: collection.id
          }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_11__["TrackClick"], {
            name: "Project Added to Collection",
            context: {
              groupId: collection.team ? collection.team.id : 0
            }
          }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_collection_result_item_jsx__WEBPACK_IMPORTED_MODULE_16__["default"], {
            onClick: _this2.props.addProjectToCollection,
            currentUserLogin: _this2.props.currentUser.login,
            project: _this2.props.project,
            collection: collection,
            togglePopover: _this2.props.togglePopover
          })))
        );
      }))) : react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p", {
        className: "info-description"
      }, "Organize your favorite projects in one place")) : react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_15__["default"], null), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
        className: "pop-title collection-title"
      }, "Add to a new collection"), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("form", {
        onSubmit: this.handleSubmit
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_18__["PureEditableField"], {
        id: "collection-name",
        className: "pop-over-input create-input",
        value: query,
        update: this.handleChange,
        placeholder: placeholder,
        error: error || queryError
      }), !this.state.working ? react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_11__["TrackClick"], {
        name: "Create Collection clicked",
        properties: function properties(inherited) {
          return _objectSpread({}, inherited, {
            origin: `${inherited.origin} project`
          });
        }
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button", {
        type: "submit",
        className: "create-collection button-small",
        disabled: !!queryError
      }, "Create")) : react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_15__["default"], null))));
    }
  }]);

  return AddProjectToCollectionPop;
}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);

AddProjectToCollectionPop.propTypes = {
  addProjectToCollection: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,
  api: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object,
  togglePopover: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func,
  // required but added dynamically
  project: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.object.isRequired,
  fromProject: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool
};
/* harmony default export */ __webpack_exports__["default"] = (AddProjectToCollectionPop);

/***/ }),

/***/ "./src/presenters/pop-overs/add-team-project-pop.jsx":
/*!***********************************************************!*\
  !*** ./src/presenters/pop-overs/add-team-project-pop.jsx ***!
  \***********************************************************/
/*! exports provided: AddTeamProjectPop, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AddTeamProjectPop", function() { return AddTeamProjectPop; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es7.array.includes */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.array.includes.js");
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _includes_project_result_item_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../includes/project-result-item.jsx */ "./src/presenters/includes/project-result-item.jsx");
/* harmony import */ var _notifications_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../notifications.jsx */ "./src/presenters/notifications.jsx");








function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }






var AddTeamProjectPop =
/*#__PURE__*/
function (_React$Component) {
  _inherits(AddTeamProjectPop, _React$Component);

  function AddTeamProjectPop(props) {
    var _this;

    _classCallCheck(this, AddTeamProjectPop);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddTeamProjectPop).call(this, props));
    _this.state = {
      templateProjects: [],
      filteredProjects: [],
      source: 'my-projects',
      // my-projects, templates
      filterPlaceholder: 'Filter my projects',
      loadingTemplates: false,
      notifyTemplateIsRemixing: false
    };
    _this.onClick = _this.onClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.updateFilter = _this.updateFilter.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.filterInputIsBlank = _this.filterInputIsBlank.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.filterInput = react__WEBPACK_IMPORTED_MODULE_7___default.a.createRef();
    return _this;
  }

  _createClass(AddTeamProjectPop, [{
    key: "normalizeTemplateProjects",
    value: function normalizeTemplateProjects(data) {
      var projects = data.map(function (project) {
        project.users = [];
        return project;
      });
      return projects;
    }
  }, {
    key: "updateFilter",
    value: function updateFilter(query) {
      var projects = [];

      if (this.state.source === 'templates') {
        projects = this.state.templateProjects;
      } else {
        projects = this.props.myProjects;
      }

      var filteredProjects = this.filterProjects(query, projects, this.props.teamProjects);
      this.setState({
        filteredProjects: filteredProjects
      });
    }
  }, {
    key: "filterProjects",
    value: function filterProjects(query, projects, teamProjects) {
      query = query.toLowerCase().trim();
      var MAX_PROJECTS = 20;
      var teamProjectIds = teamProjects.map(function (_ref) {
        var id = _ref.id;
        return id;
      });
      var availableProjects = projects.filter(function (_ref2) {
        var id = _ref2.id;
        return !teamProjectIds.includes(id);
      });
      var filteredProjects = [];

      if (!query) {
        return availableProjects.splice(0, MAX_PROJECTS);
      }

      var _iteratorNormalCompletion = true;
      var _didIteratorError = false;
      var _iteratorError = undefined;

      try {
        for (var _iterator = availableProjects[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
          var project = _step.value;

          if (filteredProjects.length > MAX_PROJECTS) {
            break;
          }

          var titleMatch = project.domain.toLowerCase().includes(query);
          var descMatch = project.description.toLowerCase().includes(query);

          if (titleMatch || descMatch) {
            filteredProjects.push(project);
          }
        }
      } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
      } finally {
        try {
          if (!_iteratorNormalCompletion && _iterator.return != null) {
            _iterator.return();
          }
        } finally {
          if (_didIteratorError) {
            throw _iteratorError;
          }
        }
      }

      return filteredProjects;
    }
  }, {
    key: "activeIfSourceIsTemplates",
    value: function activeIfSourceIsTemplates() {
      if (this.state.source === 'templates') {
        return 'active';
      }
    }
  }, {
    key: "activeIfSourceIsMyProjects",
    value: function activeIfSourceIsMyProjects() {
      if (this.state.source === 'my-projects') {
        return 'active';
      }
    }
  }, {
    key: "remixTemplate",
    value: function () {
      var _remixTemplate = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(projectId) {
        var remixTemplatePath;
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                remixTemplatePath = `projects/${projectId}/remix`;
                _context.next = 3;
                return this.props.api.post(remixTemplatePath);

              case 3:
                return _context.abrupt("return", _context.sent);

              case 4:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function remixTemplate(_x) {
        return _remixTemplate.apply(this, arguments);
      }

      return remixTemplate;
    }()
  }, {
    key: "inviteUserToRemix",
    value: function () {
      var _inviteUserToRemix = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2(data) {
        var inviteUserPath;
        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                inviteUserPath = `projects/${data.inviteToken}/join`;
                _context2.next = 3;
                return this.props.api.post(inviteUserPath);

              case 3:
                return _context2.abrupt("return", _context2.sent);

              case 4:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function inviteUserToRemix(_x2) {
        return _inviteUserToRemix.apply(this, arguments);
      }

      return inviteUserToRemix;
    }()
  }, {
    key: "onClick",
    value: function onClick(event, project, createNotification) {
      event.preventDefault();
      this.props.togglePopover();
      this.props.addProject(project);
      console.log('create notification');
      createNotification(react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p", null, "Added ", react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("b", null, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span", {
        className: "project-name"
      }, project.domain))), "notifySuccess");
    }
  }, {
    key: "sourceIsTemplates",
    value: function sourceIsTemplates() {
      this.setState({
        source: 'templates',
        filterPlaceholder: 'Filter templates'
      });
    }
  }, {
    key: "sourceIsMyProjects",
    value: function sourceIsMyProjects() {
      this.setState({
        source: 'my-projects',
        filterPlaceholder: 'Filter projects'
      });
    }
  }, {
    key: "getTemplateProjects",
    value: function getTemplateProjects() {
      var _this2 = this;

      this.setState({
        loadingTemplates: true
      });
      var templateIds = ['9cd48134-1624-48f5-beaf-6c1b68bd9217', // 'timelink'
      '712cc905-bfcb-454e-a47a-c729ab63c455', // 'poller'
      '929980a8-32fc-4ae7-a66f-dddb3ae4912c'];
      var projectsPath = `projects/byIds?ids=${templateIds.join(',')}`;
      this.props.api.get(projectsPath).then(function (_ref3) {
        var data = _ref3.data;

        var projects = _this2.normalizeTemplateProjects(data);

        _this2.setState({
          templateProjects: projects,
          loadingTemplates: false
        });

        _this2.updateFilter('');
      });
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      if (prevState.source !== this.state.source) {
        this.updateFilter("");
        this.filterInput.current.focus();
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.getTemplateProjects();
      this.filterInput.current.focus();
      this.updateFilter("");
    }
  }, {
    key: "filterInputIsBlank",
    value: function filterInputIsBlank() {
      if (this.filterInput.current.value.length === 0) {
        return true;
      }
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var filteredProjects = this.state.filteredProjects;
      return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("dialog", {
        className: "pop-over add-team-project-pop wide-pop"
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("input", {
        ref: this.filterInput,
        onChange: function onChange(event) {
          _this3.updateFilter(event.target.value);
        },
        id: "team-project-search",
        className: "pop-over-input search-input pop-over-search",
        placeholder: this.state.filterPlaceholder,
        autoFocus: true // eslint-disable-line jsx-a11y/no-autofocus

      })), react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("section", {
        className: "pop-over-actions results-list",
        "data-source": "templates"
      }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("ul", {
        className: "results"
      }, filteredProjects.map(function (project) {
        return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_notifications_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], {
          key: project.id
        }, function (_ref4) {
          var createNotification = _ref4.createNotification;
          return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("li", {
            key: project.id
          }, react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_includes_project_result_item_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], _extends({
            onClick: function onClick(event) {
              return _this3.onClick(event, project, createNotification);
            }
          }, project, {
            title: project.domain,
            isPrivate: project.private
          })));
        });
      })), this.state.filteredProjects.length === 0 && this.filterInputIsBlank && react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("p", {
        className: "action-description no-projects-description"
      }, "Create or Join projects to add them to the team")));
    }
  }]);

  return AddTeamProjectPop;
}(react__WEBPACK_IMPORTED_MODULE_7___default.a.Component);
AddTeamProjectPop.propTypes = {
  myProjects: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array.isRequired,
  teamProjects: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.array.isRequired,
  addProject: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,
  togglePopover: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.func.isRequired,
  api: prop_types__WEBPACK_IMPORTED_MODULE_8___default.a.any.isRequired
};

var AddTeamProjectPopContainer = function AddTeamProjectPopContainer(props) {
  return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_9__["CurrentUserConsumer"], null, function (currentUser) {
    return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(AddTeamProjectPop, _extends({
      myProjects: currentUser.projects
    }, props));
  });
};

/* harmony default export */ __webpack_exports__["default"] = (AddTeamProjectPopContainer);

/***/ }),

/***/ "./src/presenters/pop-overs/add-team-user-pop.jsx":
/*!********************************************************!*\
  !*** ./src/presenters/pop-overs/add-team-user-pop.jsx ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.regexp.to-string */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.to-string.js");
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es6.array.sort */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.sort.js");
/* harmony import */ var core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_sort__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/modules/es7.array.includes */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.array.includes.js");
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/modules/es6.regexp.replace */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.replace.js");
/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! lodash/debounce */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! axios */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/axios/0.18.0/node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var email_addresses__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! email-addresses */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/email-addresses/3.0.3/node_modules/email-addresses/lib/email-addresses.js");
/* harmony import */ var email_addresses__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(email_addresses__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _utils_sentry__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../utils/sentry */ "./src/utils/sentry.js");
/* harmony import */ var _includes_dev_toggles__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../includes/dev-toggles */ "./src/presenters/includes/dev-toggles.jsx");
/* harmony import */ var _includes_loader__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../includes/loader */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _includes_user_result_item__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../includes/user-result-item */ "./src/presenters/includes/user-result-item.jsx");













function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }










var getDomain = function getDomain(query) {
  var email = Object(email_addresses__WEBPACK_IMPORTED_MODULE_15__["parseOneAddress"])(query.replace('@', 'test@'));

  if (email && email.domain.includes('.')) {
    return email.domain.toLowerCase();
  }

  return null;
};

var rankSearchResult = function rankSearchResult(result, query) {
  //example result:

  /*
  login: "judeallred"
  name: "Jude Allred"
  */
  var lowerQuery = query.toLowerCase();
  var points = 0;
  var login = result.login || "";
  var lowerLogin = login.toLowerCase();
  var name = result.name || "";
  var lowerName = name.toLowerCase(); //Big point items -- exact matches:

  if (lowerLogin === lowerQuery) {
    points += 9000; // exact match on login name :over nine thousand!:
  }

  if (lowerName === lowerQuery) {
    points += 50; // Exact match on name, case insensitive.

    if (name === query) {
      points += 10; // Bonus case-sensitive match
    }
  } // Points for matching either of login or name.
  // Bonus if startsWith.


  [lowerLogin, lowerName].forEach(function (lowerField) {
    if (lowerField.includes(lowerQuery)) {
      points += 10;

      if (lowerField.startsWith(lowerQuery)) {
        points += 5;
      }
    }
  });
  return points;
};

var AddTeamUserPop =
/*#__PURE__*/
function (_React$Component) {
  _inherits(AddTeamUserPop, _React$Component);

  function AddTeamUserPop(props) {
    var _this;

    _classCallCheck(this, AddTeamUserPop);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddTeamUserPop).call(this, props));
    _this.state = {
      query: '',
      //The actual search text
      maybeRequest: null,
      //The active request promise
      maybeResults: null,
      //Null means still waiting vs empty
      validDomains: {} //Null means loading that domain

    };
    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.clearSearch = _this.clearSearch.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.debouncedSearch = lodash_debounce__WEBPACK_IMPORTED_MODULE_11___default()(_this.debouncedSearch.bind(_assertThisInitialized(_assertThisInitialized(_this))), 300);
    return _this;
  }

  _createClass(AddTeamUserPop, [{
    key: "handleChange",
    value: function handleChange(evt) {
      var query = evt.currentTarget.value.trimStart();
      this.setState({
        query: query
      });

      if (query) {
        this.debouncedSearch();
      } else {
        this.clearSearch();
      }
    }
  }, {
    key: "clearSearch",
    value: function clearSearch() {
      this.setState({
        maybeRequest: null,
        maybeResults: null
      });
    }
  }, {
    key: "debouncedSearch",
    value: function debouncedSearch() {
      var query = this.state.query.trim();

      if (!query) {
        this.clearSearch();
        return;
      }

      this.startSearch(query);
      this.validateDomain(query);
    }
  }, {
    key: "startSearch",
    value: function () {
      var _startSearch = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(query) {
        var _this2 = this;

        var request, _ref, data, nonMemberResults, rankedResults;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                request = this.props.api.get(`users/search?q=${query}`);
                this.setState({
                  maybeRequest: request
                });
                _context.next = 4;
                return request;

              case 4:
                _ref = _context.sent;
                data = _ref.data;
                nonMemberResults = data.filter(function (user) {
                  return !_this2.props.members.includes(user.id);
                });
                rankedResults = nonMemberResults.sort(function (a, b) {
                  return rankSearchResult(b, query) - rankSearchResult(a, query);
                });
                this.setState(function (_ref2) {
                  var maybeRequest = _ref2.maybeRequest;
                  return request === maybeRequest ? {
                    maybeRequest: null,
                    maybeResults: rankedResults
                  } : {};
                });

              case 9:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function startSearch(_x) {
        return _startSearch.apply(this, arguments);
      }

      return startSearch;
    }()
  }, {
    key: "validateDomain",
    value: function () {
      var _validateDomain = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2(query) {
        var domain, valid, _ref3, data;

        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                domain = getDomain(query);

                if (!(!domain || this.state.validDomains[domain] !== undefined)) {
                  _context2.next = 3;
                  break;
                }

                return _context2.abrupt("return");

              case 3:
                this.setState(function (prevState) {
                  return {
                    validDomains: _objectSpread({}, prevState.validDomains, _defineProperty({}, domain, null))
                  };
                });
                valid = !['gmail.com', 'yahoo.com'].includes(domain); // Used if we can't reach freemail

                _context2.prev = 5;
                _context2.next = 8;
                return axios__WEBPACK_IMPORTED_MODULE_14___default.a.get(`https://freemail.glitch.me/${domain}`);

              case 8:
                _ref3 = _context2.sent;
                data = _ref3.data;
                valid = !data.free;
                _context2.next = 16;
                break;

              case 13:
                _context2.prev = 13;
                _context2.t0 = _context2["catch"](5);
                Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_16__["captureException"])(_context2.t0);

              case 16:
                this.setState(function (prevState) {
                  return {
                    validDomains: _objectSpread({}, prevState.validDomains, _defineProperty({}, domain, valid))
                  };
                });

              case 17:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this, [[5, 13]]);
      }));

      function validateDomain(_x2) {
        return _validateDomain.apply(this, arguments);
      }

      return validateDomain;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          inviteEmail = _this$props.inviteEmail,
          inviteUser = _this$props.inviteUser,
          setWhitelistedDomain = _this$props.setWhitelistedDomain;
      var _this$state = this.state,
          maybeRequest = _this$state.maybeRequest,
          maybeResults = _this$state.maybeResults,
          query = _this$state.query;
      var isLoading = !!maybeRequest || !maybeResults;
      var results = [];
      var email = Object(email_addresses__WEBPACK_IMPORTED_MODULE_15__["parseOneAddress"])(query);

      if (email && this.props.enabledToggles.includes("Email Invites")) {
        results.push({
          key: 'invite-by-email',
          item: react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_includes_user_result_item__WEBPACK_IMPORTED_MODULE_19__["InviteByEmail"], {
            email: email.address,
            onClick: function onClick() {
              return inviteEmail(email.address);
            }
          })
        });
      }

      if (setWhitelistedDomain) {
        var domain = getDomain(query);
        var prevDomain = this.props.whitelistedDomain;

        if (domain && prevDomain !== domain && this.state.validDomains[domain]) {
          results.push({
            key: 'whitelist-email-domain',
            item: react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_includes_user_result_item__WEBPACK_IMPORTED_MODULE_19__["WhitelistEmailDomain"], {
              domain: domain,
              prevDomain: prevDomain,
              onClick: function onClick() {
                return setWhitelistedDomain(domain);
              }
            })
          });
        }
      } // now add the actual search results


      if (maybeResults) {
        results.push.apply(results, _toConsumableArray(maybeResults.map(function (user) {
          return {
            key: user.id,
            item: react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_includes_user_result_item__WEBPACK_IMPORTED_MODULE_19__["default"], {
              user: user,
              action: function action() {
                return inviteUser(user);
              }
            })
          };
        })));
      }

      return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("dialog", {
        className: "pop-over add-team-user-pop"
      }, react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("input", {
        id: "team-user-search",
        autoFocus: true // eslint-disable-line jsx-a11y/no-autofocus
        ,
        value: query,
        onChange: this.handleChange,
        className: "pop-over-input search-input pop-over-search",
        placeholder: "Search for a user"
      })), !!query && react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(Results, {
        isLoading: isLoading,
        results: results
      }), !query && setWhitelistedDomain && react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("aside", {
        className: "pop-over-info"
      }, "You can also whitelist with @example.com"));
    }
  }]);

  return AddTeamUserPop;
}(react__WEBPACK_IMPORTED_MODULE_12___default.a.Component);

AddTeamUserPop.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.func.isRequired,
  inviteEmail: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.func.isRequired,
  inviteUser: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.func.isRequired,
  members: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.number.isRequired).isRequired,
  setWhitelistedDomain: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.func,
  whitelistedDomain: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.string,
  enabledToggles: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.array.isRequired
};

var Results = function Results(_ref4) {
  var results = _ref4.results,
      isLoading = _ref4.isLoading;

  if (isLoading) {
    return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("section", {
      className: "pop-over-actions last-section"
    }, react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_includes_loader__WEBPACK_IMPORTED_MODULE_18__["default"], null));
  }

  if (results.length === 0) {
    return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("section", {
      className: "pop-over-actions last-section"
    }, "Nothing found ", react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("span", {
      role: "img",
      "aria-label": ""
    }, "\uD83D\uDCAB"));
  }

  return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("section", {
    className: "pop-over-actions last-section results-list"
  }, react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("ul", {
    className: "results"
  }, results.map(function (_ref5) {
    var key = _ref5.key,
        item = _ref5.item;
    return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement("li", {
      key: key
    }, item);
  })));
};

Results.propTypes = {
  results: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.array.isRequired,
  isLoading: prop_types__WEBPACK_IMPORTED_MODULE_13___default.a.bool.isRequired
};

var AddTeamUserPopWithDevToggles = function AddTeamUserPopWithDevToggles(props) {
  return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(_includes_dev_toggles__WEBPACK_IMPORTED_MODULE_17__["default"], null, function (enabledToggles) {
    return react__WEBPACK_IMPORTED_MODULE_12___default.a.createElement(AddTeamUserPop, _extends({}, props, {
      enabledToggles: enabledToggles
    }));
  });
};

/* harmony default export */ __webpack_exports__["default"] = (AddTeamUserPopWithDevToggles);

/***/ }),

/***/ "./src/presenters/pop-overs/collection-options-pop.jsx":
/*!*************************************************************!*\
  !*** ./src/presenters/pop-overs/collection-options-pop.jsx ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CollectionOptions; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _popover_with_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./popover-with-button */ "./src/presenters/pop-overs/popover-with-button.jsx");
/* harmony import */ var _popover_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./popover-button */ "./src/presenters/pop-overs/popover-button.jsx");
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../current-user.jsx */ "./src/presenters/current-user.jsx");




 // Collection Options Pop

var CollectionOptionsPop = function CollectionOptionsPop(props) {
  function animate(event, className, func) {
    var collectionContainer = event.target.closest('li');
    collectionContainer.addEventListener('animationend', func, {
      once: true
    });
    collectionContainer.classList.add(className);
  }

  function animateThenDeleteCollection(event) {
    if (!window.confirm(`Are you sure you want to delete your collection?`)) {
      return;
    }

    animate(event, 'slide-down', function () {
      return props.deleteCollection(props.collection.id);
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dialog", {
    className: "pop-over collection-options-pop"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
    className: "pop-over-actions danger-zone last-section"
  }, props.deleteCollection && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_popover_button__WEBPACK_IMPORTED_MODULE_3__["default"], {
    onClick: animateThenDeleteCollection,
    text: "Delete Collection ",
    emoji: "bomb"
  })));
};

CollectionOptionsPop.propTypes = {
  deleteCollection: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func
}; // Collection Options Container

function CollectionOptions(_ref) {
  var deleteCollection = _ref.deleteCollection,
      collection = _ref.collection;

  if (!deleteCollection) {
    return null;
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_popover_with_button__WEBPACK_IMPORTED_MODULE_2__["default"], {
    buttonText: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "down-arrow",
      "aria-label": "options"
    }),
    containerClass: "collection-options-pop-btn",
    buttonClass: "collection-options button-borderless opens-pop-over"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_4__["CurrentUserConsumer"], null, function (user) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(CollectionOptionsPop, {
      collection: collection,
      deleteCollection: deleteCollection,
      currentUser: user
    });
  }));
}
CollectionOptions.propTypes = {
  collection: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,
  deleteCollection: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func
};

/***/ }),

/***/ "./src/presenters/pop-overs/create-team-pop.jsx":
/*!******************************************************!*\
  !*** ./src/presenters/pop-overs/create-team-pop.jsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_kebabCase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/kebabCase */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/kebabCase.js");
/* harmony import */ var lodash_kebabCase__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_kebabCase__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/debounce */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-router-dom/4.3.1/node_modules/react-router-dom/es/index.js");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _models_words__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../models/words */ "./src/models/words.js");
/* harmony import */ var _models_team__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../models/team */ "./src/models/team.js");
/* harmony import */ var _includes_loader_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../includes/loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _pop_overs_popover_nested_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../pop-overs/popover-nested.jsx */ "./src/presenters/pop-overs/popover-nested.jsx");
/* harmony import */ var _includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../includes/editable-field.jsx */ "./src/presenters/includes/editable-field.jsx");
/* harmony import */ var _sign_in_pop_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./sign-in-pop.jsx */ "./src/presenters/pop-overs/sign-in-pop.jsx");





function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }











 // Create Team 🌿

var CreateTeamPopBase =
/*#__PURE__*/
function (_React$Component) {
  _inherits(CreateTeamPopBase, _React$Component);

  function CreateTeamPopBase(props) {
    var _this;

    _classCallCheck(this, CreateTeamPopBase);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateTeamPopBase).call(this, props));
    _this.state = {
      teamName: '',
      isLoading: false,
      error: ''
    };
    _this.debouncedValidate = lodash_debounce__WEBPACK_IMPORTED_MODULE_3___default()(_this.validate.bind(_assertThisInitialized(_assertThisInitialized(_this))), 200);
    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(CreateTeamPopBase, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var teamName;
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                _context.next = 3;
                return Object(_models_words__WEBPACK_IMPORTED_MODULE_9__["getTeamPair"])();

              case 3:
                teamName = _context.sent;
                this.setState(function (prevState) {
                  return !prevState.teamName ? {
                    teamName: teamName
                  } : {};
                });
                _context.next = 9;
                break;

              case 7:
                _context.prev = 7;
                _context.t0 = _context["catch"](0);

              case 9:
                this.validate();

              case 10:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[0, 7]]);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "validate",
    value: function () {
      var _validate = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2() {
        var name, url, error, _ref, data, _ref2, _data;

        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                name = this.state.teamName;

                if (!name) {
                  _context2.next = 29;
                  break;
                }

                url = lodash_kebabCase__WEBPACK_IMPORTED_MODULE_2___default()(name);
                error = null;
                _context2.prev = 4;
                _context2.next = 7;
                return this.props.api.get(`userId/byLogin/${url}`);

              case 7:
                _ref = _context2.sent;
                data = _ref.data;

                if (data !== 'NOT FOUND') {
                  error = 'Name in use, try another';
                }

                _context2.next = 16;
                break;

              case 12:
                _context2.prev = 12;
                _context2.t0 = _context2["catch"](4);

                if (_context2.t0.response && _context2.t0.response.status === 404) {
                  _context2.next = 16;
                  break;
                }

                throw _context2.t0;

              case 16:
                _context2.prev = 16;
                _context2.next = 19;
                return this.props.api.get(`teams/byUrl/${url}`);

              case 19:
                _ref2 = _context2.sent;
                _data = _ref2.data;

                if (_data) {
                  error = 'Team already exists, try another';
                }

                _context2.next = 28;
                break;

              case 24:
                _context2.prev = 24;
                _context2.t1 = _context2["catch"](16);

                if (_context2.t1.response && _context2.t1.response.status === 404) {
                  _context2.next = 28;
                  break;
                }

                throw _context2.t1;

              case 28:
                if (error) {
                  this.setState(function (_ref3) {
                    var teamName = _ref3.teamName;
                    return name === teamName ? {
                      error: error
                    } : {};
                  });
                }

              case 29:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this, [[4, 12], [16, 24]]);
      }));

      function validate() {
        return _validate.apply(this, arguments);
      }

      return validate;
    }()
  }, {
    key: "handleChange",
    value: function () {
      var _handleChange = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee3(newValue) {
        return regeneratorRuntime.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                this.setState({
                  teamName: newValue,
                  error: ''
                });
                this.debouncedValidate();

              case 2:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function handleChange(_x) {
        return _handleChange.apply(this, arguments);
      }

      return handleChange;
    }()
  }, {
    key: "handleSubmit",
    value: function () {
      var _handleSubmit = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee4(event) {
        var description, predicates, _ref4, data, message;

        return regeneratorRuntime.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                event.preventDefault();
                this.setState({
                  isLoading: true
                });
                _context4.prev = 2;
                description = 'A team that makes things';
                _context4.prev = 4;
                _context4.next = 7;
                return Object(_models_words__WEBPACK_IMPORTED_MODULE_9__["getPredicates"])();

              case 7:
                predicates = _context4.sent;
                description = `A ${predicates[0]} team that makes ${predicates[1]} things`;
                _context4.next = 13;
                break;

              case 11:
                _context4.prev = 11;
                _context4.t0 = _context4["catch"](4);

              case 13:
                _context4.next = 15;
                return this.props.api.post('teams', {
                  name: this.state.teamName,
                  url: lodash_kebabCase__WEBPACK_IMPORTED_MODULE_2___default()(this.state.teamName),
                  hasAvatarImage: false,
                  coverColor: '',
                  location: '',
                  description: description,
                  backgroundColor: '',
                  hasCoverImage: false,
                  isVerified: false
                });

              case 15:
                _ref4 = _context4.sent;
                data = _ref4.data;
                this.props.history.push(Object(_models_team__WEBPACK_IMPORTED_MODULE_10__["getLink"])(data));
                _context4.next = 24;
                break;

              case 20:
                _context4.prev = 20;
                _context4.t1 = _context4["catch"](2);
                message = _context4.t1 && _context4.t1.response && _context4.t1.response.data && _context4.t1.response.data.message;
                this.setState({
                  isLoading: false,
                  error: message || 'Something went wrong'
                });

              case 24:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this, [[2, 20], [4, 11]]);
      }));

      function handleSubmit(_x2) {
        return _handleSubmit.apply(this, arguments);
      }

      return handleSubmit;
    }()
  }, {
    key: "render",
    value: function render() {
      var placeholder = 'Your Team Name';
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("dialog", {
        className: "pop-over create-team-pop"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_pop_overs_popover_nested_jsx__WEBPACK_IMPORTED_MODULE_12__["NestedPopoverTitle"], null, "Create Team ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
        className: "emoji herb"
      })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
        className: "info-description"
      }, "Showcase your projects in one place, manage collaborators, and view analytics")), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
        className: "pop-over-actions"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("form", {
        onSubmit: this.handleSubmit
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_13__["PureEditableField"], {
        value: this.state.teamName,
        update: this.handleChange,
        placeholder: placeholder,
        error: this.state.error
      }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
        className: "action-description team-url-preview"
      }, "/@", lodash_kebabCase__WEBPACK_IMPORTED_MODULE_2___default()(this.state.teamName || placeholder)), this.state.isLoading ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], null) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_7__["TrackClick"], {
        name: "Create Team submitted"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
        type: "submit",
        className: "button-small has-emoji"
      }, "Create Team ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
        className: "emoji thumbs_up"
      }))))), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
        className: "info-description"
      }, "You can change this later")));
    }
  }]);

  return CreateTeamPopBase;
}(react__WEBPACK_IMPORTED_MODULE_4___default.a.Component);

CreateTeamPopBase.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired
};
var CreateTeamPop = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["withRouter"])(CreateTeamPopBase);

var CreateTeamPopOrSignIn = function CreateTeamPopOrSignIn(_ref5) {
  var api = _ref5.api;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_8__["CurrentUserConsumer"], null, function (user) {
    return user && user.login ? react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(CreateTeamPop, {
      api: api
    }) : react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_sign_in_pop_jsx__WEBPACK_IMPORTED_MODULE_14__["SignInPop"], {
      api: api,
      hash: "create-team",
      header: react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_pop_overs_popover_nested_jsx__WEBPACK_IMPORTED_MODULE_12__["NestedPopoverTitle"], null, "Sign In"),
      prompt: react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("p", {
        className: "action-description"
      }, "You'll need to sign in to create a team")
    });
  });
};

/* harmony default export */ __webpack_exports__["default"] = (CreateTeamPopOrSignIn);

/***/ }),

/***/ "./src/presenters/pop-overs/delete-team-pop.jsx":
/*!******************************************************!*\
  !*** ./src/presenters/pop-overs/delete-team-pop.jsx ***!
  \******************************************************/
/*! exports provided: DeleteTeamPop, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeleteTeamPop", function() { return DeleteTeamPop; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-router-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-router-dom/4.3.1/node_modules/react-router-dom/es/index.js");
/* harmony import */ var _includes_loader_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../includes/loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _notifications_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../notifications.jsx */ "./src/presenters/notifications.jsx");




function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }



 //import UsersList from '../users-list.jsx';




var DeleteTeamPopBase =
/*#__PURE__*/
function (_React$Component) {
  _inherits(DeleteTeamPopBase, _React$Component);

  function DeleteTeamPopBase(props) {
    var _this;

    _classCallCheck(this, DeleteTeamPopBase);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(DeleteTeamPopBase).call(this, props));
    _this.state = {
      teamIsDeleting: false
    };
    _this.deleteTeam = _this.deleteTeam.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(DeleteTeamPopBase, [{
    key: "deleteTeam",
    value: function () {
      var _deleteTeam = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                if (!this.state.teamIsDeleting) {
                  _context.next = 2;
                  break;
                }

                return _context.abrupt("return", null);

              case 2:
                this.setState({
                  teamIsDeleting: true
                });
                _context.prev = 3;
                _context.next = 6;
                return this.props.api().delete(`teams/${this.props.teamId}`);

              case 6:
                this.props.history.push('/');
                _context.next = 14;
                break;

              case 9:
                _context.prev = 9;
                _context.t0 = _context["catch"](3);
                console.error("deleteTeam", _context.t0, _context.t0.response);
                this.props.createErrorNotification('Something went wrong, try refreshing?');
                this.setState({
                  teamIsDeleting: false
                });

              case 14:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[3, 9]]);
      }));

      function deleteTeam() {
        return _deleteTeam.apply(this, arguments);
      }

      return deleteTeam;
    }()
  }, {
    key: "render",
    value: function render() {
      var illustration = "https://cdn.glitch.com/c53fd895-ee00-4295-b111-7e024967a033%2Fdelete-team.svg?1531267699621";
      return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("dialog", {
        className: "pop-over delete-team-pop",
        open: true
      }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
        className: "pop-title"
      }, "Delete ", this.props.teamName)), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
        className: "pop-over-actions"
      }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("img", {
        className: "illustration",
        src: illustration,
        "aria-label": "illustration",
        alt: ""
      }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
        className: "action-description"
      }, "Deleting ", this.props.teamName, " will remove this team page. No projects will be deleted, but only current project members will be able to edit them.")), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
        className: "pop-over-actions danger-zone"
      }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
        className: "button button-small has-emoji opens-pop-over",
        onClick: this.deleteTeam
      }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, "Delete ", this.props.teamName, " "), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
        className: "emoji bomb",
        role: "img",
        "aria-label": "bomb emoji"
      }), this.state.teamIsDeleting && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], null))));
    }
  }]);

  return DeleteTeamPopBase;
}(react__WEBPACK_IMPORTED_MODULE_3___default.a.Component);

var DeleteTeamPop = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_5__["withRouter"])(function (props) {
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_notifications_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], null, function (notifyFuncs) {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(DeleteTeamPopBase, _extends({}, notifyFuncs, props));
  });
});
DeleteTeamPop.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  teamId: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number.isRequired,
  teamName: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
  users: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.array.isRequired,
  teamAdmins: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.array.isRequired,
  togglePopover: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func // required but added dynamically

};
/* harmony default export */ __webpack_exports__["default"] = (DeleteTeamPop);

/***/ }),

/***/ "./src/presenters/pop-overs/edit-collection-color-pop.jsx":
/*!****************************************************************!*\
  !*** ./src/presenters/pop-overs/edit-collection-color-pop.jsx ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/throttle */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/throttle.js");
/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var randomcolor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! randomcolor */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/randomcolor/0.5.3/node_modules/randomcolor/randomColor.js");
/* harmony import */ var randomcolor__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(randomcolor__WEBPACK_IMPORTED_MODULE_3__);


function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }





var validHex = function validHex(hex) {
  var re = /[0-9A-Fa-f]{6}/g;

  if (re.test(hex)) {
    return true;
  }

  return false;
};

var EditCollectionColorPop =
/*#__PURE__*/
function (_React$Component) {
  _inherits(EditCollectionColorPop, _React$Component);

  function EditCollectionColorPop(props) {
    var _this;

    _classCallCheck(this, EditCollectionColorPop);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditCollectionColorPop).call(this, props));
    _this.state = {
      query: _this.props.initialColor,
      color: _this.props.initialColor,
      maybeRequest: null,
      maybeResults: null
    };
    _this.onClick = _this.onClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this))); // for when user enters in custom hex

    _this.keyPress = _this.keyPress.bind(_assertThisInitialized(_assertThisInitialized(_this))); // handles enter key for custom hex

    _this.getRandomColor = _this.getRandomColor.bind(_assertThisInitialized(_assertThisInitialized(_this))); // gets random color

    _this.changeColor = lodash_throttle__WEBPACK_IMPORTED_MODULE_0___default()(_this.changeColor.bind(_assertThisInitialized(_assertThisInitialized(_this))), 250); // get update from system color picker

    _this.update = _this.props.updateColor;
    return _this;
  }

  _createClass(EditCollectionColorPop, [{
    key: "handleChange",
    value: function handleChange(e) {
      var query = e.currentTarget.value.trim();
      var errorMsg = document.getElementsByClassName("editable-field-error-message")[0];
      errorMsg.style.display = "none";
      this.setState({
        query: query
      });

      if (query && query.length <= 7) {
        if (validHex(query)) {
          if (query[0] !== "#") {
            query = "#" + query;
          }

          this.setState({
            color: query
          });
          this.update(query);
        } else {
          errorMsg.style.display = "inherit";
        }
      } else {
        // user has cleared the input field
        errorMsg.style.display = "inherit";
      }
    }
  }, {
    key: "keyPress",
    value: function keyPress(e) {
      if (e.which == 13 || e.keyCode == 13) {
        // enter key pressed - dismiss pop-over
        this.props.togglePopover();
      } else {
        document.getElementsByClassName("editable-field-error-message")[0].style.display = "none";
      }
    }
  }, {
    key: "onClick",
    value: function onClick() {
      this.props.togglePopover();
    }
  }, {
    key: "getRandomColor",
    value: function getRandomColor() {
      var newCoverColor = randomcolor__WEBPACK_IMPORTED_MODULE_3___default()({
        luminosity: 'light'
      });
      this.setState({
        color: newCoverColor
      });
      this.setState({
        query: newCoverColor
      });
      this.update(newCoverColor);
    }
  }, {
    key: "changeColor",
    value: function changeColor(color) {
      // upate the UI manually to prevent lag
      document.getElementById("color-picker").value = color;
      document.getElementById("color-picker").style.backgroundColor = color;
      this.setState({
        color: color
      });
      this.setState({
        query: color
      });
      this.update(color);
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("dialog", {
        className: "pop-over edit-collection-color-pop"
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input", {
        className: "color-picker",
        type: "color",
        value: this.state.color,
        onChange: function onChange(e) {
          return _this2.changeColor(e.target.value);
        },
        style: {
          backgroundColor: this.state.color
        },
        id: "color-picker"
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
        className: "custom-color-input"
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("input", {
        id: "color-picker-hex",
        value: this.state.query,
        onChange: this.handleChange,
        onKeyPress: this.keyPress,
        className: "pop-over-input pop-over-search",
        placeholder: "Custom color hex"
      }), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div", {
        className: "editable-field-error-message"
      }, "Invalid Hex"))), react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("button", {
        className: "random-color-btn button-tertiary",
        onClick: this.getRandomColor
      }, "Random ", react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("span", {
        className: "emoji bouquet"
      }))));
    }
  }]);

  return EditCollectionColorPop;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);

EditCollectionColorPop.propTypes = {
  updateColor: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  initialColor: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (EditCollectionColorPop);

/***/ }),

/***/ "./src/presenters/pop-overs/featured-project-options-pop.jsx":
/*!*******************************************************************!*\
  !*** ./src/presenters/pop-overs/featured-project-options-pop.jsx ***!
  \*******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return FeaturedProjectOptionsPop; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _popover_container_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./popover-container.jsx */ "./src/presenters/pop-overs/popover-container.jsx");
/* harmony import */ var _popover_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./popover-button */ "./src/presenters/pop-overs/popover-button.jsx");



 // Project Options Container
// create as stateful react component

function FeaturedProjectOptionsPop(_ref) {
  var unfeatureProject = _ref.unfeatureProject;

  function animateThenUnfeature(togglePopover) {
    var featuredContainer = document.getElementById('featured-project-embed');
    featuredContainer.classList.add('slide-down');
    togglePopover();
    unfeatureProject();
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_popover_container_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], null, function (_ref2) {
    var togglePopover = _ref2.togglePopover,
        visible = _ref2.visible;
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "project-options button-borderless opens-pop-over",
      onClick: togglePopover
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "down-arrow"
    })), visible && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dialog", {
      className: "pop-over project-options-pop"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
      className: "pop-over-actions"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_popover_button__WEBPACK_IMPORTED_MODULE_3__["default"], {
      onClick: function onClick() {
        return animateThenUnfeature(togglePopover);
      },
      text: "Un-feature",
      emoji: "arrow-down"
    }))));
  });
}
FeaturedProjectOptionsPop.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  project: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,
  unfeatureProject: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired
};

/***/ }),

/***/ "./src/presenters/pop-overs/new-project-pop.jsx":
/*!******************************************************!*\
  !*** ./src/presenters/pop-overs/new-project-pop.jsx ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _includes_loader_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../includes/loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _includes_project_result_item_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../includes/project-result-item.jsx */ "./src/presenters/includes/project-result-item.jsx");
/* harmony import */ var _popover_with_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./popover-with-button */ "./src/presenters/pop-overs/popover-with-button.jsx");
/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../models/project */ "./src/models/project.js");




function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }









var NewProjectPop = function NewProjectPop(_ref) {
  var projects = _ref.projects;
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "pop-over new-project-pop"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
    className: "pop-over-actions results-list"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "results"
  }, projects.length ? projects.map(function (project) {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_5__["TrackedExternalLink"], {
      key: project.id,
      to: Object(_models_project__WEBPACK_IMPORTED_MODULE_9__["getRemixUrl"])(project.domain),
      name: "New Project Clicked",
      properties: {
        baseDomain: project.domain,
        origin: "community new project pop"
      }
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_includes_project_result_item_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], _extends({}, project, {
      cdnUrl: "https://cdn.glitch.com",
      users: [],
      onClick: function onClick() {}
    })));
  }) : react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], null))), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
    className: "pop-over-actions last-section pop-over-info"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
    className: "button-small button-tertiary button-on-secondary-background",
    onClick: importGitRepo
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, "Clone from Git Repo"))));
};

NewProjectPop.propTypes = {
  projects: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
    domain: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired
  })).isRequired
};

var importGitRepo = function importGitRepo() {
  var repoUrl = window.prompt("Paste the full URL of your repository", "https://github.com/orgname/reponame.git");

  if (!repoUrl) {
    return;
  }

  window.location.href = `/edit/#!/import/git?url=${repoUrl}`;
};

var NewProjectPopButton =
/*#__PURE__*/
function (_React$Component) {
  _inherits(NewProjectPopButton, _React$Component);

  function NewProjectPopButton(props) {
    var _this;

    _classCallCheck(this, NewProjectPopButton);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewProjectPopButton).call(this, props));
    _this.state = {
      projects: []
    };
    return _this;
  }

  _createClass(NewProjectPopButton, [{
    key: "load",
    value: function () {
      var _load = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var projectIds, _ref2, data;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                projectIds = ['a0fcd798-9ddf-42e5-8205-17158d4bf5bb', // 'hello-express'
                'cb519589-591c-474f-8986-a513f22dbf88', // 'hello-sqlite'
                '929980a8-32fc-4ae7-a66f-dddb3ae4912c']; // always request against the production API, with no token

                _context.next = 3;
                return this.props.api.get(`https://api.glitch.com/projects/byIds?ids=${projectIds.join(',')}`, {
                  headers: {
                    Authorization: ''
                  }
                });

              case 3:
                _ref2 = _context.sent;
                data = _ref2.data;
                this.setState({
                  projects: data
                });

              case 6:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function load() {
        return _load.apply(this, arguments);
      }

      return load;
    }()
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.load();
    }
  }, {
    key: "render",
    value: function render() {
      return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_popover_with_button__WEBPACK_IMPORTED_MODULE_8__["default"], {
        buttonClass: "button-small",
        dataTrack: "open new-project pop",
        buttonText: "New Project"
      }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(NewProjectPop, {
        projects: this.state.projects
      }));
    }
  }]);

  return NewProjectPopButton;
}(react__WEBPACK_IMPORTED_MODULE_3___default.a.Component);

NewProjectPopButton.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.any.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (NewProjectPopButton);

/***/ }),

/***/ "./src/presenters/pop-overs/popover-button.jsx":
/*!*****************************************************!*\
  !*** ./src/presenters/pop-overs/popover-button.jsx ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);



var PopoverButton = function PopoverButton(_ref) {
  var onClick = _ref.onClick,
      text = _ref.text,
      emoji = _ref.emoji;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    className: "button-small has-emoji button-tertiary",
    onClick: onClick
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, text, " "), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: `emoji ${emoji}`
  }));
};

PopoverButton.propTypes = {
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  text: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  emoji: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (PopoverButton);

/***/ }),

/***/ "./src/presenters/pop-overs/popover-container.jsx":
/*!********************************************************!*\
  !*** ./src/presenters/pop-overs/popover-container.jsx ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return PopoverContainer; });
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es7.array.includes */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.array.includes.js");
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_onclickoutside__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-onclickoutside */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-onclickoutside/6.7.1/node_modules/react-onclickoutside/dist/react-onclickoutside.es.js");
/* harmony import */ var react_is__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-is */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-is/16.7.0/node_modules/react-is/index.js");
/* harmony import */ var react_is__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_is__WEBPACK_IMPORTED_MODULE_4__);


function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }





/*
A popover is a light, hollow roll made from an egg batter similar to
that of Yorkshire pudding, typically baked in muffin tins or dedicated
popover pans, which have straight-walled sides rather than angled.

...also it's a [Bootstrap UI pattern](https://www.w3schools.com/bootstrap/bootstrap_popover.asp)
*/

var Wrapper = function Wrapper(_ref) {
  var children = _ref.children;
  return children;
};

Wrapper.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.element
};

var PopoverContainer =
/*#__PURE__*/
function (_React$Component) {
  _inherits(PopoverContainer, _React$Component);

  function PopoverContainer(props) {
    var _this;

    _classCallCheck(this, PopoverContainer);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(PopoverContainer).call(this, props));
    _this.state = {
      visible: props.startOpen
    };
    _this.set = _this.set.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.toggle = _this.toggle.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.handleClickOutside = _this.handleClickOutside.bind(_assertThisInitialized(_assertThisInitialized(_this))); // We need to set up and instantiate an onClickOutside wrapper
    // It's important to instantiate it once and pass though its children,
    // otherwise the diff algorithm won't be able to figure out our hijinks.
    // https://github.com/Pomax/react-onclickoutside
    // We do extra work with disableOnClickOutside and handleClickOutside
    // to prevent event bindings from being created until the popover is opened.

    var _handleClickOutside = _this.handleClickOutside.bind(_assertThisInitialized(_assertThisInitialized(_this)));

    var clickOutsideConfig = {
      handleClickOutside: function handleClickOutside() {
        return _handleClickOutside;
      },
      excludeScrollbar: true
    };
    _this.MonitoredComponent = Object(react_onclickoutside__WEBPACK_IMPORTED_MODULE_3__["default"])(Wrapper, clickOutsideConfig);
    return _this;
  }

  _createClass(PopoverContainer, [{
    key: "handleClickOutside",
    value: function handleClickOutside(event) {
      // On keyup events, only hide the popup if it was the Escape key
      if (event.type === "keyup" && !["Escape", "Esc"].includes(event.key)) {
        return;
      }

      this.setState({
        visible: false
      });
    }
  }, {
    key: "set",
    value: function set(visible) {
      this.setState({
        visible: visible
      });
    }
  }, {
    key: "toggle",
    value: function toggle() {
      this.setState(function (prevState) {
        return {
          visible: !prevState.visible
        };
      });
    } // show() {
    //   this.setState(() => {
    //     return {visible: true};
    //   });
    // }

  }, {
    key: "render",
    value: function render() {
      var props = {
        visible: this.state.visible,
        togglePopover: this.toggle,
        setVisible: this.set
      };
      var inner = this.props.children(props);

      if (Object(react_is__WEBPACK_IMPORTED_MODULE_4__["isFragment"])(inner)) {
        console.error("PopoverContainer does not support Fragment as the top level item. Please use a different element.");
      }

      var outer = this.props.outer ? this.props.outer(props) : null;
      return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_1___default.a.Fragment, null, outer, react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(this.MonitoredComponent, {
        disableOnClickOutside: !this.state.visible,
        eventTypes: ["mousedown", "touchstart", "keyup"]
      }, inner));
    }
  }]);

  return PopoverContainer;
}(react__WEBPACK_IMPORTED_MODULE_1___default.a.Component);


PopoverContainer.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func.isRequired,
  outer: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.func,
  startOpen: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.bool
};
PopoverContainer.defaultProps = {
  startOpen: false
};

/***/ }),

/***/ "./src/presenters/pop-overs/popover-nested.jsx":
/*!*****************************************************!*\
  !*** ./src/presenters/pop-overs/popover-nested.jsx ***!
  \*****************************************************/
/*! exports provided: NestedPopover, NestedPopoverTitle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NestedPopover", function() { return NestedPopover; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NestedPopoverTitle", function() { return NestedPopoverTitle; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }




var _React$createContext = react__WEBPACK_IMPORTED_MODULE_0___default.a.createContext(),
    Provider = _React$createContext.Provider,
    Consumer = _React$createContext.Consumer;

var NestedPopover =
/*#__PURE__*/
function (_React$Component) {
  _inherits(NestedPopover, _React$Component);

  function NestedPopover(props) {
    var _this;

    _classCallCheck(this, NestedPopover);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(NestedPopover).call(this, props));
    _this.state = {
      alternateContentVisible: props.startAlternateVisible
    };
    _this.toggle = _this.toggle.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(NestedPopover, [{
    key: "toggle",
    value: function toggle() {
      this.setState(function (prevState) {
        return {
          alternateContentVisible: !prevState.alternateContentVisible
        };
      });
    }
  }, {
    key: "render",
    value: function render() {
      // Only use the provider on the sub menu
      // Nested consumers want the back button, not the open menu
      if (this.state.alternateContentVisible) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Provider, {
          value: this.toggle
        }, this.props.alternateContent(this.toggle));
      }

      return this.props.children(this.toggle);
    }
  }]);

  return NestedPopover;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);
NestedPopover.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  alternateContent: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  startAlternateVisible: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};
NestedPopover.defaultProps = {
  startAlternateVisible: false
};
var NestedPopoverTitle = function NestedPopoverTitle(_ref) {
  var children = _ref.children;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Consumer, null, function (toggle) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: "button-unstyled pop-over-section pop-over-info clickable-label",
      onClick: toggle,
      "aria-label": "go back"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "back icon"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "left-arrow icon"
    })), "\xA0", react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "pop-title"
    }, children));
  });
};
NestedPopoverTitle.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired
};

/***/ }),

/***/ "./src/presenters/pop-overs/popover-with-button.jsx":
/*!**********************************************************!*\
  !*** ./src/presenters/pop-overs/popover-with-button.jsx ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _popover_container_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./popover-container.jsx */ "./src/presenters/pop-overs/popover-container.jsx");




var PopoverWithButton = function PopoverWithButton(props) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_popover_container_jsx__WEBPACK_IMPORTED_MODULE_2__["default"], null, function (_ref) {
    var visible = _ref.visible,
        togglePopover = _ref.togglePopover;
    var childrenToShow = props.children;

    if (props.passToggleToPop) {
      childrenToShow = react__WEBPACK_IMPORTED_MODULE_0___default.a.Children.map(props.children, function (child) {
        return react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(child, {
          togglePopover: togglePopover
        });
      });
    }

    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      className: "button-wrap " + props.containerClass
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
      className: props.buttonClass,
      "data-track": props.dataTrack,
      onClick: togglePopover
    }, props.buttonText), visible && childrenToShow);
  });
};

PopoverWithButton.propTypes = {
  buttonClass: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  containerClass: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  dataTrack: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  buttonText: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  // should be the stuff to show in a popover
  passToggleToPop: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};
PopoverWithButton.defaultProps = {
  buttonClass: "",
  containerClass: "",
  dataTrack: "",
  passToggleToPop: false
};
/* harmony default export */ __webpack_exports__["default"] = (PopoverWithButton);

/***/ }),

/***/ "./src/presenters/pop-overs/project-options-pop.jsx":
/*!**********************************************************!*\
  !*** ./src/presenters/pop-overs/project-options-pop.jsx ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ProjectOptions; });
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es7.array.includes */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.array.includes.js");
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _popover_with_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./popover-with-button */ "./src/presenters/pop-overs/popover-with-button.jsx");
/* harmony import */ var _popover_nested__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./popover-nested */ "./src/presenters/pop-overs/popover-nested.jsx");
/* harmony import */ var _current_user__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../current-user */ "./src/presenters/current-user.jsx");
/* harmony import */ var _pop_overs_add_project_to_collection_pop__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../pop-overs/add-project-to-collection-pop */ "./src/presenters/pop-overs/add-project-to-collection-pop.jsx");




function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }









var PopoverButton = function PopoverButton(_ref) {
  var onClick = _ref.onClick,
      text = _ref.text,
      emoji = _ref.emoji;
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
    className: "button-small has-emoji button-tertiary",
    onClick: onClick
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", null, text, " "), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: `emoji ${emoji}`
  }));
}; // Project Options Content


var ProjectOptionsContent = function ProjectOptionsContent(_ref2) {
  var addToCollectionPopover = _ref2.addToCollectionPopover,
      props = _objectWithoutProperties(_ref2, ["addToCollectionPopover"]);

  function animate(event, className, func) {
    var projectContainer = event.target.closest('li');
    projectContainer.addEventListener('animationend', func, {
      once: true
    });
    projectContainer.classList.add(className);
    props.togglePopover();
  }

  function leaveProject(event) {
    var prompt = `Once you leave this project, you'll lose access to it unless someone else invites you back. \n\n Are sure you want to leave ${props.project.domain}?`;

    if (window.confirm(prompt)) {
      props.leaveProject(props.project.id, event);
    }
  }

  function leaveTeamProject() {
    props.leaveTeamProject(props.project.id, props.currentUser.id);
  }

  function joinTeamProject() {
    props.joinTeamProject(props.project.id, props.currentUser);
  }

  function animateThenAddPin(event) {
    animate(event, 'slide-up', function () {
      return props.addPin(props.project.id);
    });
  }

  function animateThenRemovePin(event) {
    animate(event, 'slide-down', function () {
      return props.removePin(props.project.id);
    });
  }

  function animateThenDeleteProject(event) {
    animate(event, 'slide-down', function () {
      return props.deleteProject(props.project.id);
    });
  }

  function featureProject(event) {
    animate(event, 'slide-up', function () {
      return props.featureProject(props.project.id);
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("dialog", {
    className: "pop-over project-options-pop"
  }, !!props.addPin && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
    className: "pop-over-actions"
  }, !props.project.private && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(PopoverButton, {
    onClick: featureProject,
    text: "Feature",
    emoji: "clapper"
  }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_5__["TrackClick"], {
    name: "Project Pinned"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(PopoverButton, {
    onClick: animateThenAddPin,
    text: "Pin ",
    emoji: "pushpin"
  }))), !!props.removePin && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
    className: "pop-over-actions"
  }, !props.project.private && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(PopoverButton, {
    onClick: featureProject,
    text: "Feature",
    emoji: "clapper"
  }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_5__["TrackClick"], {
    name: "Project Un-Pinned"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(PopoverButton, {
    onClick: animateThenRemovePin,
    text: "Un-Pin ",
    emoji: "pushpin"
  }))), !!props.addProjectToCollection && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
    className: "pop-over-actions"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(PopoverButton, _extends({
    onClick: addToCollectionPopover
  }, props, {
    text: "Add to My Collection ",
    emoji: "framed-picture"
  }))), props.joinTeamProject && !props.currentUserIsOnProject && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
    className: "pop-over-actions collaborator-actions"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(PopoverButton, {
    onClick: joinTeamProject,
    text: "Join Project ",
    emoji: "rainbow"
  })), props.leaveTeamProject && props.currentUserIsOnProject && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
    className: "pop-over-actions collaborator-actions"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_5__["TrackClick"], {
    name: "Leave Project clicked"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(PopoverButton, {
    onClick: leaveTeamProject,
    text: "Leave Project ",
    emoji: "wave"
  }))), props.leaveProject && props.project.users.length > 1 && props.currentUserIsOnProject && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
    className: "pop-over-actions collaborator-actions"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_5__["TrackClick"], {
    name: "Leave Project clicked"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(PopoverButton, {
    onClick: leaveProject,
    text: "Leave Project ",
    emoji: "wave"
  }))), (props.currentUserIsOnProject || !!props.removeProjectFromTeam) && !props.removeProjectFromCollection && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
    className: "pop-over-actions danger-zone last-section"
  }, !!props.removeProjectFromTeam && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(PopoverButton, {
    onClick: function onClick() {
      return props.removeProjectFromTeam(props.project.id);
    },
    text: "Remove from Team ",
    emoji: "thumbs_down"
  }), props.currentUserIsOnProject && !props.removeProjectFromCollection && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_5__["TrackClick"], {
    name: "Delete Project clicked"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(PopoverButton, {
    onClick: animateThenDeleteProject,
    text: "Delete Project ",
    emoji: "bomb"
  }))), props.removeProjectFromCollection && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
    className: "pop-over-actions danger-zone last-section"
  }, props.removeProjectFromCollection && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(PopoverButton, {
    onClick: function onClick() {
      return props.removeProjectFromCollection(props.project);
    },
    text: "Remove from Collection",
    emoji: "thumbs_down"
  })));
}; // Project Options Pop


var ProjectOptionsPop = function ProjectOptionsPop(_ref3) {
  var props = Object.assign({}, _ref3);
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_popover_nested__WEBPACK_IMPORTED_MODULE_7__["NestedPopover"], {
    alternateContent: function alternateContent() {
      return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_pop_overs_add_project_to_collection_pop__WEBPACK_IMPORTED_MODULE_9__["default"], _extends({}, props, {
        api: props.api,
        togglePopover: props.togglePopover
      }));
    }
  }, function (addToCollectionPopover) {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ProjectOptionsContent, _extends({}, props, {
      addToCollectionPopover: addToCollectionPopover
    }));
  });
};

ProjectOptionsPop.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.any,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object,
  project: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
    users: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.array.isRequired
  }),
  togglePopover: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  addPin: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  removePin: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  deleteProject: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  leaveProject: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  removeProjectFromTeam: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  joinTeamProject: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  leaveTeamProject: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  featureProject: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  currentUserIsOnProject: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool.isRequired
};
ProjectOptionsPop.defaultProps = {
  currentUserIsOnProject: false
}; // Project Options Container
// create as stateful react component

function ProjectOptions(_ref4, _ref5) {
  var _ref4$projectOptions = _ref4.projectOptions,
      projectOptions = _ref4$projectOptions === void 0 ? {} : _ref4$projectOptions,
      project = _ref4.project,
      api = _ref4.api,
      currentCollectionId = _ref4.currentCollectionId;
  var props = Object.assign({}, _ref5);

  if (Object.keys(projectOptions).length === 0) {
    return null;
  }

  function currentUserIsOnProject(user) {
    var projectUsers = project.users.map(function (projectUser) {
      return projectUser.id;
    });

    if (projectUsers.includes(user.id)) {
      return true;
    }
  }

  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_popover_with_button__WEBPACK_IMPORTED_MODULE_6__["default"], {
    buttonClass: "project-options button-borderless opens-pop-over button-small",
    buttonText: react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "down-arrow",
      "aria-label": "options"
    }),
    containerClass: "project-options-pop-btn",
    passToggleToPop: true
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_current_user__WEBPACK_IMPORTED_MODULE_8__["CurrentUserConsumer"], null, function (user, fetched, funcs, consumerProps) {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(ProjectOptionsPop, _extends({}, consumerProps, props, projectOptions, {
      project: project,
      currentCollectionId: currentCollectionId,
      api: api,
      currentUser: user,
      currentUserIsOnProject: currentUserIsOnProject(user)
    }));
  }));
}
ProjectOptions.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func,
  currentCollectionId: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number,
  project: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object.isRequired
};

/***/ }),

/***/ "./src/presenters/pop-overs/report-abuse-pop.jsx":
/*!*******************************************************!*\
  !*** ./src/presenters/pop-overs/report-abuse-pop.jsx ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var lodash_trimStart__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/trimStart */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/trimStart.js");
/* harmony import */ var lodash_trimStart__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_trimStart__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/debounce */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/debounce.js");
/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _popover_with_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./popover-with-button */ "./src/presenters/pop-overs/popover-with-button.jsx");
/* harmony import */ var _includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../includes/editable-field.jsx */ "./src/presenters/includes/editable-field.jsx");
/* harmony import */ var email_addresses__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! email-addresses */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/email-addresses/3.0.3/node_modules/email-addresses/lib/email-addresses.js");
/* harmony import */ var email_addresses__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(email_addresses__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! axios */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/axios/0.18.0/node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _utils_sentry__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/sentry */ "./src/utils/sentry.js");
/* harmony import */ var _utils_abuse_reporting_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../utils/abuse-reporting.js */ "./src/utils/abuse-reporting.js");
/* harmony import */ var _includes_loader_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../includes/loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../current-user.jsx */ "./src/presenters/current-user.jsx");






function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }












var ReportAbusePop =
/*#__PURE__*/
function (_React$Component) {
  _inherits(ReportAbusePop, _React$Component);

  function ReportAbusePop(props) {
    var _this;

    _classCallCheck(this, ReportAbusePop);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(ReportAbusePop).call(this, props));

    if (_this.props.reportedType == "user") {
      _this.defaultReason = `This user profile doesn't seem appropriate for Glitch because...`;
    } else if (_this.props.reportedType == "home") {
      _this.defaultReason = `[Something here] doesn't seem appropriate for Glitch because...`;
    } else {
      _this.defaultReason = `This ${props.reportedType} doesn't seem appropriate for Glitch because...`;
    }

    _this.state = {
      reason: _this.defaultReason,
      email: "",
      emailError: "",
      reasonError: "",
      submitted: false,
      loading: false
    };
    _this.submitReport = _this.submitReport.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.reasonOnChange = _this.reasonOnChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.formatRaw = _this.formatRaw.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.getUserInfoSection = _this.getUserInfoSection.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.emailOnChange = _this.emailOnChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.validateNotEmpty = _this.validateNotEmpty.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.validateReason = _this.validateReason.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.validateEmail = _this.validateEmail.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.renderForm = _this.renderForm.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.renderSuccess = _this.renderSuccess.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.renderFailure = _this.renderFailure.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.pickFormBody = _this.pickFormBody.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.debouncedValidateEmail = lodash_debounce__WEBPACK_IMPORTED_MODULE_4___default()(function () {
      return _this.validateEmail();
    }, 200);
    _this.debouncedValidateReason = lodash_debounce__WEBPACK_IMPORTED_MODULE_4___default()(function () {
      return _this.validateReason();
    }, 200);
    return _this;
  }

  _createClass(ReportAbusePop, [{
    key: "formatRaw",
    value: function formatRaw() {
      return Object(_utils_abuse_reporting_js__WEBPACK_IMPORTED_MODULE_12__["getAbuseReportBody"])(this.props.currentUser, this.state.email, this.props.reportedType, this.props.reportedModel, this.state.reason);
    }
  }, {
    key: "submitReport",
    value: function () {
      var _submitReport = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var emailErrors, reasonErrors;
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.prev = 0;
                emailErrors = this.validateEmail();
                reasonErrors = this.validateReason();

                if (!(emailErrors.emailError != "" || reasonErrors.reasonError != "")) {
                  _context.next = 5;
                  break;
                }

                return _context.abrupt("return");

              case 5:
                this.setState({
                  loading: true
                });
                _context.next = 8;
                return axios__WEBPACK_IMPORTED_MODULE_10___default.a.post("https://support-poster.glitch.me/post", {
                  raw: this.formatRaw(),
                  title: Object(_utils_abuse_reporting_js__WEBPACK_IMPORTED_MODULE_12__["getAbuseReportTitle"])(this.props.reportedModel, this.props.reportedType)
                });

              case 8:
                this.setState({
                  submitted: true,
                  submitSuccess: true,
                  loading: false
                });
                _context.next = 15;
                break;

              case 11:
                _context.prev = 11;
                _context.t0 = _context["catch"](0);
                Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_11__["captureException"])(_context.t0);
                this.setState({
                  submitted: true,
                  submitSuccess: false,
                  loading: false
                });

              case 15:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[0, 11]]);
      }));

      function submitReport() {
        return _submitReport.apply(this, arguments);
      }

      return submitReport;
    }()
  }, {
    key: "validateNotEmpty",
    value: function validateNotEmpty(stateField, errorField, fieldDescription) {
      var errorObj;

      if (this.state[stateField] === "") {
        errorObj = _defineProperty({}, errorField, `${fieldDescription} is required`);
      } else {
        errorObj = _defineProperty({}, errorField, "");
      }

      this.setState(errorObj);
      return errorObj;
    }
  }, {
    key: "validateReason",
    value: function validateReason() {
      var errorObj = this.validateNotEmpty("reason", "reasonError", "A description of the issue");

      if (errorObj.reasonError == "" && this.state.reason === this.defaultReason) {
        errorObj = {
          reasonError: "Reason is required"
        };
        this.setState(errorObj);
      }

      return errorObj;
    }
  }, {
    key: "validateEmail",
    value: function validateEmail() {
      if (this.props.currentUser.login) {
        return {
          emailError: ""
        };
      }

      var errors = this.validateNotEmpty("email", "emailError", "Email");

      if (errors.emailError != "") {
        return errors;
      }

      var email = Object(email_addresses__WEBPACK_IMPORTED_MODULE_9__["parseOneAddress"])(this.state.email);

      if (!email) {
        errors = {
          emailError: "Please enter a valid email"
        };
      } else {
        errors = {
          emailError: ""
        };
      }

      this.setState(errors);
      return errors;
    }
  }, {
    key: "reasonOnChange",
    value: function reasonOnChange(value) {
      this.setState({
        reason: value
      });
      this.debouncedValidateReason();
    }
  }, {
    key: "emailOnChange",
    value: function emailOnChange(value) {
      this.setState({
        email: value
      });
      this.debouncedValidateEmail();
    }
  }, {
    key: "getUserInfoSection",
    value: function getUserInfoSection() {
      var _this2 = this;

      if (this.props.currentUser.login) {
        return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("section", {
          className: "pop-over-info"
        }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p", {
          className: "info-description right"
        }, "from ", react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("strong", null, this.props.currentUser.login)));
      }

      return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_8__["PureEditableField"], {
        value: this.state.email,
        update: this.emailOnChange,
        blur: function blur() {
          return _this2.debouncedValidateEmail();
        },
        placeholder: "your@email.com",
        error: this.state.emailError,
        inputType: "email"
      }));
    }
  }, {
    key: "renderForm",
    value: function renderForm() {
      var _this3 = this;

      return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h1", {
        className: "pop-title"
      }, "Report Abuse")), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("section", {
        className: "pop-over-actions"
      }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_includes_editable_field_jsx__WEBPACK_IMPORTED_MODULE_8__["PureEditableTextArea"], {
        value: this.state.reason,
        update: this.reasonOnChange,
        blur: function blur() {
          return _this3.debouncedValidateReason();
        },
        autoFocus: true // eslint-disable-line jsx-a11y/no-autofocus
        ,
        placeholder: "",
        error: this.state.reasonError
      })), this.getUserInfoSection(), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("section", {
        className: "pop-over-actions"
      }, this.state.loading ? react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_13__["default"], null) : react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("button", {
        className: "button button-small",
        onClick: this.submitReport
      }, "Submit Report")));
    }
  }, {
    key: "renderSuccess",
    value: function renderSuccess() {
      return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h1", {
        className: "pop-title"
      }, "Report Abuse")), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("section", {
        className: "pop-over-actions"
      }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("div", {
        className: "notification notifySuccess"
      }, "Report Sent"), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p", {
        className: "pop-description tight-line"
      }, "Thanks for helping to keep Glitch a safe, friendly community", " ", react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
        className: "emoji park",
        role: "img",
        "aria-label": ""
      }))));
    }
  }, {
    key: "renderFailure",
    value: function renderFailure() {
      return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_5___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h1", {
        className: "pop-title"
      }, "Failed to Send", " ", react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
        className: "emoji sick",
        role: "img",
        "aria-label": ""
      }))), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("section", {
        className: "pop-over-info"
      }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p", {
        className: "info-description"
      }, "But you can still send us your message by emailing the details below to ", react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("b", null, "support@glitch.com"))), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("section", {
        className: "pop-over-actions"
      }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("textarea", {
        className: "content-editable tall-text traditional",
        value: lodash_trimStart__WEBPACK_IMPORTED_MODULE_3___default()(this.formatRaw()),
        readOnly: true
      })));
    }
  }, {
    key: "pickFormBody",
    value: function pickFormBody() {
      if (this.state.submitted) {
        if (!this.state.submitSuccess) {
          return this.renderFailure();
        }

        return this.renderSuccess();
      }

      return this.renderForm();
    }
  }, {
    key: "render",
    value: function render() {
      return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("dialog", {
        className: "pop-over wide-pop top-right report-abuse-pop"
      }, this.pickFormBody());
    }
  }]);

  return ReportAbusePop;
}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);

ReportAbusePop.propTypes = {
  reportedType: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.string.isRequired,
  // 'project', 'collection', 'user', 'team'
  reportedModel: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.object.isRequired,
  // the actual model
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.object
};

var ReportAbusePopContainer = function ReportAbusePopContainer(props) {
  return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_14__["CurrentUserConsumer"], null, function (currentUser) {
    return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(ReportAbusePop, _extends({
      currentUser: currentUser
    }, props));
  });
};

var ReportAbusePopButton = function ReportAbusePopButton(props) {
  return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_popover_with_button__WEBPACK_IMPORTED_MODULE_7__["default"], {
    buttonClass: "button-small button-tertiary margin",
    buttonText: "Report Abuse"
  }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(ReportAbusePopContainer, {
    reportedType: props.reportedType,
    reportedModel: props.reportedModel
  }));
};

ReportAbusePopButton.propTypes = {
  reportedType: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.string.isRequired,
  // 'project', 'collection', 'user', 'team'
  reportedModel: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.object // the actual model, or null if no model (like for the home page)

};
/* harmony default export */ __webpack_exports__["default"] = (ReportAbusePopButton);

/***/ }),

/***/ "./src/presenters/pop-overs/sign-in-pop.jsx":
/*!**************************************************!*\
  !*** ./src/presenters/pop-overs/sign-in-pop.jsx ***!
  \**************************************************/
/*! exports provided: SignInPop, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SignInPop", function() { return SignInPop; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SignInPopContainer; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.regexp.search */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.search.js");
/* harmony import */ var core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-router-dom */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react-router-dom/4.3.1/node_modules/react-router-dom/es/index.js");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! dayjs */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/dayjs/1.8.0/node_modules/dayjs/dayjs.min.js");
/* harmony import */ var dayjs__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _includes_link__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../includes/link */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _includes_local_storage__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../includes/local-storage */ "./src/presenters/includes/local-storage.jsx");
/* harmony import */ var _popover_with_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./popover-with-button */ "./src/presenters/pop-overs/popover-with-button.jsx");
/* harmony import */ var _utils_sentry__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../utils/sentry */ "./src/utils/sentry.js");
/* harmony import */ var _current_user__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../current-user */ "./src/presenters/current-user.jsx");
/* harmony import */ var _popover_nested_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./popover-nested.jsx */ "./src/presenters/pop-overs/popover-nested.jsx");





function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }











/* global GITHUB_CLIENT_ID, FACEBOOK_CLIENT_ID, APP_URL */

function githubAuthLink() {
  var params = new URLSearchParams();
  params.append('client_id', GITHUB_CLIENT_ID);
  params.append('scope', 'user:email');
  params.append('redirect_uri', `${APP_URL}/login/github`);
  return `https://github.com/login/oauth/authorize?${params}`;
}

function facebookAuthLink() {
  var params = new URLSearchParams();
  params.append('client_id', FACEBOOK_CLIENT_ID);
  params.append('scope', 'email');
  params.append('redirect_uri', `${APP_URL}/login/facebook`);
  return `https://www.facebook.com/v2.9/dialog/oauth?${params}`;
}

var SignInPopButton = function SignInPopButton(props) {
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_link__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: "button button-small button-link has-emoji",
    to: props.href,
    onClick: props.onClick
  }, "Sign in with ", props.company, " ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
    className: `emoji ${props.emoji}`
  }));
};

var EmailHandler =
/*#__PURE__*/
function (_React$Component) {
  _inherits(EmailHandler, _React$Component);

  function EmailHandler(props) {
    var _this;

    _classCallCheck(this, EmailHandler);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(EmailHandler).call(this, props));
    _this.state = {
      email: '',
      done: false,
      error: false
    };
    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(EmailHandler, [{
    key: "onChange",
    value: function onChange(e) {
      this.setState({
        email: e.target.value
      });
    }
  }, {
    key: "onSubmit",
    value: function () {
      var _onSubmit = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(e) {
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                e.preventDefault();
                this.setState({
                  done: true
                });
                _context.prev = 2;
                _context.next = 5;
                return this.props.api.post('/email/sendLoginEmail', {
                  emailAddress: this.state.email
                });

              case 5:
                this.setState({
                  error: false
                });
                _context.next = 12;
                break;

              case 8:
                _context.prev = 8;
                _context.t0 = _context["catch"](2);
                Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_11__["captureException"])(_context.t0);
                this.setState({
                  error: true
                });

              case 12:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[2, 8]]);
      }));

      function onSubmit(_x) {
        return _onSubmit.apply(this, arguments);
      }

      return onSubmit;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var isEnabled = this.state.email.length > 0;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_popover_nested_jsx__WEBPACK_IMPORTED_MODULE_13__["NestedPopover"], {
        alternateContent: function alternateContent() {
          return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(SignInWithConsumer, _this2.props);
        },
        startAlternateVisible: false
      }, function (showCodeLogin) {
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("dialog", {
          className: "pop-over sign-in-pop"
        }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_popover_nested_jsx__WEBPACK_IMPORTED_MODULE_13__["NestedPopoverTitle"], null, "Email Sign In ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
          className: "emoji email"
        })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
          className: "pop-over-actions first-section"
        }, !_this2.state.done && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("form", {
          onSubmit: _this2.onSubmit,
          style: {
            marginBottom: 0
          }
        }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input", {
          value: _this2.state.email,
          onChange: _this2.onChange,
          className: "pop-over-input",
          type: "email",
          placeholder: "new@user.com"
        }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
          style: {
            marginTop: 10
          },
          className: "button-small button-link",
          disabled: !isEnabled
        }, "Send Link")), _this2.state.done && !_this2.state.error && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
          className: "notification notifyPersistent notifySuccess"
        }, "Almost Done"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", null, "Finish signing in from the email sent to ", _this2.state.email, ".")), _this2.state.done && _this2.state.error && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
          className: "notification notifyPersistent notifyError"
        }, "Error"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", null, "Something went wrong, email not sent."))), _this2.state.done && !_this2.state.error && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(SignInCodeSection, {
          onClick: function onClick() {
            showCodeLogin(_this2.props.api);
          }
        }));
      });
    }
  }]);

  return EmailHandler;
}(react__WEBPACK_IMPORTED_MODULE_4___default.a.Component);

var SignInCodeHandler =
/*#__PURE__*/
function (_React$Component2) {
  _inherits(SignInCodeHandler, _React$Component2);

  function SignInCodeHandler(props) {
    var _this3;

    _classCallCheck(this, SignInCodeHandler);

    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(SignInCodeHandler).call(this, props));
    _this3.state = {
      code: '',
      done: false,
      error: false
    };
    _this3.onChange = _this3.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this3)));
    _this3.onSubmit = _this3.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this3)));
    return _this3;
  }

  _createClass(SignInCodeHandler, [{
    key: "onChange",
    value: function onChange(e) {
      this.setState({
        code: e.target.value
      });
    }
  }, {
    key: "onSubmit",
    value: function () {
      var _onSubmit2 = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2(e) {
        var _ref, data;

        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                e.preventDefault();
                this.setState({
                  done: true
                });
                _context2.prev = 2;
                _context2.next = 5;
                return this.props.api.post('/auth/email/' + this.state.code);

              case 5:
                _ref = _context2.sent;
                data = _ref.data;
                this.props.setUser(data);
                this.setState({
                  error: false
                });
                _context2.next = 15;
                break;

              case 11:
                _context2.prev = 11;
                _context2.t0 = _context2["catch"](2);
                Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_11__["captureException"])(_context2.t0);
                this.setState({
                  error: true
                });

              case 15:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this, [[2, 11]]);
      }));

      function onSubmit(_x2) {
        return _onSubmit2.apply(this, arguments);
      }

      return onSubmit;
    }()
  }, {
    key: "render",
    value: function render() {
      var isEnabled = this.state.code.length > 0;
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("dialog", {
        className: "pop-over sign-in-pop"
      }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_popover_nested_jsx__WEBPACK_IMPORTED_MODULE_13__["NestedPopoverTitle"], null, "Use a sign in code"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
        className: "pop-over-actions first-section"
      }, !this.state.done && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("form", {
        onSubmit: this.onSubmit,
        style: {
          marginBottom: 0
        }
      }, "Paste your temporary sign in code below", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("input", {
        value: this.state.code,
        onChange: this.onChange,
        className: "pop-over-input",
        type: "text",
        placeholder: "cute-unique-cosmos"
      }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
        style: {
          marginTop: 10
        },
        className: "button-small button-link",
        disabled: !isEnabled
      }, "Sign In")), this.state.done && !this.state.error && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
        className: "notification notifyPersistent notifySuccess"
      }, "Success!")), this.state.done && this.state.error && react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_4___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
        className: "notification notifyPersistent notifyError"
      }, "Error"), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", null, "Code not found or already used. Try signing in with email."))));
    }
  }]);

  return SignInCodeHandler;
}(react__WEBPACK_IMPORTED_MODULE_4___default.a.Component);

var SignInWithConsumer = function SignInWithConsumer(props) {
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_current_user__WEBPACK_IMPORTED_MODULE_12__["CurrentUserConsumer"], null, function (currentUser, fetched, _ref2) {
    var login = _ref2.login;
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(SignInCodeHandler, _extends({
      setUser: login
    }, props));
  });
};

var EmailSignInButton = function EmailSignInButton(_ref3) {
  var _onClick = _ref3.onClick;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
    className: "button button-small button-link has-emoji",
    onClick: function onClick() {
      _onClick();
    }
  }, "Sign in with Email ", react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", {
    className: "emoji email"
  }));
};

EmailSignInButton.propTypes = {
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired
};

var SignInCodeSection = function SignInCodeSection(_ref4) {
  var onClick = _ref4.onClick;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
    className: "pop-over-actions last-section pop-over-info"
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("button", {
    className: "button-small button-tertiary button-on-secondary-background",
    onClick: onClick
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("span", null, "Use a sign in code")));
};

SignInCodeSection.propTypes = {
  onClick: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired
};

var SignInPopWithoutRouter = function SignInPopWithoutRouter(props) {
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_includes_local_storage__WEBPACK_IMPORTED_MODULE_9__["default"], {
    name: "destinationAfterAuth"
  }, function (destination, setDestination) {
    var _onClick2 = function onClick() {
      return setDestination({
        expires: dayjs__WEBPACK_IMPORTED_MODULE_7___default()().add(10, 'minutes').toISOString(),
        to: {
          pathname: location.pathname,
          search: location.search,
          hash: hash
        }
      });
    };

    var header = props.header,
        prompt = props.prompt,
        api = props.api,
        location = props.location,
        hash = props.hash;
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_popover_nested_jsx__WEBPACK_IMPORTED_MODULE_13__["NestedPopover"], {
      alternateContent: function alternateContent() {
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(EmailHandler, props);
      },
      startAlternateVisible: false
    }, function (showEmailLogin) {
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_popover_nested_jsx__WEBPACK_IMPORTED_MODULE_13__["NestedPopover"], {
        alternateContent: function alternateContent() {
          return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(SignInWithConsumer, props);
        },
        startAlternateVisible: false
      }, function (showCodeLogin) {
        return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("div", {
          className: "pop-over sign-in-pop"
        }, header, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement("section", {
          className: "pop-over-actions first-section"
        }, prompt, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(SignInPopButton, {
          href: facebookAuthLink(),
          company: "Facebook",
          emoji: "facebook",
          onClick: _onClick2
        }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(SignInPopButton, {
          href: githubAuthLink(),
          company: "GitHub",
          emoji: "octocat",
          onClick: _onClick2
        }), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(EmailSignInButton, {
          onClick: function onClick() {
            _onClick2();

            showEmailLogin(api);
          }
        })), react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(SignInCodeSection, {
          onClick: function onClick() {
            _onClick2();

            showCodeLogin(api);
          }
        }));
      });
    });
  });
};

var SignInPop = Object(react_router_dom__WEBPACK_IMPORTED_MODULE_6__["withRouter"])(SignInPopWithoutRouter);
SignInPop.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  header: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node,
  prompt: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.node,
  hash: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.string
};
function SignInPopContainer(props) {
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_popover_with_button__WEBPACK_IMPORTED_MODULE_10__["default"], {
    buttonClass: "button button-small",
    buttonText: "Sign in",
    passToggleToPop: true
  }, react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(SignInPop, props));
}

/***/ }),

/***/ "./src/presenters/pop-overs/team-analytics-project-pop.jsx":
/*!*****************************************************************!*\
  !*** ./src/presenters/pop-overs/team-analytics-project-pop.jsx ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es7.array.includes */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.array.includes.js");
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _includes_project_result_item_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../includes/project-result-item.jsx */ "./src/presenters/includes/project-result-item.jsx");
/* harmony import */ var _popover_with_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./popover-with-button */ "./src/presenters/pop-overs/popover-with-button.jsx");



function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }






var AllProjectsItem = function AllProjectsItem(_ref) {
  var currentProjectDomain = _ref.currentProjectDomain,
      action = _ref.action;
  var BENTO_BOX = 'https://cdn.glitch.com/55f8497b-3334-43ca-851e-6c9780082244%2Fbento-box.png?1502469566743';
  var resultsClass = "button-unstyled result";

  if (!currentProjectDomain) {
    resultsClass += " active";
  }

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    className: resultsClass,
    onClick: action
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
    className: "avatar",
    src: BENTO_BOX,
    alt: "Bento emoji"
  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "result-name",
    title: "All Projects"
  }, "All Projects"));
};

AllProjectsItem.propTypes = {
  currentProjectDomain: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
  action: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired
};

var isActive = function isActive(currentProjectDomain, project) {
  if (currentProjectDomain === project.domain) {
    return true;
  }
};

var PopOver = function PopOver(_ref2) {
  var projects = _ref2.projects,
      togglePopover = _ref2.togglePopover,
      setFilter = _ref2.setFilter,
      filter = _ref2.filter,
      updateProjectDomain = _ref2.updateProjectDomain,
      currentProjectDomain = _ref2.currentProjectDomain;

  var _onClick = function onClick(domain) {
    togglePopover();
    updateProjectDomain(domain);
    setFilter("");
  };

  var filteredProjects = projects.filter(function (_ref3) {
    var domain = _ref3.domain;
    return domain.toLowerCase().includes(filter.toLowerCase());
  });
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("dialog", {
    className: "pop-over analytics-projects-pop wide-pop"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
    className: "pop-over-info"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("input", {
    autoFocus: true // eslint-disable-line jsx-a11y/no-autofocus
    ,
    onChange: function onChange(event) {
      setFilter(event.target.value);
    },
    id: "analytics-project-filter",
    className: "pop-over-input search-input pop-over-search",
    placeholder: "Filter projects",
    value: filter
  })), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
    className: "pop-over-actions results-list"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("ul", {
    className: "results"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li", {
    className: "button-unstyled"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(AllProjectsItem, {
    currentProjectDomain: currentProjectDomain,
    action: function action() {
      return _onClick('');
    }
  })), filteredProjects.map(function (project) {
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li", {
      key: project.id,
      className: "button-unstyled"
    }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_project_result_item_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], _extends({}, project, {
      onClick: function onClick() {
        return _onClick(project.domain);
      },
      isActive: isActive(currentProjectDomain, project)
    })));
  }))));
};

PopOver.propTypes = {
  projects: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
    domain: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
    description: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired
  })).isRequired,
  togglePopover: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func,
  // required but added dynamically
  setFilter: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,
  filter: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
  updateProjectDomain: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,
  currentProjectDomain: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired
};

var TeamAnalyticsProjectPop =
/*#__PURE__*/
function (_React$Component) {
  _inherits(TeamAnalyticsProjectPop, _React$Component);

  function TeamAnalyticsProjectPop(props) {
    var _this;

    _classCallCheck(this, TeamAnalyticsProjectPop);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(TeamAnalyticsProjectPop).call(this, props));
    _this.state = {
      filter: ""
    };
    _this.setFilter = _this.setFilter.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(TeamAnalyticsProjectPop, [{
    key: "setFilter",
    value: function setFilter(query) {
      this.setState({
        filter: query
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$props = this.props,
          updateProjectDomain = _this$props.updateProjectDomain,
          currentProjectDomain = _this$props.currentProjectDomain,
          projects = _this$props.projects;
      return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_popover_with_button__WEBPACK_IMPORTED_MODULE_5__["default"], {
        buttonClass: "button-small button-tertiary",
        buttonText: `Filter: ${currentProjectDomain || 'All Projects'}`,
        passToggleToPop: true
      }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(PopOver, {
        projects: projects,
        updateProjectDomain: updateProjectDomain,
        currentProjectDomain: currentProjectDomain,
        setFilter: this.setFilter,
        filter: this.state.filter
      }));
    }
  }]);

  return TeamAnalyticsProjectPop;
}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component);

TeamAnalyticsProjectPop.propTypes = {
  updateProjectDomain: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,
  currentProjectDomain: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (TeamAnalyticsProjectPop);

/***/ }),

/***/ "./src/presenters/pop-overs/team-analytics-time-pop.jsx":
/*!**************************************************************!*\
  !*** ./src/presenters/pop-overs/team-analytics-time-pop.jsx ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _popover_with_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./popover-with-button */ "./src/presenters/pop-overs/popover-with-button.jsx");




var TimeFrameItem = function TimeFrameItem(_ref) {
  var selectTimeFrame = _ref.selectTimeFrame,
      isActive = _ref.isActive,
      timeFrame = _ref.timeFrame;
  var resultClass = "result button-unstyled";

  if (isActive) {
    resultClass += " active";
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button", {
    className: resultClass,
    onClick: selectTimeFrame
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "result-container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "result-name"
  }, timeFrame)));
};

TimeFrameItem.propTypes = {
  selectTimeFrame: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  isActive: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
  timeFrame: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
var timeFrames = ["Last 4 Weeks", "Last 2 Weeks", "Last 24 Hours"];

var TeamAnalyticsTimePop = function TeamAnalyticsTimePop(props) {
  var selectTimeFrame = function selectTimeFrame(timeFrame) {
    return function () {
      props.updateTimeFrame(timeFrame);
      props.togglePopover();
    };
  };

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("dialog", {
    className: "pop-over analytics-time-pop"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
    className: "pop-over-actions last-section results-list"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "results"
  }, timeFrames.map(function (timeFrame) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TimeFrameItem, {
      key: timeFrame,
      selectTimeFrame: selectTimeFrame(timeFrame),
      isActive: props.currentTimeFrame === timeFrame,
      timeFrame: timeFrame
    });
  }))));
};

TeamAnalyticsTimePop.propTypes = {
  updateTimeFrame: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  currentTimeFrame: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};

var TeamAnalyticsTimePopButton = function TeamAnalyticsTimePopButton(_ref2) {
  var updateTimeFrame = _ref2.updateTimeFrame,
      currentTimeFrame = _ref2.currentTimeFrame;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_popover_with_button__WEBPACK_IMPORTED_MODULE_2__["default"], {
    buttonClass: "button-small button-tertiary button-select",
    buttonText: react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", null, currentTimeFrame),
    passToggleToPop: true
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TeamAnalyticsTimePop, {
    updateTimeFrame: updateTimeFrame,
    currentTimeFrame: currentTimeFrame
  }));
};

TeamAnalyticsTimePopButton.propTypes = {
  updateTimeFrame: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  currentTimeFrame: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (TeamAnalyticsTimePopButton);

/***/ }),

/***/ "./src/presenters/pop-overs/team-user-info-pop.jsx":
/*!*********************************************************!*\
  !*** ./src/presenters/pop-overs/team-user-info-pop.jsx ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../models/user */ "./src/models/user.js");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _popover_nested_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./popover-nested.jsx */ "./src/presenters/pop-overs/popover-nested.jsx");
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../includes/link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _includes_thanks_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../includes/thanks.jsx */ "./src/presenters/includes/thanks.jsx");
/* harmony import */ var _team_user_remove_pop_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./team-user-remove-pop.jsx */ "./src/presenters/pop-overs/team-user-remove-pop.jsx");



function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }









var MEMBER_ACCESS_LEVEL = 20;
var ADMIN_ACCESS_LEVEL = 30; // Remove from Team 👋

var RemoveFromTeam = function RemoveFromTeam(props) {
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
    className: "pop-over-actions danger-zone"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_5__["TrackClick"], {
    name: "Remove from Team clicked"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", _extends({
    className: "button-small has-emoji button-tertiary button-on-secondary-background"
  }, props), "Remove from Team ", react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: "emoji wave",
    role: "img",
    "aria-label": ""
  }))));
}; // Admin Actions Section ⏫⏬


var AdminActions = function AdminActions(_ref) {
  var user = _ref.user,
      userIsTeamAdmin = _ref.userIsTeamAdmin,
      updateUserPermissions = _ref.updateUserPermissions;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
    className: "pop-over-actions admin-actions"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
    className: "action-description"
  }, "Admins can update team info, billing, and remove users"), userIsTeamAdmin ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_5__["TrackClick"], {
    name: "Remove Admin Status clicked"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    className: "button-small button-tertiary has-emoji",
    onClick: function onClick() {
      return updateUserPermissions(user.id, MEMBER_ACCESS_LEVEL);
    }
  }, "Remove Admin Status ", react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: "emoji fast-down"
  }))) : react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_5__["TrackClick"], {
    name: "Make an Admin clicked"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
    className: "button-small button-tertiary has-emoji",
    onClick: function onClick() {
      return updateUserPermissions(user.id, ADMIN_ACCESS_LEVEL);
    }
  }, "Make an Admin ", react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: "emoji fast-up"
  }))));
};

AdminActions.propTypes = {
  user: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.number.isRequired
  }).isRequired,
  userIsTeamAdmin: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool.isRequired,
  updateUserPermissions: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired
}; // Thanks 💖

var ThanksCount = function ThanksCount(_ref2) {
  var count = _ref2.count;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
    className: "pop-over-info"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_thanks_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
    count: count
  }));
}; // Team User Info 😍


var TeamUserInfo = function TeamUserInfo(_ref3) {
  var currentUser = _ref3.currentUser,
      showRemove = _ref3.showRemove,
      props = _objectWithoutProperties(_ref3, ["currentUser", "showRemove"]);

  var userAvatarStyle = {
    backgroundColor: props.user.color
  };
  var canRemoveUser = props.currentUserIsTeamAdmin || currentUser && currentUser.id === props.user.id;
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("dialog", {
    className: "pop-over team-user-info-pop"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("section", {
    className: "pop-over-info user-info"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_7__["UserLink"], {
    user: props.user
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
    className: "avatar",
    src: Object(_models_user__WEBPACK_IMPORTED_MODULE_4__["getAvatarThumbnailUrl"])(props.user),
    alt: props.user.login,
    style: userAvatarStyle
  })), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "info-container"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
    className: "name",
    title: props.user.name
  }, props.user.name || "Anonymous"), props.user.login && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
    className: "user-login",
    title: props.user.login
  }, "@", props.user.login), props.userIsTeamAdmin && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "status-badge"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: "status admin",
    "data-tooltip": "Can edit team info and billing"
  }, "Team Admin")))), props.user.thanksCount > 0 && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ThanksCount, {
    count: props.user.thanksCount
  }), props.currentUserIsTeamAdmin && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(AdminActions, {
    user: props.user,
    userIsTeamAdmin: props.userIsTeamAdmin,
    updateUserPermissions: props.updateUserPermissions
  }), canRemoveUser && !props.userIsTheOnlyMember && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(RemoveFromTeam, {
    onClick: showRemove
  }));
}; // Team User Remove 💣
// Team User Info or Remove
// uses removeTeamUserVisible state to toggle between showing user info and remove views


var TeamUserInfoAndRemovePop = function TeamUserInfoAndRemovePop(props) {
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_popover_nested_jsx__WEBPACK_IMPORTED_MODULE_6__["NestedPopover"], {
    alternateContent: function alternateContent() {
      return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_team_user_remove_pop_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], props);
    }
  }, function (showRemove) {
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(TeamUserInfo, _extends({}, props, {
      showRemove: showRemove
    }));
  });
};

TeamUserInfoAndRemovePop.propTypes = {
  user: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.shape({
    name: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,
    login: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,
    thanksCount: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.number.isRequired,
    color: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string
  }).isRequired,
  currentUserIsOnTeam: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool.isRequired,
  currentUserIsTeamAdmin: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool.isRequired,
  removeUserFromTeam: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,
  userIsTeamAdmin: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool.isRequired,
  userIsTheOnlyMember: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool.isRequired,
  api: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,
  teamId: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.number.isRequired,
  updateUserPermissions: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func.isRequired,
  team: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.shape({
    projects: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.array.isRequired
  })
};
TeamUserInfoAndRemovePop.defaultProps = {
  currentUserIsOnTeam: false
};
/* harmony default export */ __webpack_exports__["default"] = (TeamUserInfoAndRemovePop);

/***/ }),

/***/ "./src/presenters/pop-overs/team-user-remove-pop.jsx":
/*!***********************************************************!*\
  !*** ./src/presenters/pop-overs/team-user-remove-pop.jsx ***!
  \***********************************************************/
/*! exports provided: TeamUserRemovePop, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamUserRemovePop", function() { return TeamUserRemovePop; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es6_set__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es6.set */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.set.js");
/* harmony import */ var core_js_modules_es6_set__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_set__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _includes_loader_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../includes/loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _notifications_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../notifications.jsx */ "./src/presenters/notifications.jsx");
/* harmony import */ var _popover_nested_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./popover-nested.jsx */ "./src/presenters/pop-overs/popover-nested.jsx");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../models/user */ "./src/models/user.js");
/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../models/project */ "./src/models/project.js");







function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

/* global Set */









var TeamUserRemovePopBase =
/*#__PURE__*/
function (_React$Component) {
  _inherits(TeamUserRemovePopBase, _React$Component);

  function TeamUserRemovePopBase(props) {
    var _this;

    _classCallCheck(this, TeamUserRemovePopBase);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(TeamUserRemovePopBase).call(this, props));
    _this.state = {
      gettingUser: true,
      userTeamProjects: [],
      selectedProjects: new Set()
    };
    _this.selectAllProjects = _this.selectAllProjects.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.unselectAllProjects = _this.unselectAllProjects.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.handleCheckboxChange = _this.handleCheckboxChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    _this.removeUser = _this.removeUser.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(TeamUserRemovePopBase, [{
    key: "removeUser",
    value: function removeUser() {
      this.props.togglePopover();
      this.props.createNotification(`${Object(_models_user__WEBPACK_IMPORTED_MODULE_12__["getDisplayName"])(this.props.user)} removed from Team`);
      this.props.removeUserFromTeam(this.props.user.id, Array.from(this.state.selectedProjects));
    }
  }, {
    key: "selectAllProjects",
    value: function selectAllProjects() {
      this.setState(function (_ref) {
        var userTeamProjects = _ref.userTeamProjects;
        return {
          selectedProjects: new Set(userTeamProjects.map(function (p) {
            return p.id;
          }))
        };
      });
    }
  }, {
    key: "unselectAllProjects",
    value: function unselectAllProjects() {
      this.setState({
        selectedProjects: new Set()
      });
    }
  }, {
    key: "handleCheckboxChange",
    value: function handleCheckboxChange(evt) {
      var _evt$target = evt.target,
          checked = _evt$target.checked,
          value = _evt$target.value;
      this.setState(function (_ref2) {
        var selectedProjects = _ref2.selectedProjects;
        selectedProjects = new Set(selectedProjects);

        if (checked) {
          selectedProjects.add(value);
        } else {
          selectedProjects.delete(value);
        }

        return {
          selectedProjects: selectedProjects
        };
      });
    }
  }, {
    key: "getUserWithProjects",
    value: function () {
      var _getUserWithProjects = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var _this2 = this;

        var _ref3, data;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return this.props.api.get(`users/${this.props.user.id}`);

              case 2:
                _ref3 = _context.sent;
                data = _ref3.data;
                this.setState({
                  userTeamProjects: data.projects.filter(function (userProj) {
                    return _this2.props.team.projects.some(function (teamProj) {
                      return teamProj.id === userProj.id;
                    });
                  }),
                  gettingUser: false
                });

              case 5:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function getUserWithProjects() {
        return _getUserWithProjects.apply(this, arguments);
      }

      return getUserWithProjects;
    }()
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.getUserWithProjects();
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var allProjectsSelected = this.state.userTeamProjects.every(function (p) {
        return _this3.state.selectedProjects.has(p.id);
      });
      var userAvatarStyle = {
        backgroundColor: this.props.user.color
      };
      var projects = null;

      if (this.state.gettingUser) {
        projects = react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], null);
      } else if (this.state.userTeamProjects.length > 0) {
        projects = react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p", {
          className: "action-description"
        }, "Also remove them from these projects"), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
          className: "projects-list"
        }, this.state.userTeamProjects.map(function (project) {
          return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("label", {
            key: project.id,
            htmlFor: `remove-user-project-${project.id}`
          }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("input", {
            className: "checkbox-project",
            type: "checkbox",
            id: `remove-user-project-${project.id}`,
            checked: _this3.state.selectedProjects.has(project.id),
            value: project.id,
            onChange: _this3.handleCheckboxChange
          }), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("img", {
            className: "avatar",
            src: Object(_models_project__WEBPACK_IMPORTED_MODULE_13__["getAvatarUrl"])(project.id),
            alt: ""
          }), project.domain);
        })), this.state.userTeamProjects.length > 1 && react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button", {
          className: "button-small",
          onClick: allProjectsSelected ? this.unselectAllProjects : this.selectAllProjects
        }, allProjectsSelected ? 'Unselect All' : 'Select All'));
      }

      return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("dialog", {
        className: "pop-over team-user-info-pop team-user-remove-pop"
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_popover_nested_jsx__WEBPACK_IMPORTED_MODULE_11__["NestedPopoverTitle"], null, "Remove ", Object(_models_user__WEBPACK_IMPORTED_MODULE_12__["getDisplayName"])(this.props.user)), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("section", {
        className: "pop-over-actions",
        id: "user-team-projects"
      }, projects || react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p", {
        className: "action-description"
      }, Object(_models_user__WEBPACK_IMPORTED_MODULE_12__["getDisplayName"])(this.props.user), " is not a member of any projects")), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("section", {
        className: "pop-over-actions danger-zone"
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_8__["TrackClick"], {
        name: "Remove from Team submitted"
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button", {
        className: "button-small has-emoji",
        onClick: this.removeUser
      }, "Remove ", react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("img", {
        className: "emoji avatar",
        src: Object(_models_user__WEBPACK_IMPORTED_MODULE_12__["getAvatarThumbnailUrl"])(this.props.user),
        alt: this.props.user.login,
        style: userAvatarStyle
      })))));
    }
  }]);

  return TeamUserRemovePopBase;
}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);

TeamUserRemovePopBase.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
  user: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.shape({
    name: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,
    login: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string,
    thanksCount: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number.isRequired,
    isOnTeam: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool,
    color: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.string
  }).isRequired,
  team: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.shape({
    projects: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.array.isRequired
  }),
  removeUserFromTeam: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired,
  createNotification: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired
};
var TeamUserRemovePop = function TeamUserRemovePop(props) {
  return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_notifications_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], null, function (notifyFuncs) {
    return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(TeamUserRemovePopBase, _extends({}, notifyFuncs, props));
  });
};
/* harmony default export */ __webpack_exports__["default"] = (TeamUserRemovePop);

/***/ }),

/***/ "./src/presenters/pop-overs/user-options-pop.jsx":
/*!*******************************************************!*\
  !*** ./src/presenters/pop-overs/user-options-pop.jsx ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UserOptionsAndCreateTeamPopContainer; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var lodash_orderBy__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/orderBy */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/orderBy.js");
/* harmony import */ var lodash_orderBy__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_orderBy__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _models_team__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../models/team */ "./src/models/team.js");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../models/user */ "./src/models/user.js");
/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../analytics */ "./src/presenters/analytics.jsx");
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../includes/link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _popover_container_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./popover-container.jsx */ "./src/presenters/pop-overs/popover-container.jsx");
/* harmony import */ var _popover_nested_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./popover-nested.jsx */ "./src/presenters/pop-overs/popover-nested.jsx");
/* harmony import */ var _create_team_pop_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./create-team-pop.jsx */ "./src/presenters/pop-overs/create-team-pop.jsx");




function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }











// Create Team button
var CreateTeamButton = function CreateTeamButton(_ref) {
  var showCreateTeam = _ref.showCreateTeam,
      userIsAnon = _ref.userIsAnon;

  if (userIsAnon) {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_3___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", {
      className: "description action-description"
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      onClick: showCreateTeam,
      className: "button-unstyled link"
    }, "Sign in"), " to create teams"), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
      className: "button button-small has-emoji",
      disabled: true
    }, "Create Team ", react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
      className: "emoji herb"
    })));
  }

  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_analytics__WEBPACK_IMPORTED_MODULE_7__["TrackClick"], {
    name: "Create Team clicked"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
    onClick: showCreateTeam,
    className: "button button-small has-emoji"
  }, "Create Team ", react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "emoji herb"
  })));
};

CreateTeamButton.propTypes = {
  showCreateTeam: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  userIsAnon: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool.isRequired
}; // Team List

var TeamList = function TeamList(_ref2) {
  var teams = _ref2.teams,
      showCreateTeam = _ref2.showCreateTeam,
      userIsAnon = _ref2.userIsAnon;

  var orderedTeams = lodash_orderBy__WEBPACK_IMPORTED_MODULE_2___default()(teams, function (team) {
    return team.name.toLowerCase();
  });

  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
    className: "pop-over-actions"
  }, orderedTeams.map(function (team) {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
      className: "button-wrap",
      key: team.id
    }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_8__["TeamLink"], {
      key: team.id,
      team: team,
      className: "button button-small has-emoji button-tertiary"
    }, team.name, "\xA0", react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("img", {
      className: "emoji avatar",
      src: Object(_models_team__WEBPACK_IMPORTED_MODULE_5__["getAvatarUrl"])(_objectSpread({}, team, {
        size: 'small'
      })),
      alt: "",
      width: "16px",
      height: "16px"
    })));
  }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(CreateTeamButton, {
    showCreateTeam: showCreateTeam,
    userIsAnon: userIsAnon
  }));
};

TeamList.propTypes = {
  teams: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
    hasAvatarImage: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool.isRequired,
    id: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
    url: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired
  })),
  showCreateTeam: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  userIsAnon: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.bool.isRequired
}; // User Options 🧕

var UserOptionsPop = function UserOptionsPop(_ref3) {
  var togglePopover = _ref3.togglePopover,
      showCreateTeam = _ref3.showCreateTeam,
      user = _ref3.user,
      signOut = _ref3.signOut,
      showNewStuffOverlay = _ref3.showNewStuffOverlay;

  var clickNewStuff = function clickNewStuff(event) {
    togglePopover();
    showNewStuffOverlay();
    event.stopPropagation();
  };

  var clickSignout = function clickSignout() {
    if (!user.login) {
      if (!window.confirm(`You won't be able to sign back in under this same anonymous account.
Are you sure you want to sign out?`)) {
        return;
      }
    }

    togglePopover();
    /* global analytics */

    analytics.track("Logout");
    analytics.reset();
    signOut();
  };

  var userName = user.name || "Anonymous";
  var userAvatarStyle = {
    backgroundColor: user.color
  };
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("dialog", {
    className: "pop-over user-options-pop"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_8__["UserLink"], {
    user: user,
    className: "user-info"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
    className: "pop-over-actions user-info"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("img", {
    className: "avatar",
    src: Object(_models_user__WEBPACK_IMPORTED_MODULE_6__["getAvatarThumbnailUrl"])(user),
    alt: "Your avatar",
    style: userAvatarStyle
  }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
    className: "info-container"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", {
    className: "name",
    title: userName
  }, userName), user.login && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p", {
    className: "user-login",
    title: user.login
  }, "@", user.login)))), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(TeamList, {
    teams: user.teams,
    showCreateTeam: showCreateTeam,
    userIsAnon: !user.login
  }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("section", {
    className: "pop-over-info"
  }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
    onClick: clickNewStuff,
    className: "button-small has-emoji button-tertiary button-on-secondary-background"
  }, "New Stuff ", react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "emoji dog-face"
  })), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_8__["Link"], {
    to: "https://support.glitch.com",
    className: "button button-small has-emoji button-tertiary button-on-secondary-background"
  }, "Support ", react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "emoji ambulance"
  })), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
    onClick: clickSignout,
    className: "button-small has-emoji button-tertiary button-on-secondary-background"
  }, "Sign Out ", react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
    className: "emoji balloon"
  }))));
};

UserOptionsPop.propTypes = {
  togglePopover: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  showCreateTeam: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  user: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.object.isRequired,
  signOut: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired,
  showNewStuffOverlay: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired
};

var CheckForCreateTeamHash =
/*#__PURE__*/
function (_React$Component) {
  _inherits(CheckForCreateTeamHash, _React$Component);

  function CheckForCreateTeamHash(props) {
    var _this;

    _classCallCheck(this, CheckForCreateTeamHash);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(CheckForCreateTeamHash).call(this, props));
    _this.state = {
      active: window.location.hash === '#create-team'
    };
    return _this;
  }

  _createClass(CheckForCreateTeamHash, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.setState({
        active: false
      });
    }
  }, {
    key: "render",
    value: function render() {
      return this.props.children(this.state.active);
    }
  }]);

  return CheckForCreateTeamHash;
}(react__WEBPACK_IMPORTED_MODULE_3___default.a.Component); // Header button and init pop


function UserOptionsAndCreateTeamPopContainer(props) {
  var avatarUrl = Object(_models_user__WEBPACK_IMPORTED_MODULE_6__["getAvatarThumbnailUrl"])(props.user);
  var avatarStyle = {
    backgroundColor: props.user.color
  };
  return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(CheckForCreateTeamHash, null, function (createTeamOpen) {
    return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_popover_container_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], {
      startOpen: createTeamOpen
    }, function (_ref4) {
      var togglePopover = _ref4.togglePopover,
          visible = _ref4.visible;
      return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div", {
        className: "button user-options-pop-button",
        "data-tooltip": "User options",
        "data-tooltip-right": "true"
      }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("button", {
        className: "user",
        onClick: togglePopover,
        disabled: !props.user.id
      }, react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("img", {
        className: "user-avatar",
        src: avatarUrl,
        style: avatarStyle,
        width: "30px",
        height: "30px",
        alt: "User options"
      }), react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("span", {
        className: "down-arrow icon"
      })), visible && react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_popover_nested_jsx__WEBPACK_IMPORTED_MODULE_10__["NestedPopover"], {
        alternateContent: function alternateContent() {
          return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_create_team_pop_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], props);
        },
        startAlternateVisible: createTeamOpen
      }, function (showCreateTeam) {
        return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(UserOptionsPop, _extends({}, props, {
          togglePopover: togglePopover,
          showCreateTeam: showCreateTeam
        }));
      }));
    });
  });
}
UserOptionsAndCreateTeamPopContainer.propTypes = {
  user: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.shape({
    avatarThumbnailUrl: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,
    color: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string.isRequired,
    id: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.number.isRequired,
    login: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.string,
    teams: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.array.isRequired
  }).isRequired,
  api: prop_types__WEBPACK_IMPORTED_MODULE_4___default.a.func.isRequired
};

/***/ }),

/***/ "./src/presenters/project-editor.jsx":
/*!*******************************************!*\
  !*** ./src/presenters/project-editor.jsx ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _error_handlers_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./error-handlers.jsx */ "./src/presenters/error-handlers.jsx");





function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }






var ProjectEditor =
/*#__PURE__*/
function (_React$Component) {
  _inherits(ProjectEditor, _React$Component);

  function ProjectEditor(props) {
    var _this;

    _classCallCheck(this, ProjectEditor);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProjectEditor).call(this, props));
    _this.state = _objectSpread({}, props.initialProject);
    return _this;
  }

  _createClass(ProjectEditor, [{
    key: "userIsMember",
    value: function userIsMember() {
      if (!this.props.currentUser) return false;
      var currentUserId = this.props.currentUser.id;
      return this.state.users.some(function (_ref) {
        var id = _ref.id;
        return currentUserId === id;
      });
    }
  }, {
    key: "updateFields",
    value: function () {
      var _updateFields = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(changes) {
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return this.props.api.patch(`projects/${this.state.id}`, changes);

              case 2:
                this.setState(changes);

              case 3:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function updateFields(_x) {
        return _updateFields.apply(this, arguments);
      }

      return updateFields;
    }()
  }, {
    key: "addProjectToCollection",
    value: function () {
      var _addProjectToCollection = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2(project, collection) {
        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return this.props.api.patch(`collections/${collection.id}/add/${project.id}`);

              case 2:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function addProjectToCollection(_x2, _x3) {
        return _addProjectToCollection.apply(this, arguments);
      }

      return addProjectToCollection;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          handleError = _this$props.handleError,
          handleErrorForInput = _this$props.handleErrorForInput;
      var funcs = {
        addProjectToCollection: function addProjectToCollection(project, collection) {
          return _this2.addProjectToCollection(project, collection).catch(handleError);
        },
        updateDomain: function updateDomain(domain) {
          return _this2.updateFields({
            domain: domain
          }).catch(handleErrorForInput);
        },
        updateDescription: function updateDescription(description) {
          return _this2.updateFields({
            description: description
          }).catch(handleError);
        },
        updatePrivate: function updatePrivate(isPrivate) {
          return _this2.updateFields({
            private: isPrivate
          }).catch(handleError);
        }
      };
      return this.props.children(this.state, funcs, this.userIsMember());
    }
  }]);

  return ProjectEditor;
}(react__WEBPACK_IMPORTED_MODULE_4___default.a.Component);

ProjectEditor.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object,
  handleError: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  handleErrorForInput: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  initialProject: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired
};

var ProjectEditorContainer = function ProjectEditorContainer(_ref2) {
  var api = _ref2.api,
      children = _ref2.children,
      initialProject = _ref2.initialProject;
  return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_error_handlers_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], null, function (wrapErrors) {
    return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_6__["CurrentUserConsumer"], null, function (currentUser) {
      return react__WEBPACK_IMPORTED_MODULE_4___default.a.createElement(ProjectEditor, _extends({
        api: api,
        currentUser: currentUser,
        initialProject: initialProject
      }, wrapErrors), children);
    });
  });
};

ProjectEditorContainer.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.any.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.func.isRequired,
  initialProject: prop_types__WEBPACK_IMPORTED_MODULE_5___default.a.object.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (ProjectEditorContainer);

/***/ }),

/***/ "./src/presenters/project-item.jsx":
/*!*****************************************!*\
  !*** ./src/presenters/project-item.jsx ***!
  \*****************************************/
/*! exports provided: ProjectItem, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectItem", function() { return ProjectItem; });
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _models_project_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../models/project.js */ "./src/models/project.js");
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./includes/link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _includes_markdown_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./includes/markdown.jsx */ "./src/presenters/includes/markdown.jsx");
/* harmony import */ var _pop_overs_project_options_pop_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pop-overs/project-options-pop.jsx */ "./src/presenters/pop-overs/project-options-pop.jsx");
/* harmony import */ var _users_list_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./users-list.jsx */ "./src/presenters/users-list.jsx");
/* harmony import */ var _models_collection_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../models/collection.js */ "./src/models/collection.js");



function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }









var ProjectItem = function ProjectItem(_ref) {
  var api = _ref.api,
      project = _ref.project,
      collectionColor = _ref.collectionColor,
      homepageCollection = _ref.homepageCollection,
      props = _objectWithoutProperties(_ref, ["api", "project", "collectionColor", "homepageCollection"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("li", null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_users_list_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
    glitchTeam: project.showAsGlitchTeam,
    users: project.users,
    extraClass: "single-line",
    teams: project.teams
  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_pop_overs_project_options_pop_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], _extends({
    project: project,
    api: api
  }, props)), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_5__["ProjectLink"], {
    project: project,
    className: "button-area"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: ['project', project.private ? 'private-project' : ''].join(' '),
    style: project.private ? {} : {
      backgroundColor: collectionColor,
      borderBottomColor: collectionColor
    },
    "data-track": "project",
    "data-track-label": project.domain
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "project-container"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
    className: "avatar",
    src: Object(_models_project_js__WEBPACK_IMPORTED_MODULE_4__["getAvatarUrl"])(project.id),
    alt: `${project.domain} avatar`
  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "button"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("span", {
    className: "project-badge private-project-badge",
    "aria-label": "private"
  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "project-name"
  }, project.domain)), homepageCollection ? react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "description"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_markdown_jsx__WEBPACK_IMPORTED_MODULE_6__["TruncatedMarkdown"], {
    length: 80
  }, project.description)) : react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "description",
    style: project.private ? {} : {
      color: props.category ? "black" : collectionColor ? Object(_models_collection_js__WEBPACK_IMPORTED_MODULE_9__["getContrastTextColor"])(collectionColor) : "black"
    }
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_markdown_jsx__WEBPACK_IMPORTED_MODULE_6__["TruncatedMarkdown"], {
    length: 80
  }, project.description)), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "overflow-mask",
    style: project.private ? {} : {
      backgroundColor: collectionColor
    }
  })))));
};
ProjectItem.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.func,
  category: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object,
  project: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.shape({
    description: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
    domain: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
    id: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string.isRequired,
    private: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool.isRequired,
    showAsGlitchTeam: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool.isRequired,
    users: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.array.isRequired,
    teams: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.array
  }).isRequired,
  collectionColor: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,
  homepageCollection: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,
  projectOptions: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.object
};
/* harmony default export */ __webpack_exports__["default"] = (ProjectItem);

/***/ }),

/***/ "./src/presenters/projects-list.jsx":
/*!******************************************!*\
  !*** ./src/presenters/projects-list.jsx ***!
  \******************************************/
/*! exports provided: ProjectsList, ProjectsUL, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectsList", function() { return ProjectsList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ProjectsUL", function() { return ProjectsUL; });
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _project_item_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./project-item.jsx */ "./src/presenters/project-item.jsx");
/* harmony import */ var _includes_link__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./includes/link */ "./src/presenters/includes/link.jsx");



function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }

function _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }





var ProjectsList = function ProjectsList(_ref) {
  var title = _ref.title,
      placeholder = _ref.placeholder,
      extraClasses = _ref.extraClasses,
      props = _objectWithoutProperties(_ref, ["title", "placeholder", "extraClasses"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("article", {
    className: "projects " + extraClasses
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h2", null, title), !!(placeholder && !props.projects.length) && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "placeholder"
  }, placeholder), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ExpandyProjects, props));
};
ProjectsList.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.any,
  projects: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.array.isRequired,
  title: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.node.isRequired,
  placeholder: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.node,
  extraClasses: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string
};

var ExpandyProjects =
/*#__PURE__*/
function (_React$Component) {
  _inherits(ExpandyProjects, _React$Component);

  function ExpandyProjects(props) {
    var _this;

    _classCallCheck(this, ExpandyProjects);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(ExpandyProjects).call(this, props));
    _this.state = {
      expanded: false
    };
    _this.handleClick = _this.handleClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));
    return _this;
  }

  _createClass(ExpandyProjects, [{
    key: "handleClick",
    value: function handleClick() {
      this.setState({
        expanded: true
      });
    }
  }, {
    key: "render",
    value: function render() {
      var maxProjects = this.props.maxCollapsedProjects;
      var totalProjects = this.props.projects.length;
      var hiddenProjects = totalProjects - maxProjects;

      var _this$props = this.props,
          projects = _this$props.projects,
          props = _objectWithoutProperties(_this$props, ["projects"]);

      var shouldShowButton = false;

      if (!this.state.expanded) {
        shouldShowButton = hiddenProjects > 0;
        projects = projects.slice(0, maxProjects);
      }

      return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(ProjectsUL, _extends({
        projects: projects
      }, props)), shouldShowButton && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("button", {
        className: "button-tertiary",
        onClick: this.handleClick
      }, "Show ", hiddenProjects, " More"));
    }
  }]);

  return ExpandyProjects;
}(react__WEBPACK_IMPORTED_MODULE_2___default.a.Component);

ExpandyProjects.propTypes = {
  projects: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.array.isRequired,
  maxCollapsedProjects: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.number
};
ExpandyProjects.defaultProps = {
  maxCollapsedProjects: 12
};
var ProjectsUL = function ProjectsUL(_ref2) {
  var projectCount = _ref2.projectCount,
      collectionUrl = _ref2.collectionUrl,
      props = _objectWithoutProperties(_ref2, ["projectCount", "collectionUrl"]);

  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("ul", {
    className: "projects-container"
  }, props.projects.map(function (project) {
    return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_project_item_jsx__WEBPACK_IMPORTED_MODULE_4__["default"], _extends({
      key: project.id
    }, {
      project: project
    }, props));
  }), props.homepageCollection && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_link__WEBPACK_IMPORTED_MODULE_5__["default"], {
    to: collectionUrl,
    className: "collection-view-all"
  }, "View all ", projectCount, " projects \u2192"));
};
ProjectsUL.propTypes = {
  projects: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.array.isRequired,
  homepageCollection: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.bool,
  collectionUrl: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.string,
  projectCount: prop_types__WEBPACK_IMPORTED_MODULE_3___default.a.number
};
/* harmony default export */ __webpack_exports__["default"] = (ProjectsList);

/***/ }),

/***/ "./src/presenters/projects-loader.jsx":
/*!********************************************!*\
  !*** ./src/presenters/projects-loader.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.regexp.to-string */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.to-string.js");
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es7.array.includes */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.array.includes.js");
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_chunk__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/chunk */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/chunk.js");
/* harmony import */ var lodash_chunk__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_chunk__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./current-user.jsx */ "./src/presenters/current-user.jsx");










function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }





function listToObject(list, val) {
  return list.reduce(function (data, key) {
    return _objectSpread({}, data, _defineProperty({}, key, val));
  }, {});
}

function keyByVal(list, key) {
  return list.reduce(function (data, val) {
    return _objectSpread({}, data, _defineProperty({}, val[key], val));
  }, {});
}

var ProjectsLoader =
/*#__PURE__*/
function (_React$Component) {
  _inherits(ProjectsLoader, _React$Component);

  function ProjectsLoader(props) {
    var _this;

    _classCallCheck(this, ProjectsLoader);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProjectsLoader).call(this, props)); // state is { [project id]: project|null|undefined }
    // undefined means we haven't seen that project yet
    // null means the project is still getting loaded

    _this.state = {};
    return _this;
  }

  _createClass(ProjectsLoader, [{
    key: "loadProjects",
    value: function () {
      var _loadProjects = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var _len,
            ids,
            _key,
            _ref,
            data,
            _args = arguments;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                for (_len = _args.length, ids = new Array(_len), _key = 0; _key < _len; _key++) {
                  ids[_key] = _args[_key];
                }

                if (ids.length) {
                  _context.next = 3;
                  break;
                }

                return _context.abrupt("return");

              case 3:
                _context.next = 5;
                return this.props.api.get(`projects/byIds?ids=${ids.join(',')}`);

              case 5:
                _ref = _context.sent;
                data = _ref.data;
                this.setState(keyByVal(data, 'id'));

              case 8:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function loadProjects() {
        return _loadProjects.apply(this, arguments);
      }

      return loadProjects;
    }()
  }, {
    key: "ensureProjects",
    value: function ensureProjects(projects) {
      var _this2 = this;

      var ids = projects.map(function (_ref2) {
        var id = _ref2.id;
        return id;
      });
      var discardedProjects = Object.keys(this.state).filter(function (id) {
        return _this2.state[id] && !ids.includes(id);
      });

      if (discardedProjects.length) {
        this.setState(listToObject(discardedProjects, undefined));
      }

      var unloadedProjects = ids.filter(function (id) {
        return _this2.state[id] === undefined;
      });

      if (unloadedProjects.length) {
        this.setState(listToObject(unloadedProjects, null));

        lodash_chunk__WEBPACK_IMPORTED_MODULE_8___default()(unloadedProjects, 100).forEach(function (chunk) {
          return _this2.loadProjects.apply(_this2, _toConsumableArray(chunk));
        });
      }
    }
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.ensureProjects(this.props.projects);
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this.ensureProjects(this.props.projects);
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      var _this$props = this.props,
          children = _this$props.children,
          projects = _this$props.projects;
      var loadedProjects = projects.map(function (project) {
        return _this3.state[project.id] || project;
      });
      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_11__["CurrentUserConsumer"], null, function (currentUser) {
        return children(Object(_current_user_jsx__WEBPACK_IMPORTED_MODULE_11__["normalizeProjects"])(loadedProjects, currentUser), _this3.loadProjects.bind(_this3));
      });
    }
  }]);

  return ProjectsLoader;
}(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component);

ProjectsLoader.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.any.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  projects: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.array.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (ProjectsLoader);

/***/ }),

/***/ "./src/presenters/question-item.jsx":
/*!******************************************!*\
  !*** ./src/presenters/question-item.jsx ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/project */ "./src/models/project.js");
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./includes/link.jsx */ "./src/presenters/includes/link.jsx");




var iconHelp = 'https://cdn.glitch.com/f7224274-1330-4022-a8f2-8ae09dbd68a8%2Fask-for-help.svg?1494954687906';

function truncateQuestion(question) {
  var max = 140;

  if (question.length > max) {
    return question.substring(0, max - 1) + '…';
  }

  return question;
}

function truncateTag(tag) {
  var max = 15;
  return tag.substring(0, max);
}

var QuestionItem = function QuestionItem(_ref) {
  var colorOuter = _ref.colorOuter,
      colorInner = _ref.colorInner,
      domain = _ref.domain,
      question = _ref.question,
      tags = _ref.tags,
      userAvatar = _ref.userAvatar,
      userColor = _ref.userColor,
      userLogin = _ref.userLogin,
      path = _ref.path,
      line = _ref.line,
      character = _ref.character;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    className: "help-icon",
    src: iconHelp,
    alt: ""
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_3__["default"], {
    to: Object(_models_project__WEBPACK_IMPORTED_MODULE_2__["getEditorUrl"])(domain, path, line, character),
    "data-track": "question",
    "data-track-label": domain
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "project",
    style: {
      backgroundColor: colorOuter
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "project-container",
    style: {
      backgroundColor: colorInner
    }
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("img", {
    className: "avatar",
    src: userAvatar,
    style: {
      backgroundColor: userColor
    },
    alt: ""
  }), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "button"
  }, "Help ", userLogin), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "description question",
    title: question
  }, truncateQuestion(question)), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "description tags"
  }, tags.map(function (tag) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
      key: tag,
      className: "tag",
      title: tag
    }, truncateTag(tag));
  }))))));
};

QuestionItem.propTypes = {
  colorOuter: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  colorInner: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  domain: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  question: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  tags: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired).isRequired,
  userAvatar: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  userColor: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  userLogin: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
  path: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  line: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number,
  character: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number
};
/* harmony default export */ __webpack_exports__["default"] = (QuestionItem);

/***/ }),

/***/ "./src/presenters/questions.jsx":
/*!**************************************!*\
  !*** ./src/presenters/questions.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_sample__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/sample */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/sample.js");
/* harmony import */ var lodash_sample__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_sample__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var randomcolor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! randomcolor */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/randomcolor/0.5.3/node_modules/randomcolor/randomColor.js");
/* harmony import */ var randomcolor__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(randomcolor__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _includes_error_boundary_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./includes/error-boundary.jsx */ "./src/presenters/includes/error-boundary.jsx");
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./includes/link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _question_item_jsx__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./question-item.jsx */ "./src/presenters/question-item.jsx");
/* harmony import */ var _utils_sentry__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/sentry */ "./src/utils/sentry.js");







function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }








var kaomojis = ['八(＾□＾*)', '(ノ^_^)ノ', 'ヽ(*ﾟｰﾟ*)ﾉ', '♪(┌・。・)┌', 'ヽ(๏∀๏ )ﾉ', 'ヽ(^。^)丿'];

var QuestionTimer = function QuestionTimer(_ref) {
  var animating = _ref.animating,
      callback = _ref.callback;
  return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "loader-pie",
    title: "Looking for more questions..."
  }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "left-side"
  }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: `slice ${animating ? 'animated' : ''}`,
    onAnimationEnd: callback
  })), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: "right-side"
  }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", {
    className: `slice ${animating ? 'animated' : ''}`
  })));
};

QuestionTimer.propTypes = {
  animating: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.bool.isRequired,
  callback: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.func.isRequired
};

var Questions =
/*#__PURE__*/
function (_React$Component) {
  _inherits(Questions, _React$Component);

  function Questions(props) {
    var _this;

    _classCallCheck(this, Questions);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(Questions).call(this, props));
    _this.state = {
      kaomoji: '',
      loading: true,
      questions: []
    };
    return _this;
  }

  _createClass(Questions, [{
    key: "load",
    value: function () {
      var _load = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var _ref2, data, questions;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                this.setState({
                  loading: true
                });
                _context.prev = 1;
                _context.next = 4;
                return this.props.api.get('projects/questions');

              case 4:
                _ref2 = _context.sent;
                data = _ref2.data;
                questions = data.map(function (q) {
                  return JSON.parse(q.details);
                }).filter(function (q) {
                  return !!q;
                }).slice(0, this.props.max).map(function (question) {
                  var _randomColor = randomcolor__WEBPACK_IMPORTED_MODULE_8___default()({
                    luminosity: 'light',
                    count: 2
                  }),
                      _randomColor2 = _slicedToArray(_randomColor, 2),
                      colorInner = _randomColor2[0],
                      colorOuter = _randomColor2[1];

                  return _objectSpread({
                    colorInner: colorInner,
                    colorOuter: colorOuter
                  }, question);
                });
                this.setState({
                  kaomoji: lodash_sample__WEBPACK_IMPORTED_MODULE_5___default()(kaomojis),
                  questions: questions
                });
                _context.next = 14;
                break;

              case 10:
                _context.prev = 10;
                _context.t0 = _context["catch"](1);
                console.error(_context.t0);
                Object(_utils_sentry__WEBPACK_IMPORTED_MODULE_12__["captureException"])(_context.t0);

              case 14:
                this.setState({
                  loading: false
                });

              case 15:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this, [[1, 10]]);
      }));

      function load() {
        return _load.apply(this, arguments);
      }

      return load;
    }()
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.load();
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$state = this.state,
          kaomoji = _this$state.kaomoji,
          loading = _this$state.loading,
          questions = _this$state.questions;
      return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("section", {
        className: "questions"
      }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h2", null, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
        to: "/questions"
      }, "Help Others, Get Thanks \u2192"), ' ', react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(QuestionTimer, {
        animating: !loading,
        callback: function callback() {
          return _this2.load();
        }
      })), react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("article", {
        className: "projects"
      }, questions.length ? react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_error_boundary_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], null, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("ul", {
        className: "projects-container"
      }, questions.map(function (question) {
        return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("li", {
          key: question.questionId
        }, react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_question_item_jsx__WEBPACK_IMPORTED_MODULE_11__["default"], question));
      }))) : react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, kaomoji, " Looks like nobody is asking for help right now.", ' ', react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_10__["default"], {
        className: "general-link",
        to: "/help/how-can-i-get-help-with-code-in-my-project/"
      }, "Learn about helping"))));
    }
  }]);

  return Questions;
}(react__WEBPACK_IMPORTED_MODULE_6___default.a.Component);

Questions.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.any.isRequired,
  max: prop_types__WEBPACK_IMPORTED_MODULE_7___default.a.number
};
Questions.defaultProps = {
  max: 3
};
/* harmony default export */ __webpack_exports__["default"] = (Questions);

/***/ }),

/***/ "./src/presenters/random-categories.jsx":
/*!**********************************************!*\
  !*** ./src/presenters/random-categories.jsx ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_sampleSize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/sampleSize */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/lodash/4.17.11/node_modules/lodash/sampleSize.js");
/* harmony import */ var lodash_sampleSize__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_sampleSize__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./includes/link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _projects_list_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./projects-list.jsx */ "./src/presenters/projects-list.jsx");






function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }






var Category = function Category(_ref) {
  var category = _ref.category,
      projectCount = _ref.projectCount;
  var ulProps = {
    projects: category.projects || [],
    categoryColor: category.color,
    homepageCollection: true,
    collectionUrl: category.url
  };
  return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("article", {
    className: "projects",
    style: {
      backgroundColor: category.backgroundColor
    }
  }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("header", {
    className: "category"
  }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
    className: "category-name",
    to: category.url
  }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("h2", null, category.name)), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("span", {
    className: "category-image-container"
  }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
    className: "category-image",
    to: category.url
  }, react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("img", {
    height: "80px",
    width: "120px",
    src: category.avatarUrl,
    alt: category.name
  }))), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement("p", {
    className: "category-description"
  }, category.description)), react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(_projects_list_jsx__WEBPACK_IMPORTED_MODULE_8__["ProjectsUL"], _extends({}, ulProps, {
    projectCount: projectCount,
    collectionColor: category.color
  })));
};

Category.propTypes = {
  category: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.shape({
    avatarUrl: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.string.isRequired,
    backgroundColor: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.string.isRequired,
    description: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.string.isRequired,
    url: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.string.isRequired
  }).isRequired
};

var CategoryLoader =
/*#__PURE__*/
function (_React$Component) {
  _inherits(CategoryLoader, _React$Component);

  function CategoryLoader(props) {
    var _this;

    _classCallCheck(this, CategoryLoader);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(CategoryLoader).call(this, props));
    _this.state = {
      categories: [],
      categoriesProjectCount: {}
    };
    return _this;
  }

  _createClass(CategoryLoader, [{
    key: "componentDidMount",
    value: function () {
      var _componentDidMount = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2() {
        var _this2 = this;

        var _ref2, data, categoriesWithProjects, categories;

        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return this.props.api.get('categories/random?numCategories=3');

              case 2:
                _ref2 = _context2.sent;
                data = _ref2.data;
                categoriesWithProjects = data.filter(function (category) {
                  return !!category.projects;
                });
                categories = lodash_sampleSize__WEBPACK_IMPORTED_MODULE_4___default()(categoriesWithProjects, 3);
                this.setState({
                  categories: categories
                }); // Now load each category to see how many projects it has

                categories.forEach(
                /*#__PURE__*/
                function () {
                  var _ref4 = _asyncToGenerator(
                  /*#__PURE__*/
                  regeneratorRuntime.mark(function _callee(_ref3) {
                    var id, _ref5, data;

                    return regeneratorRuntime.wrap(function _callee$(_context) {
                      while (1) {
                        switch (_context.prev = _context.next) {
                          case 0:
                            id = _ref3.id;
                            _context.next = 3;
                            return _this2.props.api.get(`categories/${id}`);

                          case 3:
                            _ref5 = _context.sent;
                            data = _ref5.data;

                            _this2.setState(function (prevState) {
                              return {
                                categoriesProjectCount: _objectSpread({}, prevState.categoriesProjectCount, _defineProperty({}, id, data.projects.length))
                              };
                            });

                          case 6:
                          case "end":
                            return _context.stop();
                        }
                      }
                    }, _callee, this);
                  }));

                  return function (_x) {
                    return _ref4.apply(this, arguments);
                  };
                }());

              case 8:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function componentDidMount() {
        return _componentDidMount.apply(this, arguments);
      }

      return componentDidMount;
    }()
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;

      return this.state.categories.map(function (category) {
        return react__WEBPACK_IMPORTED_MODULE_5___default.a.createElement(Category, {
          key: category.id,
          category: category,
          projectCount: _this3.state.categoriesProjectCount[category.id]
        });
      });
    }
  }]);

  return CategoryLoader;
}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component);

CategoryLoader.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_6___default.a.any.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (CategoryLoader);

/***/ }),

/***/ "./src/presenters/recent-projects.jsx":
/*!********************************************!*\
  !*** ./src/presenters/recent-projects.jsx ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/user */ "./src/models/user.js");
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./includes/link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _includes_profile_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./includes/profile.jsx */ "./src/presenters/includes/profile.jsx");
/* harmony import */ var _includes_loader_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./includes/loader.jsx */ "./src/presenters/includes/loader.jsx");
/* harmony import */ var _projects_loader_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./projects-loader.jsx */ "./src/presenters/projects-loader.jsx");
/* harmony import */ var _projects_list_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./projects-list.jsx */ "./src/presenters/projects-list.jsx");
/* harmony import */ var _pop_overs_sign_in_pop_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pop-overs/sign-in-pop.jsx */ "./src/presenters/pop-overs/sign-in-pop.jsx");











var RecentProjectsContainer = function RecentProjectsContainer(_ref) {
  var children = _ref.children,
      user = _ref.user,
      api = _ref.api;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("section", {
    className: "profile recent-projects"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_4__["UserLink"], {
    user: user
  }, "Your Projects \u2192")), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_profile_jsx__WEBPACK_IMPORTED_MODULE_5__["CoverContainer"], {
    style: Object(_models_user__WEBPACK_IMPORTED_MODULE_2__["getProfileStyle"])(user)
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "profile-avatar"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "user-avatar-container"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_4__["UserLink"], {
    user: user
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: `user-avatar ${!user.login ? 'anon-user-avatar' : ''}`,
    style: Object(_models_user__WEBPACK_IMPORTED_MODULE_2__["getAvatarStyle"])(user),
    alt: ""
  })), !user.login && react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", {
    className: "anon-user-sign-up"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_pop_overs_sign_in_pop_jsx__WEBPACK_IMPORTED_MODULE_9__["default"], {
    api: api
  })))), react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("article", {
    className: "projects"
  }, children)));
};

RecentProjectsContainer.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  user: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    avatarUrl: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    color: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    coverColor: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    hasCoverImage: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    login: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
  }).isRequired
};

var RecentProjects = function RecentProjects(_ref2) {
  var api = _ref2.api;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_3__["CurrentUserConsumer"], null, function (user, fetched) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(RecentProjectsContainer, {
      user: user,
      api: api
    }, fetched ? react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_projects_loader_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
      api: api,
      projects: user.projects.slice(0, 3)
    }, function (projects) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_projects_list_jsx__WEBPACK_IMPORTED_MODULE_8__["ProjectsUL"], {
        projects: projects
      });
    }) : react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_loader_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], null));
  });
};

RecentProjects.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (RecentProjects);

/***/ }),

/***/ "./src/presenters/team-editor.jsx":
/*!****************************************!*\
  !*** ./src/presenters/team-editor.jsx ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.regexp.to-string */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.to-string.js");
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es7.array.includes */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.array.includes.js");
/* harmony import */ var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/modules/es6.array.find-index */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.find-index.js");
/* harmony import */ var core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _utils_assets__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../utils/assets */ "./src/utils/assets.js");
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _error_handlers_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./error-handlers.jsx */ "./src/presenters/error-handlers.jsx");
/* harmony import */ var _includes_uploader_jsx__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./includes/uploader.jsx */ "./src/presenters/includes/uploader.jsx");
/* harmony import */ var _notifications_jsx__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./notifications.jsx */ "./src/presenters/notifications.jsx");











function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }








var MEMBER_ACCESS_LEVEL = 20;
var ADMIN_ACCESS_LEVEL = 30;

var TeamEditor =
/*#__PURE__*/
function (_React$Component) {
  _inherits(TeamEditor, _React$Component);

  function TeamEditor(props) {
    var _this;

    _classCallCheck(this, TeamEditor);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(TeamEditor).call(this, props));
    _this.state = _objectSpread({}, props.initialTeam, {
      _cacheAvatar: Date.now(),
      _cacheCover: Date.now()
    });
    return _this;
  }

  _createClass(TeamEditor, [{
    key: "currentUserIsOnTeam",
    value: function currentUserIsOnTeam() {
      if (!this.props.currentUser) return false;
      var currentUserId = this.props.currentUser.id;
      return this.state.users.some(function (_ref) {
        var id = _ref.id;
        return currentUserId === id;
      });
    }
  }, {
    key: "updateFields",
    value: function () {
      var _updateFields = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(changes) {
        var _this2 = this;

        var _ref2, data, teamIndex, teams;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return this.props.api.patch(`teams/${this.state.id}`, changes);

              case 2:
                _ref2 = _context.sent;
                data = _ref2.data;
                this.setState(data);

                if (this.props.currentUser) {
                  teamIndex = this.props.currentUser.teams.findIndex(function (_ref3) {
                    var id = _ref3.id;
                    return id === _this2.state.id;
                  });

                  if (teamIndex >= 0) {
                    teams = _toConsumableArray(this.props.currentUser.teams);
                    teams[teamIndex] = this.state;
                    this.props.updateCurrentUser({
                      teams: teams
                    });
                  }
                }

              case 6:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function updateFields(_x) {
        return _updateFields.apply(this, arguments);
      }

      return updateFields;
    }()
  }, {
    key: "uploadAvatar",
    value: function () {
      var _uploadAvatar = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2(blob) {
        var _ref4, policy, image, color;

        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return _utils_assets__WEBPACK_IMPORTED_MODULE_12__["getTeamAvatarImagePolicy"](this.props.api, this.state.id);

              case 2:
                _ref4 = _context2.sent;
                policy = _ref4.data;
                _context2.next = 6;
                return this.props.uploadAssetSizes(blob, policy, _utils_assets__WEBPACK_IMPORTED_MODULE_12__["AVATAR_SIZES"]);

              case 6:
                _context2.next = 8;
                return _utils_assets__WEBPACK_IMPORTED_MODULE_12__["blobToImage"](blob);

              case 8:
                image = _context2.sent;
                color = _utils_assets__WEBPACK_IMPORTED_MODULE_12__["getDominantColor"](image);
                _context2.next = 12;
                return this.updateFields({
                  hasAvatarImage: true,
                  backgroundColor: color
                });

              case 12:
                this.setState({
                  _cacheAvatar: Date.now()
                });

              case 13:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function uploadAvatar(_x2) {
        return _uploadAvatar.apply(this, arguments);
      }

      return uploadAvatar;
    }()
  }, {
    key: "uploadCover",
    value: function () {
      var _uploadCover = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee3(blob) {
        var _ref5, policy, image, color;

        return regeneratorRuntime.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.next = 2;
                return _utils_assets__WEBPACK_IMPORTED_MODULE_12__["getTeamCoverImagePolicy"](this.props.api, this.state.id);

              case 2:
                _ref5 = _context3.sent;
                policy = _ref5.data;
                _context3.next = 6;
                return this.props.uploadAssetSizes(blob, policy, _utils_assets__WEBPACK_IMPORTED_MODULE_12__["COVER_SIZES"]);

              case 6:
                _context3.next = 8;
                return _utils_assets__WEBPACK_IMPORTED_MODULE_12__["blobToImage"](blob);

              case 8:
                image = _context3.sent;
                color = _utils_assets__WEBPACK_IMPORTED_MODULE_12__["getDominantColor"](image);
                _context3.next = 12;
                return this.updateFields({
                  hasCoverImage: true,
                  coverColor: color
                });

              case 12:
                this.setState({
                  _cacheCover: Date.now()
                });

              case 13:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function uploadCover(_x3) {
        return _uploadCover.apply(this, arguments);
      }

      return uploadCover;
    }()
  }, {
    key: "joinTeam",
    value: function () {
      var _joinTeam = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee4() {
        var _this3 = this;

        var teams;
        return regeneratorRuntime.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                _context4.next = 2;
                return this.props.api.post(`teams/${this.state.id}/join`);

              case 2:
                this.setState(function (_ref6) {
                  var users = _ref6.users;
                  return {
                    users: [].concat(_toConsumableArray(users), [_this3.props.currentUser])
                  };
                });

                if (this.props.currentUser) {
                  teams = this.props.currentUser.teams;
                  this.props.updateCurrentUser({
                    teams: [].concat(_toConsumableArray(teams), [this.state])
                  });
                }

              case 4:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function joinTeam() {
        return _joinTeam.apply(this, arguments);
      }

      return joinTeam;
    }()
  }, {
    key: "inviteEmail",
    value: function () {
      var _inviteEmail = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee5(emailAddress) {
        return regeneratorRuntime.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                console.log('💣 inviteEmail', emailAddress);
                _context5.next = 3;
                return this.props.api.post(`teams/${this.state.id}/sendJoinTeamEmail`, {
                  emailAddress: emailAddress
                });

              case 3:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function inviteEmail(_x4) {
        return _inviteEmail.apply(this, arguments);
      }

      return inviteEmail;
    }()
  }, {
    key: "inviteUser",
    value: function () {
      var _inviteUser = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee6(user) {
        return regeneratorRuntime.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                console.log('💣 inviteUser', user);
                _context6.next = 3;
                return this.props.api.post(`teams/${this.state.id}/sendJoinTeamEmail`, {
                  userId: user.id
                });

              case 3:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function inviteUser(_x5) {
        return _inviteUser.apply(this, arguments);
      }

      return inviteUser;
    }()
  }, {
    key: "removeUserFromTeam",
    value: function () {
      var _removeUserFromTeam = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee7(id, projectIds) {
        var _this4 = this;

        var teams;
        return regeneratorRuntime.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                _context7.next = 2;
                return Promise.all(projectIds.map(function (projectId) {
                  return _this4.props.api.delete(`projects/${projectId}/authorization`, {
                    data: {
                      targetUserId: id
                    }
                  });
                }));

              case 2:
                _context7.next = 4;
                return this.props.api.delete(`teams/${this.state.id}/users/${id}`);

              case 4:
                this.removeUserAdmin(id);
                this.setState(function (_ref7) {
                  var users = _ref7.users;
                  return {
                    users: users.filter(function (u) {
                      return u.id !== id;
                    })
                  };
                });

                if (this.props.currentUser && this.props.currentUser.id === id) {
                  teams = this.props.currentUser.teams.filter(function (_ref8) {
                    var id = _ref8.id;
                    return id !== _this4.state.id;
                  });
                  this.props.updateCurrentUser({
                    teams: teams
                  });
                }

              case 7:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));

      function removeUserFromTeam(_x6, _x7) {
        return _removeUserFromTeam.apply(this, arguments);
      }

      return removeUserFromTeam;
    }()
  }, {
    key: "removeUserAdmin",
    value: function removeUserAdmin(id) {
      var index = this.state.adminIds.indexOf(id);

      if (index !== -1) {
        this.setState(function (prevState) {
          return {
            counter: prevState.adminIds.splice(index, 1)
          };
        });
      }
    }
  }, {
    key: "updateUserPermissions",
    value: function () {
      var _updateUserPermissions = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee8(id, accessLevel) {
        return regeneratorRuntime.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                if (!(accessLevel === MEMBER_ACCESS_LEVEL && this.state.adminIds.length <= 1)) {
                  _context8.next = 3;
                  break;
                }

                this.props.createErrorNotification('A team must have at least one admin');
                return _context8.abrupt("return", false);

              case 3:
                _context8.next = 5;
                return this.props.api.patch(`teams/${this.state.id}/users/${id}`, {
                  access_level: accessLevel
                });

              case 5:
                if (accessLevel === ADMIN_ACCESS_LEVEL) {
                  this.setState(function (prevState) {
                    return {
                      counter: prevState.adminIds.push(id)
                    };
                  });
                } else {
                  this.removeUserAdmin(id);
                }

              case 6:
              case "end":
                return _context8.stop();
            }
          }
        }, _callee8, this);
      }));

      function updateUserPermissions(_x8, _x9) {
        return _updateUserPermissions.apply(this, arguments);
      }

      return updateUserPermissions;
    }()
  }, {
    key: "addProject",
    value: function () {
      var _addProject = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee9(project) {
        return regeneratorRuntime.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                _context9.next = 2;
                return this.props.api.post(`teams/${this.state.id}/projects/${project.id}`);

              case 2:
                this.setState(function (_ref9) {
                  var projects = _ref9.projects;
                  return {
                    projects: [project].concat(_toConsumableArray(projects))
                  };
                });

              case 3:
              case "end":
                return _context9.stop();
            }
          }
        }, _callee9, this);
      }));

      function addProject(_x10) {
        return _addProject.apply(this, arguments);
      }

      return addProject;
    }()
  }, {
    key: "removeProject",
    value: function () {
      var _removeProject = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee10(id) {
        return regeneratorRuntime.wrap(function _callee10$(_context10) {
          while (1) {
            switch (_context10.prev = _context10.next) {
              case 0:
                _context10.next = 2;
                return this.props.api.delete(`teams/${this.state.id}/projects/${id}`);

              case 2:
                this.setState(function (_ref10) {
                  var projects = _ref10.projects;
                  return {
                    projects: projects.filter(function (p) {
                      return p.id !== id;
                    })
                  };
                });

              case 3:
              case "end":
                return _context10.stop();
            }
          }
        }, _callee10, this);
      }));

      function removeProject(_x11) {
        return _removeProject.apply(this, arguments);
      }

      return removeProject;
    }()
  }, {
    key: "deleteProject",
    value: function () {
      var _deleteProject = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee11(id) {
        return regeneratorRuntime.wrap(function _callee11$(_context11) {
          while (1) {
            switch (_context11.prev = _context11.next) {
              case 0:
                _context11.next = 2;
                return this.props.api.delete(`/projects/${id}`);

              case 2:
                this.setState(function (_ref11) {
                  var projects = _ref11.projects;
                  return {
                    projects: projects.filter(function (p) {
                      return p.id !== id;
                    })
                  };
                });

              case 3:
              case "end":
                return _context11.stop();
            }
          }
        }, _callee11, this);
      }));

      function deleteProject(_x12) {
        return _deleteProject.apply(this, arguments);
      }

      return deleteProject;
    }()
  }, {
    key: "addPin",
    value: function () {
      var _addPin = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee12(id) {
        return regeneratorRuntime.wrap(function _callee12$(_context12) {
          while (1) {
            switch (_context12.prev = _context12.next) {
              case 0:
                _context12.next = 2;
                return this.props.api.post(`teams/${this.state.id}/pinned-projects/${id}`);

              case 2:
                this.setState(function (_ref12) {
                  var teamPins = _ref12.teamPins;
                  return {
                    teamPins: [].concat(_toConsumableArray(teamPins), [{
                      projectId: id
                    }])
                  };
                });

              case 3:
              case "end":
                return _context12.stop();
            }
          }
        }, _callee12, this);
      }));

      function addPin(_x13) {
        return _addPin.apply(this, arguments);
      }

      return addPin;
    }()
  }, {
    key: "removePin",
    value: function () {
      var _removePin = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee13(id) {
        return regeneratorRuntime.wrap(function _callee13$(_context13) {
          while (1) {
            switch (_context13.prev = _context13.next) {
              case 0:
                _context13.next = 2;
                return this.props.api.delete(`teams/${this.state.id}/pinned-projects/${id}`);

              case 2:
                this.setState(function (_ref13) {
                  var teamPins = _ref13.teamPins;
                  return {
                    teamPins: teamPins.filter(function (p) {
                      return p.projectId !== id;
                    })
                  };
                });

              case 3:
              case "end":
                return _context13.stop();
            }
          }
        }, _callee13, this);
      }));

      function removePin(_x14) {
        return _removePin.apply(this, arguments);
      }

      return removePin;
    }()
  }, {
    key: "joinTeamProject",
    value: function () {
      var _joinTeamProject = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee14(projectId) {
        return regeneratorRuntime.wrap(function _callee14$(_context14) {
          while (1) {
            switch (_context14.prev = _context14.next) {
              case 0:
                _context14.next = 2;
                return this.props.api.post(`/teams/${this.state.id}/projects/${projectId}/join`);

              case 2:
              case "end":
                return _context14.stop();
            }
          }
        }, _callee14, this);
      }));

      function joinTeamProject(_x15) {
        return _joinTeamProject.apply(this, arguments);
      }

      return joinTeamProject;
    }()
  }, {
    key: "leaveTeamProject",
    value: function () {
      var _leaveTeamProject = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee15(projectId) {
        return regeneratorRuntime.wrap(function _callee15$(_context15) {
          while (1) {
            switch (_context15.prev = _context15.next) {
              case 0:
                _context15.next = 2;
                return this.props.api.delete(`/projects/${projectId}/authorization`, {
                  data: {
                    targetUserId: this.props.currentUser.id
                  }
                });

              case 2:
              case "end":
                return _context15.stop();
            }
          }
        }, _callee15, this);
      }));

      function leaveTeamProject(_x16) {
        return _leaveTeamProject.apply(this, arguments);
      }

      return leaveTeamProject;
    }()
  }, {
    key: "addProjectToCollection",
    value: function () {
      var _addProjectToCollection = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee16(project, collection) {
        return regeneratorRuntime.wrap(function _callee16$(_context16) {
          while (1) {
            switch (_context16.prev = _context16.next) {
              case 0:
                _context16.next = 2;
                return this.props.api.patch(`collections/${collection.id}/add/${project.id}`);

              case 2:
              case "end":
                return _context16.stop();
            }
          }
        }, _callee16, this);
      }));

      function addProjectToCollection(_x17, _x18) {
        return _addProjectToCollection.apply(this, arguments);
      }

      return addProjectToCollection;
    }()
  }, {
    key: "featureProject",
    value: function () {
      var _featureProject = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee17(id) {
        return regeneratorRuntime.wrap(function _callee17$(_context17) {
          while (1) {
            switch (_context17.prev = _context17.next) {
              case 0:
                _context17.next = 2;
                return this.updateFields({
                  featured_project_id: id
                });

              case 2:
              case "end":
                return _context17.stop();
            }
          }
        }, _callee17, this);
      }));

      function featureProject(_x19) {
        return _featureProject.apply(this, arguments);
      }

      return featureProject;
    }()
  }, {
    key: "unfeatureProject",
    value: function () {
      var _unfeatureProject = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee18() {
        return regeneratorRuntime.wrap(function _callee18$(_context18) {
          while (1) {
            switch (_context18.prev = _context18.next) {
              case 0:
                _context18.next = 2;
                return this.updateFields({
                  featured_project_id: null
                });

              case 2:
              case "end":
                return _context18.stop();
            }
          }
        }, _callee18, this);
      }));

      function unfeatureProject() {
        return _unfeatureProject.apply(this, arguments);
      }

      return unfeatureProject;
    }()
  }, {
    key: "currentUserIsTeamAdmin",
    value: function currentUserIsTeamAdmin() {
      if (!this.props.currentUser) return false;
      var currentUserId = this.props.currentUser.id;

      if (this.state.adminIds.includes(currentUserId)) {
        return true;
      }

      return false;
    }
  }, {
    key: "render",
    value: function render() {
      var _this5 = this;

      var _this$props = this.props,
          handleError = _this$props.handleError,
          handleErrorForInput = _this$props.handleErrorForInput;
      var funcs = {
        updateName: function updateName(name) {
          return _this5.updateFields({
            name: name
          }).catch(handleErrorForInput);
        },
        updateUrl: function updateUrl(url) {
          return _this5.updateFields({
            url: url
          }).catch(handleErrorForInput);
        },
        updateDescription: function updateDescription(description) {
          return _this5.updateFields({
            description: description
          }).catch(handleError);
        },
        joinTeam: function joinTeam() {
          return _this5.joinTeam().catch(handleError);
        },
        inviteEmail: function inviteEmail(email) {
          return _this5.inviteEmail(email).catch(handleError);
        },
        inviteUser: function inviteUser(id) {
          return _this5.inviteUser(id).catch(handleError);
        },
        removeUserFromTeam: function removeUserFromTeam(id, projectIds) {
          return _this5.removeUserFromTeam(id, projectIds).catch(handleError);
        },
        uploadAvatar: function uploadAvatar() {
          return _utils_assets__WEBPACK_IMPORTED_MODULE_12__["requestFile"](function (blob) {
            return _this5.uploadAvatar(blob).catch(handleError);
          });
        },
        uploadCover: function uploadCover() {
          return _utils_assets__WEBPACK_IMPORTED_MODULE_12__["requestFile"](function (blob) {
            return _this5.uploadCover(blob).catch(handleError);
          });
        },
        clearCover: function clearCover() {
          return _this5.updateFields({
            hasCoverImage: false
          }).catch(handleError);
        },
        addProject: function addProject(project) {
          return _this5.addProject(project).catch(handleError);
        },
        removeProject: function removeProject(id) {
          return _this5.removeProject(id).catch(handleError);
        },
        deleteProject: function deleteProject(id) {
          return _this5.deleteProject(id).catch(handleError);
        },
        addPin: function addPin(id) {
          return _this5.addPin(id).catch(handleError);
        },
        removePin: function removePin(id) {
          return _this5.removePin(id).catch(handleError);
        },
        updateWhitelistedDomain: function updateWhitelistedDomain(whitelistedDomain) {
          return _this5.updateFields({
            whitelistedDomain: whitelistedDomain
          }).catch(handleError);
        },
        updateUserPermissions: function updateUserPermissions(id, accessLevel) {
          return _this5.updateUserPermissions(id, accessLevel).catch(handleError);
        },
        joinTeamProject: function joinTeamProject(projectId) {
          return _this5.joinTeamProject(projectId).catch(handleError);
        },
        leaveTeamProject: function leaveTeamProject(projectId) {
          return _this5.leaveTeamProject(projectId).catch(handleError);
        },
        addProjectToCollection: function addProjectToCollection(project, collection) {
          return _this5.addProjectToCollection(project, collection).catch(handleError);
        },
        featureProject: function featureProject(id) {
          return _this5.featureProject(id).catch(handleError);
        },
        unfeatureProject: function unfeatureProject(id) {
          return _this5.unfeatureProject(id).catch(handleError);
        }
      };
      return this.props.children(this.state, funcs, this.currentUserIsOnTeam(), this.currentUserIsTeamAdmin());
    }
  }]);

  return TeamEditor;
}(react__WEBPACK_IMPORTED_MODULE_10___default.a.Component);

TeamEditor.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.any.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.object,
  updateCurrentUser: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired,
  handleError: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired,
  initialTeam: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.object.isRequired,
  uploadAssetSizes: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired
};

var TeamEditorContainer = function TeamEditorContainer(_ref14) {
  var api = _ref14.api,
      children = _ref14.children,
      initialTeam = _ref14.initialTeam;
  return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_error_handlers_jsx__WEBPACK_IMPORTED_MODULE_14__["default"], null, function (errorFuncs) {
    return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_includes_uploader_jsx__WEBPACK_IMPORTED_MODULE_15__["default"], null, function (uploadFuncs) {
      return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_notifications_jsx__WEBPACK_IMPORTED_MODULE_16__["default"], null, function (notificationFuncs) {
        return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_13__["CurrentUserConsumer"], null, function (currentUser, fetched, _ref15) {
          var update = _ref15.update;
          return react__WEBPACK_IMPORTED_MODULE_10___default.a.createElement(TeamEditor, _extends({
            api: api,
            currentUser: currentUser,
            initialTeam: initialTeam
          }, {
            updateCurrentUser: update
          }, uploadFuncs, errorFuncs, notificationFuncs), children);
        });
      });
    });
  });
};

TeamEditorContainer.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.any.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.func.isRequired,
  initialTeam: prop_types__WEBPACK_IMPORTED_MODULE_11___default.a.object.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (TeamEditorContainer);

/***/ }),

/***/ "./src/presenters/team-item.jsx":
/*!**************************************!*\
  !*** ./src/presenters/team-item.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TeamItem; });
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _models_team__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/team */ "./src/models/team.js");
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./includes/link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _includes_markdown_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./includes/markdown.jsx */ "./src/presenters/includes/markdown.jsx");
/* harmony import */ var _includes_thanks_jsx__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./includes/thanks.jsx */ "./src/presenters/includes/thanks.jsx");
/* harmony import */ var _users_list_jsx__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./users-list.jsx */ "./src/presenters/users-list.jsx");
/* harmony import */ var _includes_wrapping_link_jsx__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./includes/wrapping-link.jsx */ "./src/presenters/includes/wrapping-link.jsx");
/* harmony import */ var _includes_team_elements_jsx__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./includes/team-elements.jsx */ "./src/presenters/includes/team-elements.jsx");


function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }










function TeamItem(_ref) {
  var team = _ref.team;
  var style = Object(_models_team__WEBPACK_IMPORTED_MODULE_3__["getProfileStyle"])(_objectSpread({}, team, {
    size: 'medium'
  }));
  var thanksCount = team.users.reduce(function (total, _ref2) {
    var thanksCount = _ref2.thanksCount;
    return total + thanksCount;
  }, 0);
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_wrapping_link_jsx__WEBPACK_IMPORTED_MODULE_8__["default"], {
    href: Object(_models_team__WEBPACK_IMPORTED_MODULE_3__["getLink"])(team),
    className: "item button-area",
    style: style
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "content"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
    className: "avatar",
    src: Object(_models_team__WEBPACK_IMPORTED_MODULE_3__["getAvatarUrl"])(team),
    alt: ""
  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "information"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_4__["TeamLink"], {
    team: team,
    className: "button"
  }, team.name), !!team.isVerified && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_team_elements_jsx__WEBPACK_IMPORTED_MODULE_9__["VerifiedBadge"], null), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_users_list_jsx__WEBPACK_IMPORTED_MODULE_7__["default"], {
    users: team.users
  }), thanksCount > 0 && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_thanks_jsx__WEBPACK_IMPORTED_MODULE_6__["default"], {
    count: thanksCount
  }), !!team.description && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
    className: "description"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_markdown_jsx__WEBPACK_IMPORTED_MODULE_5__["TruncatedMarkdown"], {
    length: 96
  }, team.description)))));
}
TeamItem.propTypes = {
  team: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    coverColor: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    description: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    hasAvatarImage: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
    hasCoverImage: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
    isVerified: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    users: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
    url: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
  })
};

/***/ }),

/***/ "./src/presenters/teams-list.jsx":
/*!***************************************!*\
  !*** ./src/presenters/teams-list.jsx ***!
  \***************************************/
/*! exports provided: TeamTile, TeamsList, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamTile", function() { return TeamTile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TeamsList", function() { return TeamsList; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./includes/link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _includes_avatar_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./includes/avatar.jsx */ "./src/presenters/includes/avatar.jsx");




var TeamTile = function TeamTile(_ref) {
  var team = _ref.team;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_2__["TeamLink"], {
    team: team,
    className: "user"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_avatar_jsx__WEBPACK_IMPORTED_MODULE_3__["TeamAvatar"], {
    team: team
  }));
};
TeamTile.propTypes = {
  team: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    url: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
  }).isRequired
};
var TeamsList = function TeamsList(_ref2) {
  var teams = _ref2.teams;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
    className: "users teams-information"
  }, teams.map(function (team) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      key: team.id
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(TeamTile, {
      team: team
    }));
  }));
};
TeamsList.propTypes = {
  teams: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (TeamsList);

/***/ }),

/***/ "./src/presenters/user-editor.jsx":
/*!****************************************!*\
  !*** ./src/presenters/user-editor.jsx ***!
  \****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.object.assign */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.object.assign.js");
/* harmony import */ var core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.regexp.to-string */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.to-string.js");
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es6.regexp.replace */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.replace.js");
/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! regenerator-runtime/runtime */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/regenerator-runtime/0.12.1/node_modules/regenerator-runtime/runtime.js");
/* harmony import */ var regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _utils_assets__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../utils/assets */ "./src/utils/assets.js");
/* harmony import */ var _current_user_jsx__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./current-user.jsx */ "./src/presenters/current-user.jsx");
/* harmony import */ var _error_handlers_jsx__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./error-handlers.jsx */ "./src/presenters/error-handlers.jsx");
/* harmony import */ var _includes_uploader_jsx__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./includes/uploader.jsx */ "./src/presenters/includes/uploader.jsx");










function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (typeof call === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }








var UserEditor =
/*#__PURE__*/
function (_React$Component) {
  _inherits(UserEditor, _React$Component);

  function UserEditor(props) {
    var _this;

    _classCallCheck(this, UserEditor);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserEditor).call(this, props));
    _this.state = _objectSpread({}, props.initialUser, {
      _deletedProjects: [],
      _cacheCover: Date.now()
    });
    return _this;
  }

  _createClass(UserEditor, [{
    key: "isCurrentUser",
    value: function isCurrentUser() {
      return !!this.props.currentUser && this.state.id === this.props.currentUser.id;
    }
  }, {
    key: "updateFields",
    value: function () {
      var _updateFields = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(changes) {
        var _ref, data;

        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return this.props.api.patch(`users/${this.state.id}`, changes);

              case 2:
                _ref = _context.sent;
                data = _ref.data;
                this.setState(data);

                if (this.isCurrentUser()) {
                  this.props.updateCurrentUser(data);
                }

              case 6:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function updateFields(_x) {
        return _updateFields.apply(this, arguments);
      }

      return updateFields;
    }()
  }, {
    key: "uploadAvatar",
    value: function () {
      var _uploadAvatar = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2(blob) {
        var _ref2, policy, url, image, color;

        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                _context2.next = 2;
                return _utils_assets__WEBPACK_IMPORTED_MODULE_11__["getUserCoverImagePolicy"](this.props.api, this.state.id);

              case 2:
                _ref2 = _context2.sent;
                policy = _ref2.data;
                _context2.next = 6;
                return this.props.uploadAsset(blob, policy, 'temporary-user-avatar');

              case 6:
                url = _context2.sent;
                _context2.next = 9;
                return _utils_assets__WEBPACK_IMPORTED_MODULE_11__["blobToImage"](blob);

              case 9:
                image = _context2.sent;
                color = _utils_assets__WEBPACK_IMPORTED_MODULE_11__["getDominantColor"](image);
                _context2.next = 13;
                return this.updateFields({
                  avatarUrl: url,
                  color: color
                });

              case 13:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function uploadAvatar(_x2) {
        return _uploadAvatar.apply(this, arguments);
      }

      return uploadAvatar;
    }()
  }, {
    key: "uploadCover",
    value: function () {
      var _uploadCover = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee3(blob) {
        var _ref3, policy, image, color;

        return regeneratorRuntime.wrap(function _callee3$(_context3) {
          while (1) {
            switch (_context3.prev = _context3.next) {
              case 0:
                _context3.next = 2;
                return _utils_assets__WEBPACK_IMPORTED_MODULE_11__["getUserCoverImagePolicy"](this.props.api, this.state.id);

              case 2:
                _ref3 = _context3.sent;
                policy = _ref3.data;
                _context3.next = 6;
                return this.props.uploadAssetSizes(blob, policy, _utils_assets__WEBPACK_IMPORTED_MODULE_11__["COVER_SIZES"]);

              case 6:
                _context3.next = 8;
                return _utils_assets__WEBPACK_IMPORTED_MODULE_11__["blobToImage"](blob);

              case 8:
                image = _context3.sent;
                color = _utils_assets__WEBPACK_IMPORTED_MODULE_11__["getDominantColor"](image);
                _context3.next = 12;
                return this.updateFields({
                  hasCoverImage: true,
                  coverColor: color
                });

              case 12:
                this.setState({
                  _cacheCover: Date.now()
                });

              case 13:
              case "end":
                return _context3.stop();
            }
          }
        }, _callee3, this);
      }));

      function uploadCover(_x3) {
        return _uploadCover.apply(this, arguments);
      }

      return uploadCover;
    }()
  }, {
    key: "addPin",
    value: function () {
      var _addPin = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee4(id) {
        return regeneratorRuntime.wrap(function _callee4$(_context4) {
          while (1) {
            switch (_context4.prev = _context4.next) {
              case 0:
                _context4.next = 2;
                return this.props.api.post(`users/${this.state.id}/pinned-projects/${id}`);

              case 2:
                this.setState(function (_ref4) {
                  var pins = _ref4.pins;
                  return {
                    pins: [].concat(_toConsumableArray(pins), [{
                      projectId: id
                    }])
                  };
                });

              case 3:
              case "end":
                return _context4.stop();
            }
          }
        }, _callee4, this);
      }));

      function addPin(_x4) {
        return _addPin.apply(this, arguments);
      }

      return addPin;
    }()
  }, {
    key: "removePin",
    value: function () {
      var _removePin = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee5(id) {
        return regeneratorRuntime.wrap(function _callee5$(_context5) {
          while (1) {
            switch (_context5.prev = _context5.next) {
              case 0:
                _context5.next = 2;
                return this.props.api.delete(`users/${this.state.id}/pinned-projects/${id}`);

              case 2:
                this.setState(function (_ref5) {
                  var pins = _ref5.pins;
                  return {
                    pins: pins.filter(function (p) {
                      return p.projectId !== id;
                    })
                  };
                });

              case 3:
              case "end":
                return _context5.stop();
            }
          }
        }, _callee5, this);
      }));

      function removePin(_x5) {
        return _removePin.apply(this, arguments);
      }

      return removePin;
    }()
  }, {
    key: "leaveProject",
    value: function () {
      var _leaveProject = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee6(id) {
        return regeneratorRuntime.wrap(function _callee6$(_context6) {
          while (1) {
            switch (_context6.prev = _context6.next) {
              case 0:
                _context6.next = 2;
                return this.props.api.delete(`/projects/${id}/authorization`, {
                  data: {
                    targetUserId: this.state.id
                  }
                });

              case 2:
                this.setState(function (_ref6) {
                  var projects = _ref6.projects;
                  return {
                    projects: projects.filter(function (p) {
                      return p.id !== id;
                    })
                  };
                });

              case 3:
              case "end":
                return _context6.stop();
            }
          }
        }, _callee6, this);
      }));

      function leaveProject(_x6) {
        return _leaveProject.apply(this, arguments);
      }

      return leaveProject;
    }()
  }, {
    key: "deleteProject",
    value: function () {
      var _deleteProject = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee7(id) {
        var _ref7, data;

        return regeneratorRuntime.wrap(function _callee7$(_context7) {
          while (1) {
            switch (_context7.prev = _context7.next) {
              case 0:
                _context7.next = 2;
                return this.props.api.delete(`/projects/${id}`);

              case 2:
                _context7.next = 4;
                return this.props.api.get(`projects/${id}?showDeleted=true`);

              case 4:
                _ref7 = _context7.sent;
                data = _ref7.data;
                this.setState(function (_ref8) {
                  var projects = _ref8.projects,
                      _deletedProjects = _ref8._deletedProjects;
                  return {
                    projects: projects.filter(function (p) {
                      return p.id !== id;
                    }),
                    _deletedProjects: [data].concat(_toConsumableArray(_deletedProjects))
                  };
                });

              case 7:
              case "end":
                return _context7.stop();
            }
          }
        }, _callee7, this);
      }));

      function deleteProject(_x7) {
        return _deleteProject.apply(this, arguments);
      }

      return deleteProject;
    }()
  }, {
    key: "undeleteProject",
    value: function () {
      var _undeleteProject = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee8(id) {
        var _ref9, data, newDomain;

        return regeneratorRuntime.wrap(function _callee8$(_context8) {
          while (1) {
            switch (_context8.prev = _context8.next) {
              case 0:
                _context8.next = 2;
                return this.props.api.post(`/projects/${id}/undelete`);

              case 2:
                _context8.next = 4;
                return this.props.api.get(`projects/${id}`);

              case 4:
                _ref9 = _context8.sent;
                data = _ref9.data;

                if (!data.domain.endsWith('-deleted')) {
                  _context8.next = 17;
                  break;
                }

                _context8.prev = 7;
                newDomain = data.domain.replace(/-deleted$/, '');
                _context8.next = 11;
                return this.props.api.patch(`/projects/${id}`, {
                  domain: newDomain
                });

              case 11:
                data.domain = newDomain;
                _context8.next = 17;
                break;

              case 14:
                _context8.prev = 14;
                _context8.t0 = _context8["catch"](7);
                console.warn('failed to rename project on undelete', _context8.t0);

              case 17:
                this.setState(function (_ref10) {
                  var projects = _ref10.projects,
                      _deletedProjects = _ref10._deletedProjects;
                  return {
                    projects: [].concat(_toConsumableArray(projects), [data]),
                    _deletedProjects: _deletedProjects.filter(function (p) {
                      return p.id !== id;
                    })
                  };
                });

              case 18:
              case "end":
                return _context8.stop();
            }
          }
        }, _callee8, this, [[7, 14]]);
      }));

      function undeleteProject(_x8) {
        return _undeleteProject.apply(this, arguments);
      }

      return undeleteProject;
    }()
  }, {
    key: "addProjectToCollection",
    value: function () {
      var _addProjectToCollection = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee9(project, collection) {
        return regeneratorRuntime.wrap(function _callee9$(_context9) {
          while (1) {
            switch (_context9.prev = _context9.next) {
              case 0:
                _context9.next = 2;
                return this.props.api.patch(`collections/${collection.id}/add/${project.id}`);

              case 2:
                this.loadCollections();

              case 3:
              case "end":
                return _context9.stop();
            }
          }
        }, _callee9, this);
      }));

      function addProjectToCollection(_x9, _x10) {
        return _addProjectToCollection.apply(this, arguments);
      }

      return addProjectToCollection;
    }()
  }, {
    key: "loadCollections",
    value: function () {
      var _loadCollections = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee10() {
        var _ref11, data;

        return regeneratorRuntime.wrap(function _callee10$(_context10) {
          while (1) {
            switch (_context10.prev = _context10.next) {
              case 0:
                _context10.next = 2;
                return this.props.api.get(`collections?userId=${this.state.id}`);

              case 2:
                _ref11 = _context10.sent;
                data = _ref11.data;
                this.setState({
                  collections: data
                });

              case 5:
              case "end":
                return _context10.stop();
            }
          }
        }, _callee10, this);
      }));

      function loadCollections() {
        return _loadCollections.apply(this, arguments);
      }

      return loadCollections;
    }()
  }, {
    key: "featureProject",
    value: function () {
      var _featureProject = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee11(id) {
        return regeneratorRuntime.wrap(function _callee11$(_context11) {
          while (1) {
            switch (_context11.prev = _context11.next) {
              case 0:
                _context11.next = 2;
                return this.updateFields({
                  featured_project_id: id
                });

              case 2:
              case "end":
                return _context11.stop();
            }
          }
        }, _callee11, this);
      }));

      function featureProject(_x11) {
        return _featureProject.apply(this, arguments);
      }

      return featureProject;
    }()
  }, {
    key: "unfeatureProject",
    value: function () {
      var _unfeatureProject = _asyncToGenerator(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee12() {
        return regeneratorRuntime.wrap(function _callee12$(_context12) {
          while (1) {
            switch (_context12.prev = _context12.next) {
              case 0:
                _context12.next = 2;
                return this.updateFields({
                  featured_project_id: null
                });

              case 2:
              case "end":
                return _context12.stop();
            }
          }
        }, _callee12, this);
      }));

      function unfeatureProject() {
        return _unfeatureProject.apply(this, arguments);
      }

      return unfeatureProject;
    }()
  }, {
    key: "componentDidMount",
    value: function componentDidMount() {
      this.loadCollections();
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var _this$props = this.props,
          handleError = _this$props.handleError,
          handleErrorForInput = _this$props.handleErrorForInput;
      var funcs = {
        updateName: function updateName(name) {
          return _this2.updateFields({
            name: name
          }).catch(handleErrorForInput);
        },
        updateLogin: function updateLogin(login) {
          return _this2.updateFields({
            login: login
          }).catch(handleErrorForInput);
        },
        updateDescription: function updateDescription(description) {
          return _this2.updateFields({
            description: description
          }).catch(handleError);
        },
        uploadAvatar: function uploadAvatar() {
          return _utils_assets__WEBPACK_IMPORTED_MODULE_11__["requestFile"](function (blob) {
            return _this2.uploadAvatar(blob).catch(handleError);
          });
        },
        uploadCover: function uploadCover() {
          return _utils_assets__WEBPACK_IMPORTED_MODULE_11__["requestFile"](function (blob) {
            return _this2.uploadCover(blob).catch(handleError);
          });
        },
        clearCover: function clearCover() {
          return _this2.updateFields({
            hasCoverImage: false
          }).catch(handleError);
        },
        addPin: function addPin(id) {
          return _this2.addPin(id).catch(handleError);
        },
        removePin: function removePin(id) {
          return _this2.removePin(id).catch(handleError);
        },
        leaveProject: function leaveProject(id) {
          return _this2.leaveProject(id).catch(handleError);
        },
        deleteProject: function deleteProject(id) {
          return _this2.deleteProject(id).catch(handleError);
        },
        undeleteProject: function undeleteProject(id) {
          return _this2.undeleteProject(id).catch(handleError);
        },
        setDeletedProjects: function setDeletedProjects(_deletedProjects) {
          return _this2.setState({
            _deletedProjects: _deletedProjects
          });
        },
        addProjectToCollection: function addProjectToCollection(project, collection) {
          return _this2.addProjectToCollection(project, collection).catch(handleError);
        },
        featureProject: function featureProject(id) {
          return _this2.featureProject(id).catch(handleError);
        },
        unfeatureProject: function unfeatureProject(id) {
          return _this2.unfeatureProject(id).catch(handleError);
        }
      };
      return this.props.children(this.state, funcs, this.isCurrentUser());
    }
  }]);

  return UserEditor;
}(react__WEBPACK_IMPORTED_MODULE_9___default.a.Component);

UserEditor.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.any.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  currentUser: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object,
  updateCurrentUser: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  handleError: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  handleErrorForInput: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  initialUser: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.shape({
    id: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.number.isRequired
  }).isRequired,
  uploadAsset: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  uploadAssetSizes: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired
};

var UserEditorContainer = function UserEditorContainer(_ref12) {
  var api = _ref12.api,
      children = _ref12.children,
      initialUser = _ref12.initialUser;
  return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_error_handlers_jsx__WEBPACK_IMPORTED_MODULE_13__["default"], null, function (errorFuncs) {
    return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_includes_uploader_jsx__WEBPACK_IMPORTED_MODULE_14__["default"], null, function (uploadFuncs) {
      return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(_current_user_jsx__WEBPACK_IMPORTED_MODULE_12__["CurrentUserConsumer"], null, function (currentUser, fetched, _ref13) {
        var update = _ref13.update;
        return react__WEBPACK_IMPORTED_MODULE_9___default.a.createElement(UserEditor, _extends({
          api: api,
          currentUser: currentUser,
          initialUser: initialUser
        }, {
          updateCurrentUser: update
        }, uploadFuncs, errorFuncs), children);
      });
    });
  });
};

UserEditorContainer.propTypes = {
  api: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.any.isRequired,
  children: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.func.isRequired,
  initialUser: prop_types__WEBPACK_IMPORTED_MODULE_10___default.a.object.isRequired
};
/* harmony default export */ __webpack_exports__["default"] = (UserEditorContainer);

/***/ }),

/***/ "./src/presenters/user-item.jsx":
/*!**************************************!*\
  !*** ./src/presenters/user-item.jsx ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UserItem; });
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./includes/link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _includes_markdown_jsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./includes/markdown.jsx */ "./src/presenters/includes/markdown.jsx");
/* harmony import */ var _includes_thanks_jsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./includes/thanks.jsx */ "./src/presenters/includes/thanks.jsx");
/* harmony import */ var _models_user_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../models/user.js */ "./src/models/user.js");


function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }








function addDefaultSrc(event) {
  event.target.src = _models_user_js__WEBPACK_IMPORTED_MODULE_6__["ANON_AVATAR_URL"];
}

function UserItem(_ref) {
  var user = _ref.user;
  var style = Object(_models_user_js__WEBPACK_IMPORTED_MODULE_6__["getProfileStyle"])(_objectSpread({}, user, {
    size: 'medium'
  }));
  return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_3__["UserLink"], {
    user: user,
    className: "button-area"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "item",
    style: style
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "content"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("img", {
    onError: addDefaultSrc,
    className: "avatar",
    src: Object(_models_user_js__WEBPACK_IMPORTED_MODULE_6__["getAvatarUrl"])(user),
    alt: ""
  }), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "information"
  }, !!user.name && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("h3", {
    className: "name"
  }, user.name), react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
    className: "button"
  }, "@", user.login), user.thanksCount > 0 && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_thanks_jsx__WEBPACK_IMPORTED_MODULE_5__["default"], {
    count: user.thanksCount
  }), !!user.description && react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", {
    className: "description"
  }, react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(_includes_markdown_jsx__WEBPACK_IMPORTED_MODULE_4__["TruncatedMarkdown"], {
    length: 96
  }, user.description))))));
}
UserItem.propTypes = {
  user: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.shape({
    avatarUrl: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    coverColor: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    description: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    hasCoverImage: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool.isRequired,
    id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
    login: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,
    name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
    thanksCount: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired
  })
};

/***/ }),

/***/ "./src/presenters/users-list.jsx":
/*!***************************************!*\
  !*** ./src/presenters/users-list.jsx ***!
  \***************************************/
/*! exports provided: StaticUsersList, UserTile, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StaticUsersList", function() { return StaticUsersList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserTile", function() { return UserTile; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/react/16.7.0/node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/prop-types/15.6.2/node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _includes_link_jsx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./includes/link.jsx */ "./src/presenters/includes/link.jsx");
/* harmony import */ var _includes_avatar_jsx__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./includes/avatar.jsx */ "./src/presenters/includes/avatar.jsx");



 // StaticUsersList

var StaticUsersList = function StaticUsersList(_ref) {
  var users = _ref.users,
      _ref$extraClass = _ref.extraClass,
      extraClass = _ref$extraClass === void 0 ? "" : _ref$extraClass;
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
    className: `users ${extraClass}`
  }, users.map(function (user) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      key: user.id
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
      className: "user"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_avatar_jsx__WEBPACK_IMPORTED_MODULE_3__["UserAvatar"], {
      user: user
    })));
  }));
};
StaticUsersList.propTypes = {
  users: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
  extraClass: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string
}; // UserTile

var UserTile = function UserTile(user) {
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_2__["UserLink"], {
    user: user,
    className: "user"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_avatar_jsx__WEBPACK_IMPORTED_MODULE_3__["UserAvatar"], {
    user: user
  }));
};
UserTile.propTypes = {
  id: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,
  login: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  name: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  avatarThumbnailUrl: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  color: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired
}; // PopulatedUsersList

var PopulatedUsersList = function PopulatedUsersList(_ref2) {
  var users = _ref2.users,
      _ref2$extraClass = _ref2.extraClass,
      extraClass = _ref2$extraClass === void 0 ? "" : _ref2$extraClass,
      _ref2$teams = _ref2.teams,
      teams = _ref2$teams === void 0 ? [] : _ref2$teams;

  if (users.length) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
      className: `users ${extraClass}`
    }, users.map(function (user) {
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
        key: user.id
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_2__["UserLink"], {
        user: user,
        className: "user"
      }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_avatar_jsx__WEBPACK_IMPORTED_MODULE_3__["UserAvatar"], {
        user: user
      })));
    }));
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
    className: `users ${extraClass}`
  }, teams.map(function (team) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", {
      key: team.id
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_link_jsx__WEBPACK_IMPORTED_MODULE_2__["TeamLink"], {
      team: team,
      className: "team"
    }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_avatar_jsx__WEBPACK_IMPORTED_MODULE_3__["TeamAvatar"], {
      team: team
    })));
  }));
};

PopulatedUsersList.propTypes = {
  users: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array.isRequired,
  extraClass: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string,
  teams: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.array
};

var GlitchTeamUsersList = function GlitchTeamUsersList(_ref3) {
  var _ref3$extraClass = _ref3.extraClass,
      extraClass = _ref3$extraClass === void 0 ? '' : _ref3$extraClass;
  var GLITCH_TEAM_AVATAR = "https://cdn.glitch.com/2bdfb3f8-05ef-4035-a06e-2043962a3a13%2Fglitch-team-avatar.svg?1489266029267";
  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul", {
    className: `users ${extraClass}`
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li", null, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span", {
    className: "user made-by-glitch"
  }, react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_includes_avatar_jsx__WEBPACK_IMPORTED_MODULE_3__["Avatar"], {
    name: "Glitch Team",
    src: GLITCH_TEAM_AVATAR,
    color: "#74ecfc"
  }))));
};

var UsersList = function UsersList(_ref4) {
  var _ref4$glitchTeam = _ref4.glitchTeam,
      glitchTeam = _ref4$glitchTeam === void 0 ? false : _ref4$glitchTeam,
      users = _ref4.users,
      extraClass = _ref4.extraClass,
      teams = _ref4.teams;

  if (glitchTeam) {
    return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(GlitchTeamUsersList, {
      extraClass: extraClass
    });
  }

  return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(PopulatedUsersList, {
    users: users,
    extraClass: extraClass,
    teams: teams
  });
};

UsersList.propTypes = {
  glitchTeam: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool
};
/* harmony default export */ __webpack_exports__["default"] = (UsersList);

/***/ }),

/***/ "./src/utils/abuse-reporting.js":
/*!**************************************!*\
  !*** ./src/utils/abuse-reporting.js ***!
  \**************************************/
/*! exports provided: getAbuseReportTitle, getAbuseReportBody */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAbuseReportTitle", function() { return getAbuseReportTitle; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getAbuseReportBody", function() { return getAbuseReportBody; });
/* harmony import */ var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.array.find */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.find.js");
/* harmony import */ var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _models_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./models.js */ "./src/utils/models.js");
/* harmony import */ var _models_user_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/user.js */ "./src/models/user.js");



/* global APP_URL */

var getAbuseReportTitle = function getAbuseReportTitle(model, modelType) {
  if (modelType == "home") {
    return `Abuse Report for Glitch Homepage`;
  }

  return `Abuse Report for ${modelType} ${Object(_models_js__WEBPACK_IMPORTED_MODULE_1__["getDisplayNameForModel"])(model, modelType)}`;
};
/*
* mega-method to compose the body of an abuse report
*/

var getAbuseReportBody = function getAbuseReportBody(currentUser, submitterEmail, reportedType, reportedModel, message) {
  var thingIdentifiers;

  if (reportedType == "home") {
    thingIdentifiers = `- [Glitch Home Page](${APP_URL})`;
  } else {
    var glitchLink = APP_URL + Object(_models_js__WEBPACK_IMPORTED_MODULE_1__["getUrlForModel"])(reportedModel, reportedType);
    var capitalizedReportedType = capitalize(reportedType);
    thingIdentifiers = `
- ${capitalizedReportedType} Name: [${Object(_models_js__WEBPACK_IMPORTED_MODULE_1__["getDisplayNameForModel"])(reportedModel, reportedType)}](${glitchLink})

- ${capitalizedReportedType} Id: ${reportedModel.id}`;
  }

  return `${thingIdentifiers}

- Submitted by: [${Object(_models_user_js__WEBPACK_IMPORTED_MODULE_2__["getDisplayName"])(currentUser)}](${APP_URL}${Object(_models_user_js__WEBPACK_IMPORTED_MODULE_2__["getLink"])(currentUser)})

- Contact: ${pickEmailForReport(currentUser, submitterEmail)}

- Message: ${message}`;
};

var capitalize = function capitalize(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
};

var pickEmailForReport = function pickEmailForReport(currentUser, submitterEmail) {
  if (submitterEmail) {
    return submitterEmail;
  }

  var emailObj = Array.isArray(currentUser.emails) && currentUser.emails.find(function (email) {
    return email.primary;
  });
  return emailObj.email;
};

/***/ }),

/***/ "./src/utils/assets.js":
/*!*****************************!*\
  !*** ./src/utils/assets.js ***!
  \*****************************/
/*! exports provided: COVER_SIZES, AVATAR_SIZES, blobToImage, resizeImage, getDominantColor, requestFile, getUserCoverImagePolicy, getTeamAvatarImagePolicy, getTeamCoverImagePolicy, uploadAsset, uploadAssetSizes */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "COVER_SIZES", function() { return COVER_SIZES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AVATAR_SIZES", function() { return AVATAR_SIZES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "blobToImage", function() { return blobToImage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "resizeImage", function() { return resizeImage; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDominantColor", function() { return getDominantColor; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "requestFile", function() { return requestFile; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUserCoverImagePolicy", function() { return getUserCoverImagePolicy; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTeamAvatarImagePolicy", function() { return getTeamAvatarImagePolicy; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTeamCoverImagePolicy", function() { return getTeamCoverImagePolicy; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uploadAsset", function() { return uploadAsset; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "uploadAssetSizes", function() { return uploadAssetSizes; });
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.regexp.to-string */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.to-string.js");
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/modules/es6.regexp.match */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.match.js");
/* harmony import */ var core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_match__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/modules/es6.regexp.constructor */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.constructor.js");
/* harmony import */ var core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _s3_uploader__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./s3-uploader */ "./src/utils/s3-uploader.js");
/* harmony import */ var quantize__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! quantize */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/quantize/1.0.2/node_modules/quantize/quantize.js");
/* harmony import */ var quantize__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(quantize__WEBPACK_IMPORTED_MODULE_9__);









function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }

function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance"); }

function _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter); }

function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

// 💭 based on frontend/utils/assets in the editor


var COVER_SIZES = {
  large: 1000,
  medium: 700,
  small: 450
};
var AVATAR_SIZES = {
  large: 300,
  medium: 150,
  small: 60
};
var blobToImage = function blobToImage(file) {
  return new Promise(function (resolve, reject) {
    var image = new Image();

    image.onload = function () {
      return resolve(image);
    };

    image.onerror = reject;
    return image.src = URL.createObjectURL(file);
  });
}; // Reduces the width/height and draws a new image until it reaches
// the final size. It loops by waiting for the onload to fire on the updated
// image and exits as soon as the new width/height are less than or equal to the
// final size.

var drawCanvasThumbnail = function drawCanvasThumbnail(image, type, max) {
  var width = image.width,
      height = image.height;
  var quality = 0.92;
  var sourceCanvas = document.createElement('canvas');
  sourceCanvas.width = width;
  sourceCanvas.height = height;
  var sourceContext = sourceCanvas.getContext('2d');
  sourceContext.drawImage(image, 0, 0, width, height);

  while (width > max && height > max) {
    width *= 0.75;
    height *= 0.75;
    var targetCanvas = document.createElement('canvas');
    var targetContext = targetCanvas.getContext('2d');
    targetCanvas.width = width;
    targetCanvas.height = height;
    targetContext.drawImage(sourceCanvas, 0, 0, width, height);
    sourceCanvas = targetCanvas;
  }

  return new Promise(function (resolve) {
    return sourceCanvas.toBlob(function (blob) {
      blob.width = width;
      blob.height = height;
      return resolve(blob);
    }, type, quality);
  });
}; // Takes an HTML5 File and returns a promise for an HTML5 Blob that is fulfilled
// with a thumbnail for the image. If the image is small enough the original
// blob is returned. Width and height metadata are added to the blob.


function resizeImage(file, max) {
  return blobToImage(file).then(function (image) {
    file.width = image.width;
    file.height = image.height;

    if (image.width < max && image.height < max) {
      return file;
    }

    return drawCanvasThumbnail(image, file.type, max);
  });
}
function getDominantColor(image) {
  var width = image.width,
      height = image.height;
  var PIXELS_FROM_EDGE = 11;
  var canvas = document.createElement('canvas');
  canvas.width = width;
  canvas.height = height;
  var context = canvas.getContext('2d');
  context.drawImage(image, 0, 0, width, height);
  var transparentPixels = false;
  var colors = [];
  var outlyingColors = [];
  var outlyingColorsList = JSON.stringify([[255, 255, 255], [0, 0, 0]]);
  /*
  Iterate through edge pixels and get the average color, then conditionally
  handle edge colors and transparent images
  */

  for (var x = 0; x < PIXELS_FROM_EDGE; x++) {
    for (var y = 0; y < PIXELS_FROM_EDGE; y++) {
      var pixelData = context.getImageData(x, y, 1, 1).data;
      var color = [pixelData[0], // r
      pixelData[1], // g
      pixelData[2]];
      var colorRegExObject = new RegExp(`(${color})`, 'g');

      if (pixelData[3] < 255) {
        // alpha pixels
        transparentPixels = true;
        break;
      }

      if (outlyingColorsList.match(colorRegExObject)) {
        outlyingColors.push(color);
      } else {
        colors.push(color);
      }
    }
  }

  if (outlyingColors.length > colors.length) {
    colors = outlyingColors;
  }

  if (transparentPixels) {
    return null;
  }

  var colorMap = quantize__WEBPACK_IMPORTED_MODULE_9___default()(colors, 5);

  var _Array$from = Array.from(colorMap.palette()[0]),
      _Array$from2 = _slicedToArray(_Array$from, 3),
      r = _Array$from2[0],
      g = _Array$from2[1],
      b = _Array$from2[2];

  return `rgb(${r},${g},${b})`;
}
function requestFile(callback) {
  var input = document.createElement("input");
  input.type = 'file';
  input.accept = "image/*";

  input.onchange = function (event) {
    var file = event.target.files[0];
    console.log('☔️☔️☔️ input onchange', file);
    callback(file);
  };

  input.click();
  console.log('input created: ', input);
}
function getUserCoverImagePolicy(api, id) {
  return api.get(`users/${id}/cover/policy`);
}
function getTeamAvatarImagePolicy(api, id) {
  return api.get(`teams/${id}/avatar/policy`);
}
function getTeamCoverImagePolicy(api, id) {
  return api.get(`teams/${id}/cover/policy`);
}
function uploadAsset(blob, policy, key) {
  return Object(_s3_uploader__WEBPACK_IMPORTED_MODULE_8__["default"])(policy).upload({
    key: key,
    blob: blob
  });
}
function uploadAssetSizes(blob, policy, sizes, progressHandler) {
  var upload = uploadAsset(blob, policy, 'original');
  upload.progress(progressHandler);
  var scaledUploads = Object.keys(sizes).map(function (tag) {
    return resizeImage(blob, sizes[tag]).then(function (resized) {
      return uploadAsset(resized, policy, tag);
    });
  });
  return Promise.all([upload].concat(_toConsumableArray(scaledUploads)));
}

/***/ }),

/***/ "./src/utils/models.js":
/*!*****************************!*\
  !*** ./src/utils/models.js ***!
  \*****************************/
/*! exports provided: getUrlForModel, getDisplayNameForModel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getUrlForModel", function() { return getUrlForModel; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getDisplayNameForModel", function() { return getDisplayNameForModel; });
/* harmony import */ var _models_collection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../models/collection */ "./src/models/collection.js");
/* harmony import */ var _models_project__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../models/project */ "./src/models/project.js");
/* harmony import */ var _models_team__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../models/team */ "./src/models/team.js");
/* harmony import */ var _models_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../models/user */ "./src/models/user.js");




var getUrlForModel = function getUrlForModel(model, modelType) {
  switch (modelType) {
    case "project":
      return Object(_models_project__WEBPACK_IMPORTED_MODULE_1__["getLink"])(model);

    case "collection":
      return Object(_models_collection__WEBPACK_IMPORTED_MODULE_0__["getLink"])(model);

    case "team":
      return Object(_models_team__WEBPACK_IMPORTED_MODULE_2__["getLink"])(model);

    case "user":
      return Object(_models_user__WEBPACK_IMPORTED_MODULE_3__["getLink"])(model);
  }
};
var getDisplayNameForModel = function getDisplayNameForModel(model, modelType) {
  var thingName;

  switch (modelType) {
    case "project":
      thingName = model.domain;
      break;

    case "user":
      thingName = model.login;
      break;

    case "collection":
    case "team":
      thingName = model.name;
      break;
  }

  return thingName;
};

/***/ }),

/***/ "./src/utils/progress-promise.js":
/*!***************************************!*\
  !*** ./src/utils/progress-promise.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.promise */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.promise.js");
/* harmony import */ var core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/es7.promise.finally */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.promise.finally.js");
/* harmony import */ var core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_2__);



/* harmony default export */ __webpack_exports__["default"] = (ProgressPromise); // Extend promises with `finally`
// From: https://github.com/domenic/promises-unwrapping/issues/18

if (Promise.prototype.finally == null) {
  Promise.prototype.finally = function (callback) {
    // We don’t invoke the callback in here,
    // because we want then() to handle its exceptions
    return this.then( // Callback fulfills: pass on predecessor settlement
    // Callback rejects: pass on rejection (=omit 2nd arg.)
    function (value) {
      return Promise.resolve(callback()).then(function () {
        return value;
      });
    }, function (reason) {
      return Promise.resolve(callback()).then(function () {
        throw reason;
      });
    });
  };
}

if (Promise.prototype._notify == null) {
  Promise.prototype._notify = function (event) {
    return this._progressHandlers.forEach(function (handler) {
      try {
        return handler(event);
      } catch (error) {// empty
      }
    });
  };
}

if (Promise.prototype.progress == null) {
  Promise.prototype.progress = function (handler) {
    if (this._progressHandlers == null) {
      this._progressHandlers = [];
    }

    this._progressHandlers.push(handler);

    return this;
  };
}

function ProgressPromise(fn) {
  var p = new Promise(function (resolve, reject) {
    var notify = function notify() {
      return p._progressHandlers != null ? p._progressHandlers.forEach(function (handler) {
        try {
          return handler(event);
        } catch (error) {//empty
        }
      }) : undefined;
    };

    return fn(resolve, reject, notify);
  });

  p.then = function (onFulfilled, onRejected) {
    var result = Promise.prototype.then.call(p, onFulfilled, onRejected); // Pass progress through

    p.progress(result._notify.bind(result));
    return result;
  };

  return p;
}

/***/ }),

/***/ "./src/utils/s3-uploader.js":
/*!**********************************!*\
  !*** ./src/utils/s3-uploader.js ***!
  \**********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es7.symbol.async-iterator */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es7.symbol.async-iterator.js");
/* harmony import */ var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.symbol */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.symbol.js");
/* harmony import */ var core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.dom.iterable */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/web.dom.iterable.js");
/* harmony import */ var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/es6.regexp.to-string */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.to-string.js");
/* harmony import */ var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/modules/es6.array.from */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.array.from.js");
/* harmony import */ var core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _progress_promise__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./progress-promise */ "./src/utils/progress-promise.js");






function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }


/* eslint-disable */

/*
S3 Uploader
===========

Upload data directly to S3 from the client.

Usage
-----

>     uploader = S3.uploader(JSON.parse(localStorage.S3Policy))
>     uploader.upload
>       key: "myfile.text"
>       blob: new Blob ["radical"]
>       cacheControl: 60 # default 0


The uploader automatically prefixes the key with the namespace specified in the
policy.

A promise is returned that is fulfilled with the url of the uploaded resource.

>     .then (url) -> # "https://s3.amazonaws.com/trinket/18894/myfile.txt"

The promise is rejected with an error if the upload fails.

A progress event is fired with the percentage of the upload that has completed.

The policy is a JSON object with the following keys:

- `accessKey`
- `policy`
- `signature`

Since these are all needed to create and sign the policy we keep them all
together.

Giving this object to the uploader method creates an uploader capable of
asynchronously uploading files to the bucket specified in the policy.

Notes
-----

The policy must specify a `Cache-Control` header because we always try to set it.

License
-------

The MIT License (MIT)

Copyright (c) 2014

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.

*/

/* harmony default export */ __webpack_exports__["default"] = (function (credentials) {
  var policy = credentials.policy,
      signature = credentials.signature,
      accessKeyId = credentials.accessKeyId;

  var _extractPolicyData = extractPolicyData(policy),
      acl = _extractPolicyData.acl,
      bucket = _extractPolicyData.bucket,
      namespace = _extractPolicyData.namespace;

  var bucketUrl = `https://s3.amazonaws.com/${bucket}`;

  var urlFor = function urlFor(key) {
    var namespacedKey = `${namespace}${key}`;
    return `${bucketUrl}/${namespacedKey}`;
  };

  return {
    urlFor: urlFor,
    upload: function upload(_ref) {
      var key = _ref.key,
          blob = _ref.blob,
          cacheControl = _ref.cacheControl;
      console.log('upload called', key); // 2, based on user id

      console.log('using namespace', namespace); // user-cover/2, not sure what it's based on

      var namespacedKey = `${namespace}${key}`;
      var url = urlFor(key);
      return sendForm(bucketUrl, objectToForm({
        key: namespacedKey,
        "Content-Type": blob.type || 'binary/octet-stream',
        "Cache-Control": `max-age=${cacheControl || 31536000}`,
        AWSAccessKeyId: accessKeyId,
        "x-amz-security-token": credentials.sessionToken,
        acl: acl,
        policy: policy,
        signature: signature,
        file: blob
      })).then(function () {
        return `${bucketUrl}/${encodeURIComponent(namespacedKey)}`;
      });
    }
  };
});
;

var getKey = function getKey(conditions, key) {
  var results = conditions.filter(function (condition) {
    return typeof condition === "object";
  }).map(function (object) {
    return object[key];
  }).filter(function (value) {
    return value;
  });
  return results[0];
};

var getNamespaceFromPolicyConditions = function getNamespaceFromPolicyConditions(conditions) {
  return conditions.filter(function (condition) {
    if (Array.isArray(condition)) {
      var _Array$from = Array.from(condition),
          _Array$from2 = _slicedToArray(_Array$from, 3),
          a = _Array$from2[0],
          b = _Array$from2[1],
          c = _Array$from2[2];

      return b === "$key" && (a === "starts-with" || a === "eq");
    }
  })[0][2];
};

var extractPolicyData = function extractPolicyData(policy) {
  var policyObject = JSON.parse(atob(policy));
  var conditions = policyObject.conditions;
  return {
    acl: getKey(conditions, "acl"),
    bucket: getKey(conditions, "bucket"),
    namespace: getNamespaceFromPolicyConditions(conditions)
  };
};

var isSuccess = function isSuccess(request) {
  return request.status.toString()[0] === "2";
};

var sendForm = function sendForm(url, formData) {
  return new _progress_promise__WEBPACK_IMPORTED_MODULE_5__["default"](function (resolve, reject, notify) {
    var request = new XMLHttpRequest();
    request.open("POST", url, true);

    if (request.upload != null) {
      request.upload.onprogress = notify;
    }

    request.onreadystatechange = function (e) {
      if (request.readyState === 4) {
        if (isSuccess(request)) {
          return resolve(request);
        }

        return reject(request);
      }
    };

    return request.send(formData);
  });
};

var objectToForm = function objectToForm(data) {
  var formData;
  return formData = Object.keys(data).reduce(function (formData, key) {
    var value = data[key];

    if (value) {
      formData.append(key, value);
    }

    return formData;
  }, new FormData());
};

/***/ }),

/***/ "./src/utils/sentry.js":
/*!*****************************!*\
  !*** ./src/utils/sentry.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es6.regexp.replace */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.replace.js");
/* harmony import */ var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es6.regexp.constructor */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/core-js/2.6.2/node_modules/core-js/modules/es6.regexp.constructor.js");
/* harmony import */ var core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/browser */ "../rbd/pnpm-volume/99eddafc-6494-4c66-9aa7-8c0b90372419/node_modules/.registry.npmjs.org/@sentry/browser/4.4.1/node_modules/@sentry/browser/dist/index.js");
/* harmony import */ var _sentry_browser__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_sentry_browser__WEBPACK_IMPORTED_MODULE_2__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _sentry_browser__WEBPACK_IMPORTED_MODULE_2__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _sentry_browser__WEBPACK_IMPORTED_MODULE_2__[key]; }) }(__WEBPACK_IMPORT_KEY__));



/* globals ENVIRONMENT, PROJECT_DOMAIN */
//
// This utility wraps the Sentry library so that we can guarantee
// Sentry is initialized before its called.
//
// Only this file shoud import from '@sentry/browser',
// all other users of Sentry should import this file instead.
//



try {
  _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["init"]({
    dsn: 'https://4f1a68242b6944738df12eecc34d377c@sentry.io/1246508',
    environment: ENVIRONMENT,
    beforeSend: function beforeSend(event) {
      var tokens = ['facebookToken', 'githubToken', 'persistentToken'];
      var json = JSON.stringify(event);
      tokens.forEach(function (token) {
        var regexp = new RegExp(`"${token}":"[^"]+"`, 'g');
        json = json.replace(regexp, `"${token}":"****"`);
      });
      return JSON.parse(json);
    }
  });
  _sentry_browser__WEBPACK_IMPORTED_MODULE_2__["configureScope"](function (scope) {
    scope.setTag("PROJECT_DOMAIN", PROJECT_DOMAIN);
  }); // Expose for use on the developer console:

  window.Sentry = _sentry_browser__WEBPACK_IMPORTED_MODULE_2__;
} catch (error) {
  console.warn("Error initializing Sentry", error);
}

/***/ })

/******/ });
//# sourceMappingURL=client.js.map?5e6faacf14241f650820